%14_12_28
% Changes marked "DMC*".  All changes made here are prior to Chapter 1.

%14_12_31
% Chapter 1 and 2 revisions.

%15_01_12
% Chapter 3 revisions.

%17_04_11
%PJC sent this edited file to Ted who sent to David

%17_04_14
% Ch 1, 2, 5 revisions from PJC

%17_04_27
%ted merged changes due to PJ's edits into the official version (this document) and removed DMC/WTM conversations that have been settled.
%WTM replaced all " with '' per now standard latex convention that affects conversion to MBX

%17_04_27
%DMC:  Removed all further DMC/WTM conversations that are now settled in Ch 1 - 8, leaving only a few.  Changed two words marked %DMC.   


\include{JIBLM}
\usepackage{float}
%\usepackage{pict2e} %added to remove warnings about Venn Diagrams, but it makes them ``uglier'' than before...consider revising the illustrations
\usepackage{color}   %May be necessary if you want to color links
\usepackage{hyperref} %this also enables the hyperlinks that you already have embedded %PJC
\hypersetup{ %PJC
    colorlinks=true, %set true if you want colored links
    linktoc=all,     %set to all if you want both sections and subsections linked %PJC
    linkcolor=blue,  %choose some color if you want links to stand out
}




%%%%%%%%%%%%%%%%%%%%% Annotation Environment Switch%%%%%%%%%%%%
%\StudentVersion
\InstructorVersion %pdf should reflect that it is instructor version without need for comparison %PJC
%WTM PJ makes a good point here about PDF reflecting which version I'll add that to my infinite list
%DMC:  Yes, good point.
%%%%%%%%%%%%%%%%%%%%% Annotation Environment Switch%%%%%%%%%%%%
%
\synctex=1 %enables forward and reverse search


\input epsf %for pagedraw files
\newcommand\nin{\noindent}
\newcommand\msk{\medskip}
\newcommand\bsk{\bigskip}
\newcommand\gsk{\giantskip}
\newcommand\ra{\rightarrow}
\newcommand\el{\mathcal L}
\newcommand\ps{\mathcal P}
\newcommand\ba{\mathbf a}
\newcommand\bb{\mathbf b}
\newcommand\bc{\mathbf c}
\newcommand\bd{\mathbf d}
\newcommand\be{\mathbf e}
\newcommand\A{\mathbf A}
\newcommand\B{\mathbf B}
\newcommand\C{\mathbf C}
\newcommand\D{\mathbf D}
\newcommand\G{\mathbf G}
\newcommand\Q{\mathbf P}
\newcommand\R{\mathbb R}
\newcommand\U{\mathbb U}
\newcommand\X{\mathbf X}
\newcommand\Y{\mathbf Y}
\newcommand\Z{\mathbb Z^+}
\newcommand\nat{\mathbb N}
\newcommand\FSA{\mathbb{FSA}}


\newcommand{\lda}{\pmb \lambda}


\newcommand{\tr}{$\blacktriangleright$}
\newcommand{\tl}{$\blacktriangleleft$}
\newcommand{\tu}{$\blacktriangle$}
\newcommand{\td}{$\blacktriangledown$}


%\renewcommand{\emptyset}{\varnothing}

\newenvironment{newlist}
   {\begin{list}{}{\setlength{\labelsep}{.75em}
                   \setlength{\labelwidth}{1.5em}
                   \setlength{\leftmargin}{2.5em}}}
   {\end{list}}

\newtheorem{thm}{Theorem}
\newtheorem{cor}{Corollary}
\newtheorem{qsn}{Question}
\newtheorem{dfn}{Definition}
\newtheorem{prb}{Problem}
\newtheorem{axm}{Axiom}
\newtheorem{expl}{Example}
\newtheorem{lem}[thm]{Lemma}

\def\dsp{\displaystyle}


%\setlength{\headheight}{0in}
%\setlength{\topmargin}{-.7in}
%\setlength{\oddsidemargin}{0in}
%\setlength{\leftmargin}{1in}
%\setlength{\textwidth} {6.5in}
%\setlength{\headwidth}{\textwidth}
%\setlength{\textheight} {10in}

\begin{document}
\large
\frontmatter
\title{Discrete Mathematics}
\author{David M. Clark\hspace{19mm}  \hspace{0mm}  W. Ted Mahavier}
\affiliation{SUNY New Paltz\hspace{18mm} Lamar University\hspace{2mm}${}$\\
${}$\\
\normalsize(Chapter 3:  W.T. Mahavier $<$ E.L. May $<$ K.M. Shannon\footnote{If each of X and Y is an author, then the relation X $<$ Y indicates that the notes were originally authored by Y and subsequently modified by X, who takes full responsibility for the current version. While Y is credited with the genesis of the notes, s/he makes no claim to the accuracy of the current version which may or may not reflect her/his original vision.})
}
\maketitle
\tableofcontents



\begin{annotation}
\chapter{To the Instructor}

The first nine chapters of these notes constitute a three hour, entry-level course in discrete mathematics.  The course targets a broad audience, including computer engineering majors, computer information science majors, computer science majors, mathematics majors and mathematics education majors seeking certification for grades four through twelve.

The current version of the notes spring forth from an enjoyable and fruitful collaboration.  From four different courses taught by David Clark and course material from Kathleen Shannon by way of Lee May, I extracted and rewrote material, leaving no line untouched.  To mold these materials to my needs, I replaced introductory material with leading problems while adding definitions and problems to expedite student successes.  From 2010 - 2015, I taught and refined these notes four times at Lamar University, a regional university of perhaps 11,000 undergraduates, while incorporating feedback from multiple faculty using the notes at other universities.  In 2014, David took a renewed interest and helped proof and update all of the notes, catching errors and helping to further perfect and develop the mathematics into the polished result that you see here.

Aside from the counting material contributed by May and Shannon in Chapter 3, the problems I added, and a few ideas borrowed from Charles A. Coppin and W. S. Mahavier, the material was extracted and modified from the following courses that Clark taught at SUNY New Paltz no less than 32 times between 1973 and 2010.
\begin{enumerate}
\item  MTH 302 Foundations of Mathematics (Chapters 1, 2, 4, 8) [unpublished]
\item  CPS 420 Languages and Machines (Chapters 9, 10) [unpublished]
\item  MTH 320 Discrete Structures (Chapters 1, 4, 8) [unpublished]
\item  MTH 182 Graphs and Optimization (Chapters 5, 6, 7)  [No. 2 (March 2007), JIBLM]
\end{enumerate}

The present version of these notes includes a ``Projects'' section at the end of most chapters and a Chapter 10 at the end of the notes.  This is all extra material that I do not normally cover in my Discrete Mathematics course.  We have included it for the benefit of students who want to go beyond the standard course, or for instructors wanting to go more deeply into some of these topics and perhaps leave out others.  In come cases the material in Chapters 1 and 2 will be sufficiently familiar to students that they could be skipped, leaving time for some of these additional topics.

In my classes students work the problems and take a mid-term and a final, the average of which constitutes half of their grade. The remainder of their grade is determined by the problems they present and discuss in the classroom.   This portion of the grade is subjective since one student may present fewer problems than another and receive a higher presentation grade.  Perhaps this student regularly makes insightful comments during class that help clarify the mathematics for his or her peers.  Or perhaps this student has chosen to present particularly difficult problems that illustrate the theory behind the more computational problems.  At the end of the semester, having observed each student every class period, I know just how much of their heart and soul each student has put into the course, and how much each student has grown mathematically.  It has been a joy to teach this class.
In this class I seem always to have a high level of participation, discussion and mathematical growth across the broad spectrum of majors.  The class is anything but homogenous.  Not only are the majors quite distinct, but the students who take the course range from freshman to senior, some taking it early in their discipline and others having already been exposed to some of the material.  As the instructor, I must take great care to assure that this unlevel playing field does not discourage any students who are seeing much of the material for the first time.

On the first day of the course, I engage the class  by learning names and asking students questions about majors and what mathematics they have studied.   Without addressing the syllabus, how I will grade, or how the course will be conducted, I turn to the mathematics. I introduce a minimal set of definitions and axioms from set theory, along with Venn diagrams, giving the false illusion of an interactive lecture style.  Then I put an elementary problem or two on the board and ask for Venn diagrams, which I encourage students to put on the board.  Finally, I write this problem (Example 2 in the notes), $$\A \cap (\B \cup \C) = (\A \cap \B) \cup (\A \cap \C)$$ on the board and ask them to draw the venn diagrams that would demonstrate either the equality or inequality of these two sets.  Again, a student draws the diagram on the board and we discuss it as a class. Then I ask how we could prove this equality using the set equality axiom, that is, how do we show that $$\A \cap (\B \cup \C) \subseteq (\A \cap \B) \cup (\A \cap \C)?$$  The moment a student feels s/he has made progress, I put the marker in their hand and have them show the class and start a discussion.  And thus the first day sets a relaxed tone of investigating mathematics as a class along with student presentations.   This would be an ideal first class.  Sometimes, we don't make it to this example. Other times, a student merely acts as a secretary while the class as a whole tries to hammer out an argument. Wherever the class ends, I either pass out the first pages of notes or write a few problems on the board that the students are to try to work out during the next class period.  They leave knowing to expect the exact same style of class the next day, students working at the board with the expectation that tomorrow we will have the solutions attempted and resolved before they come to class.  I emphasize that it is fine to go to the board with an attempt that might or might not be a solution.  Students always gain points by going to the board.

In subsequent classes, I address grading and why I conduct class as I do when questions arise or during ``dead time.'' By the end of the second class day, I go over some rules for the presentations.   They are not allowed any external sources for help -- only me and the notes. They are not allowed to present any problem they have seen elsewhere.  They are not allowed to work in teams to solve problems.   My goal is to see what they can do as individuals and what they can produce on their own.  I encourage them to just solve \emph{one} problem and I will be very pleased with them.  And I encourage them to drop by the office when they need help or, if my office hours are not convenient, to email or Facebook me.   I create Facebook groups for all my classes where students upload pictures and videos of class presentations and we sometimes discuss mathematics or teaching questions on these groups.

With the exception of the very first day, the day of the midterm, and the day of the final, every day is identical.  I come to class, determine which students have which problems, and give preference to students who have presented the least.   It is not expected that each student resolves every problem, but rather that each student digs deeply into some problems and has something ready to show, even a failed attempt. Once I've matched the students and the problems, they write them on the board simultaneously while I circulate around the room answering questions about the work they have attempted. The students at the board then explain their work, and the class questions them over it.   Students seem to have a natural grace at helping one another out the ``right'' amount.  By this I mean that if a student is close to correct, then classmates will gently point out errors and allow time for repairs.   If a student is way off base, the class will gently point out why what is stated is incorrect. When the work is correct, or sufficiently close to correct that there is general agreement, we accept the solution. When problems are incorrect, sometimes the student decides to work more and present it again at the next class.  In this case they are expected to put it up before class  starts since they know they are assigned that one. Occasionally, the solution is correct, but the class can't see why. This is common in Chapter 3, Counting.  This is a difficult decision for me and my response depends on the confidence of the student at the board, the complexity of the problem and my perception of what choice will most benefit the student and the class.  I may go to the board and clarify.  Or, I may point out to the student that in industry, whether the solution is right or wrong isn't relevant if the boss doesn't understand it.  And I joke that their bosses won't be as bright as they are and won't have thought as hard about the problem, so the burden is on them to make it sufficiently elementary with examples or good writing so that even the slowest boss can understand and know that the solution is right.  And I'm very good at being very slow at catching on to a solution, right or wrong.    Once problems have been presented, I will foreshadow upcoming definitions, axioms and concepts.  These are not lectures, although I am at the front of the class, with marker in hand.   Rather they are Socratic-style question-and-response sessions.   ``What is an inverse function....''  ``Ok, now I'm confused.... What is a \emph{function}.'' ``Is there an inverse for every function?''  ``What about this one?''  ``I don't know what that means, can you describe the vertical line test in terms of sets of ordered pairs?''  ``The horizontal line test?''   Thus classes end foreshadowing precisely the ideas that are likely to generate success on the next problems, but without working rote examples that illustrate \emph{how} to work upcoming problems.  If they understand the concepts, and the problems and writing are at the right level, they should be able to do the problems.

In an attempt to give a flavor of how I use examples to illustrate concepts, there are a number of endnotes attached to examples and problems.  Together I hope that these endnotes give you a taste of how I conduct my class. These very brief examples and explanations address the mini-lectures that I gave during the most recent iteration.  These vary from semester to semester based on student questions, but are representative of what I emphasize via discussion and examples.   Many of these examples never get discussed if students are making good progress, since student progress takes precedent over my daily plans.    Still, if they are stuck, it's handy to have an example in front of me so that I don't make up an example off the top of my head, only to discover that it is already a problem in the notes!

A few comments are in order to illustrate how I use these notes.   Students work almost all the problems except the projects.   Students are not required to prove the theorems, although I do throw in the problem on proving the binomial theorem and I prove a few theorems in class myself.  I have not found it possible to make it through all the chapters in one semester.  Therefore, I omit all projects.  If one needs to make it to the last chapter, omit the chapter on Set Theory which takes up the first two weeks.  There is one unusual aspect to how I teach the course  because I do not proceed linearly through them, as I don't like segregating material by chapters.  The best Moore Method courses I have ever taught (or taken) have simply been a list of problems.  The advantages of desegregating material is that one can intertwine multiple topics.  If two or more conceptual threads are intertwined, each student has at least twice the odds for success because there are  multiple concepts being addressed on any given day.  If one definition or concept is not understood, perhaps the other will be.  In this course, as soon as one chapter starts to gel, I announce that they may read ahead and tackle problems in the next chapter. Sometimes we tackle two chapters simultaneously.  For example, when we reached the induction chapter this past semester, we worked through both induction and equivalence relations simultaneously. Ultimately, I may intertwine these threads for my own use, but I find that picking up someone else's notes that are written this way makes it challenging to see just what is covered and makes it less attractive to potential users.  Therefore, I have chosen to leave the chapters segregated for publication.

In closing, I am deeply indebted to the Moore Method instructors under whom I studied.  I am equally indebted to the authors who generously passed their notes to me for my use.  I owe thanks to the many students who boldly plowed through earlier, less refined versions of the notes.  And finally, I thank Auston Barnes, an undergraduate who worked through the last two chapters independently as an honors project in order to purge typos and improve several of the problems that gave him pause.
\medskip

\noindent W. Ted Mahavier\\
January 2015

\end{annotation}


\chapter{To the Student}

\noindent
\textbf{How this class works}\\

Every semester I collect written evaluations from my classes and the students who have taken this course have been overwhelmingly positive in their comments.   While challenged by the material and the method, they enjoyed the class.  If you'd like, I'll read random comments from the last semester I taught it. I'll print them out, let you randomly select a number and I'll read that comment.

The reason I open with a discussion of my evaluations, is because this class will be taught in a way that is (most likely) different from any mathematics classes you have encountered in the past.  Most of the class will be devoted to students working problems at the board and half of your grade will be determined by the amount of mathematics that you produce in this class.  I use the word produce because it is my belief that the best way to learn mathematics is by doing mathematics.  Therefore, just as I learned to ride a bike by getting on and falling off, I expect that you will learn mathematics by attempting it and (occasionally) falling off!  You will have a set of notes (you are reading them now) that you will turn into a book by working through the problems.  I urge you to seriously consider the value of becoming an independent thinker who tackles doing mathematics (and everything else in life) on your own, rather than waiting for someone else to show you how to do things.\\

\noindent
\textbf{A common pitfall}\\

There are two ways in which students often approach my classes.  The first is to say, ``I'll wait and see how this works and then see if I like it and put some problems up later in the semester after I catch on.''   Think of the course as a forty yard dash.  Do you really want to wait and see how fast the other runners are before you start running? If you try to do the problems every night, then either you will get a problem (YEA!) and be able to put it on the board or you will struggle with the problem and learn a lot in your struggle.  If you have worked hard on a problem, you may go to the board with your work and show us what you tried.   Doing so will almost surely give you further ideas on how to solve it.  If someone else puts the problem on the board then you will be able to ask questions and help yourself and others understand it, which also counts toward your presentation grade.   And you will be able to say to yourself, ``Ahhhh, now I see where I went wrong and now I can do this one and a few more for next class.''  If you do not try problems each night, then you will watch the student put the problem on the board, but perhaps will not quite catch all the details and when you study for the tests or try the next problems you will have only a loose idea of how to tackle such problems.  Basically, you have seen it only once in this case.  The first student saw it once when s/he tackled it on his own, again when either s/he put it on the board or another student presented it, and a third time when s/he studied for the next test or quiz. Hence the difference between these two approaches is the difference between participating and watching a movie.  I hope that each of you will tackle this course with the attitude that you will learn this material and thus will both enjoy and benefit from the class.\\

\noindent
\textbf{Boardwork}\\

 Because the board work constitutes half of your grade, let's put your mind  at ease regarding this part of the class.  First, by coming to class everyday you will earn a 60\%  on board work.  Every problem you present pushes that grade higher.  You may come  see me anytime for an indication of what grade your current level of participation will  earn you at the end of the semester.  And I give one presentation credit for an office visit  within the first two weeks of the semester.  Here are some rules and  guidelines associated with the board work.
 \begin{enumerate}
 \item Your only sources are to be me and these notes.
 \item You are not allowed external materials (web, books, etc.).
 \item You are not allowed to work with or ask questions of other individuals (friends, classmates, teachers, etc.).
 \item You may not present a problem that you have seen in another class.
 \item If there is a problem that you have spent a lot of time on and you don't want to see a solution to it yet, you may
 step out of the room while it is presented and turn it in for some credit.
 \end{enumerate}
  I will call for volunteers every day and will pick the person with the least presentations to present a given problem.  You may inform me that you have a problem in advance (which I appreciate), but the problem still goes to the person with the least presentations on the day I call for solutions.  Ties are broken either randomly (at the beginning) or by test grades (lower test grades taking priority).  A student who has not gone to the board on a given day will be given precedence over a student who has gone to the board that day.  To ``present'' a problem at the board means to have written the problem statement up, to have written a correct solution using complete mathematical sentences, and to have answered all students' questions regarding the problem.  When you have worked hard on a problem, even if you aren't sure your work is correct, \emph{go to the board}.  Going to the board can only help your grade. Since you will be communicating  with other students in class on a regular basis, here are several guidelines that will help you. Remember that the whole class is on your side because everyone wants to see the problem presented correctly and to understand it.

When you speak, don't use the words ``obvious,'' ``stupid,'' or ``trivial.''  Don't attack anyone personally or try to intimidate anyone.  Don't get mad or upset at anyone, even yourself.  And if you do, try to get over it quickly.  Don't be upset when you make a mistake - brush it off and learn from it.  Don't let anything go on the board that you don't fully understand. Don't say to yourself, ``I'll figure this out at home.''  Don't use concepts we have not defined. Don't try to put up a problem you have not written up.

Do prepare arguments in advance.  Do be polite and respectful.  Do learn from your mistakes. Do ask questions such as, ``Can you tell me how you got the third line?''  Do let people answer when they are asked a question.  Do refer to earlier results and definitions by number when possible. For example, ``by Definition 29'' we know that...\\

\noindent
\textbf{How to study}

\begin{enumerate}
\item Read over your notes from class \emph{every} day.
\item Make a list of questions to ask at the beginning of the next class.
\item Review the recent problems.
\item Work on \emph{several} new problems.
\item Write up as many solutions as you can so that you can simply copy your
solutions onto the board the next day.
\end{enumerate}

Some problems are hard.   If you don't get one, don't give up on it.  Move on to another problem and come back to that problem later.  The problems worth solving in life are not solved in five minutes.\\

\noindent
\textbf{What is discrete mathematics?}\\

The word ``discrete'' means finite in this setting.   Thus, discrete mathematics means the study of the topics in mathematics that can be approached without using infinite sets.  Even so, you'll see a few infinite sets in the course.
\medskip

\noindent W. Ted Mahavier\\
January 2015






\mainmatter

\chapter{Sets}

Every mathematics, science, and engineering course uses sets, the basic building blocks of mathematics, so we start here.  It might seem that we should start with numbers.  However, set theory is required to do a mathematically rigorous development of the numbers as well, so sets are the best starting point.

We won't define the words ``element,'' ``set'' and ``universe.''  Rather, we will rely on our intuition. We will consider a \textbf{set} to be a collection of \textbf{elements} coming from some \textbf{universe} $\U$ of elements.  For example, if we are talking about numbers, our universe might be the set of all real numbers or might be the set of all integers.  If we are talking about animals, our universe might be all animals in the San Diego Zoo or it might be all animals on this planet.


\begin{axm}
\textbf{Containment.}
If $\A$ is a set, then for each element $x$ in $\U$ either $x$ is in $\A$ (written $x\in \A$) or $x$ is not in $\A$ (written $x \not \in \A$).
\end{axm}

\begin{dfn}
If $\A$ and $\B$ are sets and every element of $\A$ is also in $\B,$ then we say that $\A$ is a \textbf{subset} of $\B$ and write $\A \subseteq \B$ .
\end{dfn}

\begin{axm}\label{seteq}
\textbf{Set Equality.} If $\A$ and $\B$ are sets that have the same elements (that is, $\A \subseteq \B$ and $\B \subseteq \A$), then we say that $\A$ and $\B$ are the same set and write $\A = \B$.
\end{axm}

\begin{axm}
\textbf{Set Specification.} If\/ $\Q$ is a property that each element in $\U$ either has or does not have, then there is a set, denoted by  $$ \{x \in \U \mid  x \mbox{ has property }  \Q \},$$ whose elements are exactly those elements in $\U$ having property~$\Q$.
\end{axm}

\begin{dfn}
The set $\R$ is the set of all real numbers.
\end{dfn}

\begin{expl}
Are the sets $\dsp \A = \{ (x,y)  \mid  x\in \R \mbox{ and } x=\sqrt{y} \}$ and $\dsp \B = \{ (x,y)  \mid  x\in \R \mbox{ and } x^2 = y \}$ the same sets? What are some elements of $\A$?  Of\/ $\B$?
\begin{annotation}
\endnote{My primary goal on the first day, is to have some students write some simple solutions on the board. This seems a simple example, but my goals are many.  I want to give concrete examples of two sets, to illustrate Set Specification Axiom, and to foreshadow the question of when two functions are equal.  While I won't define function here, I will ask if these sets are the same.  By getting them to list (at the board) elements of each set and perhaps even graph each collection of ordered pairs, I'll illustrate the notation we will use and we'll prove that one of these sets is a subset of the other, but not vice versa.   Thus we will illustrate the notion of a proof and of a counter-example. With any luck at all, by the time we've discussed this example, I'll already have multiple students having gone to the board to answer the questions I ask.  And I'll have politely asked them elementary questions that they can answer at the board.}
\end{annotation}
\end{expl}


\begin{dfn}
The \textbf{empty set} is the set having no members, $$   \emptyset = \{x \in \U \mid  x   \ne x\}.   $$
\end{dfn}

We can construct new sets from old using the Set Specification Axiom.

\begin{dfn}
Let $\A$ and $\B$ be sets.   The \textbf{intersection} of $\A$ and $\B$ is the set
$$   \A \cap \B = \{x \in \U \mid x \in \A \ \mbox{ and } \ x \in \B\}.   $$
\end{dfn}

\begin{dfn}
Let $\A$ and $\B$ be sets.  The \textbf{union} of $\A$ and $\B$ is the set $$   \A \cup \B = \{x \in \U \mid x \in \A \ \mbox{ or } \ x \in \B\}.   $$
\end{dfn}

\begin{dfn}
Let $\B$ be a set.  The \textbf{complement} of $\B$ is the set $$   \sim \B = \{x \in \U \mid  x \not \in \B\}.   $$
\end{dfn}

\begin{dfn}
Let $\A$ and $\B$ be sets.  The \textbf{difference} between $\A$ and $\B$ is the set $$   \A \sim \B = \A \cap (\sim \B).   $$
\end{dfn}

The following illustrations are \textbf{Venn diagrams} for the sets just defined.

   \setlength{\unitlength}{1mm}
   \begin{picture}(160,30)(20,0)
   \put(15,0){%A-int-B
   \put(0,0){\line(1,0){30}} \put(0,20){\line(1,0){30}}
   \put(0,0){\line(0,1){20}} \put(30,0){\line(0,1){20}}
   \put(10,10){\circle{15}} \put(20,10){\circle{15}}
   %
   \put(9,9){$\A$}\put(19,9){$\B$}
   %
   \multiput(14,11)(1,0){3}{\circle*{.5}}
   \multiput(14,12)(1,0){3}{\circle*{.5}}
   \multiput(14,13)(1,0){3}{\circle*{.5}}
   \multiput(15,14)(1,0){1}{\circle*{.5}}
   %
   \multiput(14,10)(1,0){4}{\circle*{.5}}
   %
   \multiput(14,9)(1,0){3}{\circle*{.5}}
   \multiput(14,8)(1,0){3}{\circle*{.5}}
   \multiput(14,7)(1,0){3}{\circle*{.5}}
   \multiput(15,6)(1,0){1}{\circle*{.5}}}

   \put(50,0){%A-union-B
   \put(0,0){\line(1,0){30}} \put(0,20){\line(1,0){30}}
   \put(0,0){\line(0,1){20}} \put(30,0){\line(0,1){20}}
   \put(10,10){\circle{15}} \put(20,10){\circle{15}}
   %
   \put(9,9){$\A$}\put(19,9){$\B$}
   %
   \multiput(4,11)(1,0){13}{\circle*{.5}}
   \multiput(4,12)(1,0){13}{\circle*{.5}}
   \multiput(4,13)(1,0){13}{\circle*{.5}}
   \multiput(5,14)(1,0){11}{\circle*{.5}}
   \multiput(6,15)(1,0){9}{\circle*{.5}}
   \multiput(7,16)(1,0){7}{\circle*{.5}}
   \multiput(10,17)(1,0){1}{\circle*{.5}}
   %
   \multiput(3,10)(1,0){14}{\circle*{.5}}
   %
   \multiput(4,9)(1,0){13}{\circle*{.5}}
   \multiput(4,8)(1,0){13}{\circle*{.5}}
   \multiput(4,7)(1,0){13}{\circle*{.5}}
   \multiput(5,6)(1,0){11}{\circle*{.5}}
   \multiput(6,5)(1,0){9}{\circle*{.5}}
   \multiput(7,4)(1,0){7}{\circle*{.5}}
   \multiput(10,3)(1,0){1}{\circle*{.5}}
   %
   \multiput(26,11)(-1,0){9}{\circle*{.5}}
   \multiput(26,12)(-1,0){10}{\circle*{.5}}
   \multiput(26,13)(-1,0){10}{\circle*{.5}}
   \multiput(25,14)(-1,0){10}{\circle*{.5}}
   \multiput(24,15)(-1,0){9}{\circle*{.5}}
   \multiput(23,16)(-1,0){7}{\circle*{.5}}
   \multiput(20,17)(-1,0){1}{\circle*{.5}}
   %
   \multiput(27,10)(-1,0){10}{\circle*{.5}}
   %
   \multiput(26,9)(-1,0){9}{\circle*{.5}}
   \multiput(26,8)(-1,0){10}{\circle*{.5}}
   \multiput(26,7)(-1,0){10}{\circle*{.5}}
   \multiput(25,6)(-1,0){10}{\circle*{.5}}
   \multiput(24,5)(-1,0){9}{\circle*{.5}}
   \multiput(23,4)(-1,0){7}{\circle*{.5}}
   \multiput(20,3)(-1,0){1}{\circle*{.5}} }

   \put(85,0){%A~B
   \put(0,0){\line(1,0){30}} \put(0,20){\line(1,0){30}}
   \put(0,0){\line(0,1){20}} \put(30,0){\line(0,1){20}}
   \put(10,10){\circle{15}} \put(20,10){\circle{15}}
   %
   \put(9,9){$\A$}\put(19,9){$\B$}
   %
   \multiput(4,11)(1,0){9}{\circle*{.5}}
   \multiput(4,12)(1,0){10}{\circle*{.5}}
   \multiput(4,13)(1,0){10}{\circle*{.5}}
   \multiput(5,14)(1,0){10}{\circle*{.5}}
   \multiput(6,15)(1,0){9}{\circle*{.5}}
   \multiput(7,16)(1,0){7}{\circle*{.5}}
   \multiput(10,17)(1,0){1}{\circle*{.5}}
   %
   \multiput(3,10)(1,0){10}{\circle*{.5}}
   %
   \multiput(4,9)(1,0){9}{\circle*{.5}}
   \multiput(4,8)(1,0){10}{\circle*{.5}}
   \multiput(4,7)(1,0){10}{\circle*{.5}}
   \multiput(5,6)(1,0){10}{\circle*{.5}}
   \multiput(6,5)(1,0){9}{\circle*{.5}}
   \multiput(7,4)(1,0){7}{\circle*{.5}}
   \multiput(10,3)(1,0){1}{\circle*{.5}} }

   \put(120,0){%~B
   \put(0,0){\line(1,0){30}} \put(0,20){\line(1,0){30}}
   \put(0,0){\line(0,1){20}} \put(30,0){\line(0,1){20}}
   \put(10,10){\circle{15}} \put(20,10){\circle{15}}
   %
   \put(9,9){$\A$}\put(19,9){$\B$}
   %
   \multiput(0,0)(1,0){30}{\circle*{.5}}
   \multiput(0,1)(1,0){30}{\circle*{.5}}
   \multiput(0,2)(1,0){30}{\circle*{.5}}
   \multiput(0,3)(1,0){30}{\circle*{.5}}
   \multiput(0,4)(1,0){17}{\circle*{.5}}
   \multiput(0,5)(1,0){16}{\circle*{.5}}
   \multiput(0,6)(1,0){15}{\circle*{.5}}
   \multiput(0,7)(1,0){14}{\circle*{.5}}
   \multiput(0,8)(1,0){14}{\circle*{.5}}
   \multiput(0,9)(1,0){14}{\circle*{.5}}
   %
   \multiput(0,10)(1,0){14}{\circle*{.5}}
   %
   \multiput(0,11)(1,0){14}{\circle*{.5}}
   \multiput(0,12)(1,0){14}{\circle*{.5}}
   \multiput(0,13)(1,0){14}{\circle*{.5}}
   \multiput(0,14)(1,0){15}{\circle*{.5}}
   \multiput(0,15)(1,0){16}{\circle*{.5}}
   \multiput(0,16)(1,0){17}{\circle*{.5}}
   \multiput(0,17)(1,0){30}{\circle*{.5}}
   \multiput(0,18)(1,0){30}{\circle*{.5}}
   \multiput(0,19)(1,0){30}{\circle*{.5}}
   %
   \multiput(27,11)(1,0){3}{\circle*{.5}}
   \multiput(27,12)(1,0){3}{\circle*{.5}}
   \multiput(27,13)(1,0){3}{\circle*{.5}}
   \multiput(26,14)(1,0){4}{\circle*{.5}}
   \multiput(25,15)(1,0){5}{\circle*{.5}}
   \multiput(24,16)(1,0){6}{\circle*{.5}}
   %
   \multiput(28,10)(1,0){2}{\circle*{.5}}
   %
   \multiput(27,9)(1,0){3}{\circle*{.5}}
   \multiput(27,8)(1,0){3}{\circle*{.5}}
   \multiput(27,7)(1,0){3}{\circle*{.5}}
   \multiput(26,6)(1,0){4}{\circle*{.5}}
   \multiput(25,5)(1,0){5}{\circle*{.5}}
   \multiput(24,4)(1,0){6}{\circle*{.5}}}
   \end{picture}

$$   \A\cap \B \qquad\qquad\qquad \A\cup \B \qquad\qquad\qquad \A \sim   \B \qquad\qquad\qquad \sim \B  $$

Different expressions might represent the same set as illustrated by the next example, which together with Problem \ref{pp} will show that $$\A \cap (\B \cup \C) = (\A \cap \B) \cup (\A \cap \C).$$

\begin{expl}
\label{e1}
For every choice of sets $\A, \B$ and $\C$,
\center{$\dsp \A \cap (\B \cup \C) \subseteq (\A \cap \B) \cup (\A \cap \C).$}
 \begin{annotation}
\endnote{After I illustrate the initial words (set, axiom, universe, venn diagrams, etc.) with the
 most basic of examples, I put this problem on the board and ask them to draw Venn diagrams that demonstrate this.  Then
 I ask how we could prove it using the set equality axiom, that is, how do we show that
 $$\A \cap (\B \cup \C) \subseteq (\A \cap \B) \cup (\A \cap \C)?$$  The moment a student feels s/he has made progress,
 I put the marker in his or her hand and have them show the class to start a discussion.

   \setlength{\unitlength}{1mm}
   \begin{picture}(160,30)(20,0)
   \put(30,0){%A
   \put(0,0){\line(1,0){30}} \put(0,30){\line(1,0){30}}
   \put(0,0){\line(0,1){30}} \put(30,0){\line(0,1){30}}
   \put(10,10){\circle{15}} \put(20,10){\circle{15}}
   \put(15,20){\circle{15}}
   %
   \put(9,9){A} \put(19,9){B} \put(14,19){C}
   %
   \multiput(4,11)(1,0){13}{\circle*{.5}}
   \multiput(4,12)(1,0){13}{\circle*{.5}}
   \multiput(4,13)(1,0){13}{\circle*{.5}}
   \multiput(5,14)(1,0){11}{\circle*{.5}}
   \multiput(6,15)(1,0){9}{\circle*{.5}}
   \multiput(7,16)(1,0){7}{\circle*{.5}}
   \multiput(10,17)(1,0){1}{\circle*{.5}}
   %
   \multiput(3,10)(1,0){14}{\circle*{.5}}
   %
   \multiput(4,9)(1,0){13}{\circle*{.5}}
   \multiput(4,8)(1,0){13}{\circle*{.5}}
   \multiput(4,7)(1,0){13}{\circle*{.5}}
   \multiput(5,6)(1,0){11}{\circle*{.5}}
   \multiput(6,5)(1,0){9}{\circle*{.5}}
   \multiput(7,4)(1,0){7}{\circle*{.5}}
   \multiput(10,3)(1,0){1}{\circle*{.5}}}

   \put(65,0){%B-union-C
   \put(0,0){\line(1,0){30}} \put(0,30){\line(1,0){30}}
   \put(0,0){\line(0,1){30}} \put(30,0){\line(0,1){30}}
   \put(10,10){\circle{15}} \put(20,10){\circle{15}}
   \put(15,20){\circle{15}}
   %
   \put(9,9){A} \put(19,9){B} \put(14,19){C}
   %
   \multiput(14,11)(1,0){13}{\circle*{.5}}
   \multiput(14,12)(1,0){13}{\circle*{.5}}
   \multiput(14,13)(1,0){13}{\circle*{.5}}
   \multiput(19,14)(1,0){7}{\circle*{.5}}
   \multiput(20,15)(1,0){5}{\circle*{.5}}
   \multiput(21,16)(1,0){3}{\circle*{.5}}
   %
   \multiput(13,10)(1,0){14}{\circle*{.5}}
   %
   \multiput(14,9)(1,0){13}{\circle*{.5}}
   \multiput(14,8)(1,0){13}{\circle*{.5}}
   \multiput(14,7)(1,0){13}{\circle*{.5}}
   \multiput(15,6)(1,0){11}{\circle*{.5}}
   \multiput(16,5)(1,0){9}{\circle*{.5}}
   \multiput(17,4)(1,0){7}{\circle*{.5}}
   \multiput(20,3)(1,0){1}{\circle*{.5}}
   %
   \multiput(9,21)(1,0){13}{\circle*{.5}}
   \multiput(9,22)(1,0){13}{\circle*{.5}}
   \multiput(9,23)(1,0){13}{\circle*{.5}}
   \multiput(10,24)(1,0){11}{\circle*{.5}}
   \multiput(11,25)(1,0){9}{\circle*{.5}}
   \multiput(12,26)(1,0){7}{\circle*{.5}}
   \multiput(15,27)(1,0){1}{\circle*{.5}}
   %
   \multiput(8,20)(1,0){14}{\circle*{.5}}
   %
   \multiput(9,19)(1,0){13}{\circle*{.5}}
   \multiput(9,18)(1,0){13}{\circle*{.5}}
   \multiput(9,17)(1,0){13}{\circle*{.5}}
   \multiput(10,16)(1,0){11}{\circle*{.5}}
   \multiput(11,15)(1,0){9}{\circle*{.5}}
   \multiput(12,14)(1,0){7}{\circle*{.5}}
   \multiput(15,13)(1,0){1}{\circle*{.5}}}

   \put(100,0){%A-int-(B-union-C)
   \put(0,0){\line(1,0){30}} \put(0,30){\line(1,0){30}}
   \put(0,0){\line(0,1){30}} \put(30,0){\line(0,1){30}}
   \put(10,10){\circle{15}} \put(20,10){\circle{15}}
   \put(15,20){\circle{15}}
   %
   \put(9,9){A} \put(19,9){B} \put(14,19){C}
   %
   \multiput(14,11)(1,0){4}{\circle*{.5}}
   \multiput(14,12)(1,0){3}{\circle*{.5}}
   \multiput(14,13)(1,0){3}{\circle*{.5}}
   \multiput(15,14)(1,0){1}{\circle*{.5}}
   %
   \multiput(13,10)(1,0){5}{\circle*{.5}}
   %
   \multiput(14,9)(1,0){4}{\circle*{.5}}
   \multiput(14,8)(1,0){3}{\circle*{.5}}
   \multiput(14,7)(1,0){3}{\circle*{.5}}
   \multiput(15,6)(1,0){1}{\circle*{.5}}
   %
   \multiput(9,17)(1,0){2}{\circle*{.5}}
   \multiput(10,16)(1,0){4}{\circle*{.5}}
   \multiput(11,15)(1,0){5}{\circle*{.5}}
   \multiput(12,14)(1,0){4}{\circle*{.5}}
   \multiput(15,13)(1,0){1}{\circle*{.5}}}

   \end{picture}
   $$
   \qquad \A \qquad\qquad\qquad \B \cup \C \qquad\qquad \A \cap (\B
   \cup \C)
   $$
   \msk

   \setlength{\unitlength}{1mm}
   \begin{picture}(160,30)(20,0)
   \put(30,0){%A-int-B
   \put(0,0){\line(1,0){30}} \put(0,30){\line(1,0){30}}
   \put(0,0){\line(0,1){30}} \put(30,0){\line(0,1){30}}
   \put(10,10){\circle{15}} \put(20,10){\circle{15}}
   \put(15,20){\circle{15}}
   %
   \put(9,9){A} \put(19,9){B} \put(14,19){C}
   %
   \multiput(14,11)(1,0){3}{\circle*{.5}}
   \multiput(14,12)(1,0){3}{\circle*{.5}}
   \multiput(14,13)(1,0){3}{\circle*{.5}}
   \multiput(15,14)(1,0){1}{\circle*{.5}}
   %
   \multiput(14,10)(1,0){4}{\circle*{.5}}
   %
   \multiput(14,9)(1,0){3}{\circle*{.5}}
   \multiput(14,8)(1,0){3}{\circle*{.5}}
   \multiput(14,7)(1,0){3}{\circle*{.5}}
   \multiput(15,6)(1,0){1}{\circle*{.5}}}

   \put(65,0){%A-int-C
   \put(0,0){\line(1,0){30}} \put(0,30){\line(1,0){30}}
   \put(0,0){\line(0,1){30}} \put(30,0){\line(0,1){30}}
   \put(10,10){\circle{15}} \put(20,10){\circle{15}}
   \put(15,20){\circle{15}}
   %
   \put(9,9){A} \put(19,9){B} \put(14,19){C}
   %
   \multiput(9,17)(1,0){2}{\circle*{.5}}
   \multiput(10,16)(1,0){4}{\circle*{.5}}
   \multiput(11,15)(1,0){5}{\circle*{.5}}
   \multiput(12,14)(1,0){4}{\circle*{.5}}}

   \put(100,0){%(A-int-B)-union-(A-int-C)
   \put(0,0){\line(1,0){30}} \put(0,30){\line(1,0){30}}
   \put(0,0){\line(0,1){30}} \put(30,0){\line(0,1){30}}
   \put(10,10){\circle{15}} \put(20,10){\circle{15}}
   \put(15,20){\circle{15}}
   %
   \put(9,9){A} \put(19,9){B} \put(14,19){C}
   %
   \multiput(14,11)(1,0){4}{\circle*{.5}}
   \multiput(14,12)(1,0){3}{\circle*{.5}}
   \multiput(14,13)(1,0){3}{\circle*{.5}}
   \multiput(15,14)(1,0){1}{\circle*{.5}}
   %
   \multiput(13,10)(1,0){5}{\circle*{.5}}
   %
   \multiput(14,9)(1,0){4}{\circle*{.5}}
   \multiput(14,8)(1,0){3}{\circle*{.5}}
   \multiput(14,7)(1,0){3}{\circle*{.5}}
   \multiput(15,6)(1,0){1}{\circle*{.5}}
   %
   \multiput(9,17)(1,0){2}{\circle*{.5}}
   \multiput(10,16)(1,0){4}{\circle*{.5}}
   \multiput(11,15)(1,0){5}{\circle*{.5}}
   \multiput(12,14)(1,0){4}{\circle*{.5}}
   \multiput(15,13)(1,0){1}{\circle*{.5}}}

   \end{picture}
   $$   \qquad \A \cap \B \qquad\qquad\qquad \A \cap \C \qquad   (\A \cap \B) \cup (\A \cap \C)   $$
   \goodbreak

  To prove this via the \emph{Set Equality Axiom}, we must show that every element in the set on left side of the equal sign must be in the set on the right side of the equal sign and vice-versa.  We make progress on the first part in class, hopefully completing it and leaving the second part for homework (Problem 1).  If we don't complete the first part, it becomes Problem 0.

   \noindent
   \textsf{Proof.}\\
   Let $\A$,$\B$, and $\C$ be sets.\\
   We wish to show that $\A \cap (\B \cup \C) \subseteq (\A \cap \B) \cup (\A \cap \C).$\\
   Let $x \in \A \cap (\B \cup \C)$. \\
   Then $x \in \A$, and $x \in \B \cup \C$.\\
   So $x \in \A$, and either $x \in \B$ or $x \in \C$.
   \begin{description}
   \item{Case 1.} $x \in \B$. Then $x \in \A \cap \B$ and therefore $x
   \in (\A \cap \B) \cup (\A\cap \C)$.
   \item{Case 2.} $x \in \C$. Then $x \in \A \cap \C$ and therefore $x
   \in (\A \cap \B) \cup (\A \cap \C)$.
   \end{description}

   \nin In both cases we conclude that $x \in (\A \cap \B) \cup (\A  \cap \C)$.}
\end{annotation}
\end{expl}

For Problems $1 - 19$ we will assume that $\A, \B,$ and $\C$ are sets of elements from some universe $\U$.
    \begin{prb}
    \label{pp}
     Show that $(\A \cap \B) \cup (\A \cap \C) \subseteq \A \cap (\B \cup \C).$
    \end{prb}


\nin You are already familiar with operations on numbers such as addition, subtraction, multiplication, and division ($+$, $-$, $*$, $\div$).
We have introduced the operations on sets such as intersection, union, and difference ($\cap$, $\cup$, and $\sim$).  Soon, we will
introduce more set operations, including $\times$, $\oplus$ and $\circ$.  All of these number and set operations are referred to as
\textbf{binary operations} because each operation takes two inputs.

\bigskip

For the next few problems, illustrate each of the following identities with Venn Diagrams \emph{and} write down a proof
using the Set Equality Axiom.

\begin{prb}
The Commutative Laws
\begin{enumerate}
\item $\A \cap \B = \B \cap \A$
\item $\A \cup \B = \B \cup \A$
\end{enumerate}
\end{prb}

\begin{prb}
The Associative Laws
\begin{enumerate}
\item  $\A \cap (\B \cap \C) = (\A \cap \B) \cap \C$
\item  $\A \cup (\B \cup \C) = (\A \cup \B) \cup \C$
\end{enumerate}
\end{prb}

\begin{prb}
Ask one question that you have after reading the introduction.
\end{prb}

\begin{prb}

The Distributive Laws
\begin{enumerate}
\item  $\A \cup (\B \cap \C) = (\A \cup \B) \cap (\A \cup \C)$
\item  $\A \cap (\B \cup \C) = (\A \cap \B) \cup (\A \cap \C)$
\end{enumerate}
\end{prb}

\begin{prb}
The Absorption Laws
\begin{enumerate}
\item $\A \cup (\A \cap \B) = \A$
\item $\A \cap (\A \cup \B) = \A$
\end{enumerate}
\end{prb}

For the next problem, it is helpful to make the observation about the empty set that  \emph{any} statement starting with ``If $x \in \emptyset$, then \dots'' is a true statement. For example, the statement ``If $x \in \emptyset$, then $x$ is a seven-headed dog.'' is a true statement.  Why? Because the only way that statement could be false would be to have some value of $x$ such that $x \in \emptyset$ but $x$ was not a seven-headed dog. But there is no such $x$ since there is nothing in the empty set.

\begin{prb}
The Identity Laws
\begin{enumerate}
\item  $\A \cup \emptyset = \A$
\item  $\A \cap \U = \A$
\end{enumerate}
\end{prb}

\begin{prb}
The Inverse Laws
\begin{enumerate}
\item $\A \cup \sim \A = \U$
\item $\A \cap \sim \A = \emptyset$
\end{enumerate}
\end{prb}

\begin{prb}
DeMorgan's Laws
\begin{enumerate}
\item $\sim(\A \cap \B) = \sim\A \cup \sim \B$
\item $\sim(\A \cup \B) = \sim\A \cap \sim \B$
\end{enumerate}
\end{prb}

\begin{dfn}
The \textbf{symmetric difference} between sets $\A$ and $\B$ is defined by $$\A \oplus \B = (\A \cup \B) \sim (\A \cap \B). $$
\end{dfn}
We illustrate $\A \oplus \B$ via a Venn diagram.

   \setlength{\unitlength}{1mm}
   \begin{picture}(160,30)(20,0)
   \put(67,5){%(A-union-B)~(A-int-B)
   \put(0,0){\line(1,0){30}} \put(0,20){\line(1,0){30}}
   \put(0,0){\line(0,1){20}} \put(30,0){\line(0,1){20}}
   \put(10,10){\circle{15}} \put(20,10){\circle{15}}
   %
   \put(9,9){A}\put(19,9){B}
   %
   \multiput(26,11)(-1,0){9}{\circle*{.5}}
   \multiput(26,12)(-1,0){10}{\circle*{.5}}
   \multiput(26,13)(-1,0){10}{\circle*{.5}}
   \multiput(25,14)(-1,0){10}{\circle*{.5}}
   \multiput(24,15)(-1,0){9}{\circle*{.5}}
   \multiput(23,16)(-1,0){7}{\circle*{.5}}
   \multiput(20,17)(-1,0){1}{\circle*{.5}}
   %
   \multiput(27,10)(-1,0){10}{\circle*{.5}}
   %
   \multiput(26,9)(-1,0){9}{\circle*{.5}}
   \multiput(26,8)(-1,0){10}{\circle*{.5}}
   \multiput(26,7)(-1,0){10}{\circle*{.5}}
   \multiput(25,6)(-1,0){10}{\circle*{.5}}
   \multiput(24,5)(-1,0){9}{\circle*{.5}}
   \multiput(23,4)(-1,0){7}{\circle*{.5}}
   \multiput(20,3)(-1,0){1}{\circle*{.5}}
   %
   \multiput(4,11)(1,0){9}{\circle*{.5}}
   \multiput(4,12)(1,0){10}{\circle*{.5}}
   \multiput(4,13)(1,0){10}{\circle*{.5}}
   \multiput(5,14)(1,0){10}{\circle*{.5}}
   \multiput(6,15)(1,0){9}{\circle*{.5}}
   \multiput(7,16)(1,0){7}{\circle*{.5}}
   \multiput(10,17)(1,0){1}{\circle*{.5}}
   %
   \multiput(3,10)(1,0){10}{\circle*{.5}}
   %
   \multiput(4,9)(1,0){9}{\circle*{.5}}
   \multiput(4,8)(1,0){10}{\circle*{.5}}
   \multiput(4,7)(1,0){10}{\circle*{.5}}
   \multiput(5,6)(1,0){10}{\circle*{.5}}
   \multiput(6,5)(1,0){9}{\circle*{.5}}
   \multiput(7,4)(1,0){7}{\circle*{.5}}
   \multiput(10,3)(1,0){1}{\circle*{.5}} }
   \end{picture}

\begin{prb}
$\A \oplus \B = (\A \sim \B) \cup (\B \sim \A)$
\end{prb}

\begin{prb}
$\A \oplus (\B \oplus \C) = (\A \oplus \B) \oplus \C$
\end{prb}

\begin{expl}
Does    $$  \A \oplus (\B \cup \C) = (\A \oplus \B) \cup (\A \oplus \C) ? $$ Restated, does $\oplus$ distribute over $\cup$?
\begin{annotation}
\endnote{I don't always consider this example.  Sometimes, it is needed for clarification, but often it is not. If there is dead time and it might help, I start discussing what they already know -- that intersection distributes over union and addition distributes over multiplication to make connections to other things they know. Then we investigate the example in class using random sets.  For example, we might consider the sets
   $$  \A = \{0,1,2,3\} \qquad \B = \{2,3,4,5,6\} \qquad \C =  \{2,3,6,7,8\}.  $$

   \nin If we compute both sides of our expression, we have:
   $$
   \A \oplus (\B \cup \C) = \{0,1,4,5,6,7,8\} = (\A \oplus \B) \cup
   (\A \oplus \C)
   $$
   This does not mean that $\A \oplus (\B \cup \C) = (\A \oplus \B) \cup
   (\A \oplus \C)$ for all sets.  Trying
   $$
   \A = \{1,2,3\} \qquad \B = \{1,4,5\} \qquad \C = \{3,5,6\}
   $$
   we get
   $$
   \A \oplus (\B \cup \C) = \{2,4,5,6\}
   $$
   but
   $$
   (\A \oplus \B) \cup (\A \oplus \C) = \{1,2,3,4,5,6\}.
   $$
   This is what we call a \textbf{counterexample}, as it shows us that the statement is not always true.}
\end{annotation}
\end{expl}

It is likely that you ``know'' what an ordered pair is from previous courses, but unlikely that you have ever seen a precise definition.  The next two problems make precise the notion of ordered pairs. 
\begin{annotation}
\endnote{The next two problems may be omitted if the instructor wishes to save a bit of time.  Students all have an intuition for ordered pairs from their experiences graphing points in previous courses.  Still, it is unlikely that they have ever seen a precise definition.  Furthermore, it has been my experience that students in upper-division courses often do not know the difference between an ordered n-tuple and a set of n elements.  While it is not necessary (or possible) to define every notion, I find part of the beauty of mathematics to be the definitions.   Thus, I like to at least point out to my students that even though they know the difference between $\{a,b\}$ and $(a,b)$ (which some of them don't, so I'm being positive and giving them the benefit of the doubt), the notation $(a,b)$ can be defined precisely in a way so that the properties we want it to have are in fact the properties that it will have due to the definition. Sometimes challenging problems like these remain outstanding for a week and I'll ask about them.  If no student takes the challenge, we just work with ordered pairs and don't bother to work Problem \ref{OrdPair}.}
\end{annotation}


\begin{prb}
\label{fail}
Suppose that each of a, b, c and d is an element. For each statement, determine if it is true or false.
\begin{enumerate}
\item If \{a, b\} = \{c, d\}, \ \text{then} \ a = c \ \text{and} \ b = d.
\item If \ a = c \ \text{and} \ b = d, \ \text{then} \{a, b\} = \{c, d\}.
\end{enumerate}
\end{prb}

\begin{dfn}
\label{orderedpair}
If each of $a$ and $b$ is an element, then by the \textbf{ordered pair} $(a, b)$ we mean the set $\{\{a\}, \{a, b\}\}$.  The elements $a$ and $b$ are known as the first and second coordinates of $(a,b)$, respectively.
\end{dfn}

Problem \ref{fail} hinted at the property that we want from our new definition for ordered pairs. We want that $(a, b) = (c, d)$ if and only if $a = c$ and $b = d.$ The next problem allows you to show that our definition for ordered pairs, $(a, b) = \{ \{a\}, \{a, b\}\}$, satisfies this property and therefore is a valid definition.

\begin{prb}
\label{OrdPair}
Suppose each of $a$, $b$, $c$ and $d$ is an element.  Use Definition \ref{orderedpair} to prove the following two statements:
\begin{enumerate}
\item If $(a, b) = (c, d)$, then $a = c$ and $b = d$.
\item If $a = c$ and $b = d$, then $(a, b) = (c, d)$.
\end{enumerate}
\end{prb}

\begin{dfn}
\label{cartesian}
If $\A$ and $\B$ are sets, the \textbf{Cartesian product} of $\A$ and $\B$, denoted by $\A\times \B$, consists of all ordered pairs $(x,y)$ where $x\in \A$ and $y\in \B$.  Restated, $$\A\times \B = \{\,(x,y) \mid x\in \A \mbox{ and } y\in \B\,\}.$$
\end{dfn}

\begin{prb}
Prove or give a counter-example:  $$\A\cap (\B\times \C) = (\A\cap \B) \times (\A\cap \C)$$
\end{prb}



\section{Project:  More on \texorpdfstring{$\oplus$}\text{ and }\texorpdfstring{$\times$}\text{} }


For the following statements, either prove that it is true using the set equality axiom, or prove that it is false by exhibiting a counterexample.

\begin{prb}
$\A \oplus (\B \cap \C)=(\A \oplus \B) \cap (\A \oplus \C)$
\end{prb}

\begin{prb}
$\A \cap (\B \oplus \C) = (\A \cap \B) \oplus (\A \cap \C)$
\end{prb}

\begin{prb}
$\sim (\A \oplus \B) = \sim \A \oplus \sim \B$
\end{prb}

\begin{prb}
$\A \oplus \B = \sim \A \oplus \sim \B$
\end{prb}

\begin{prb}
$\A \cup (\B \oplus \C) = (\A \cup \B) \oplus (\A \cup \C)$
\end{prb}


\begin{prb}
$\A\times(\B\cup \C) = (\A\times \B) \cup (\A\times \C)$
\end{prb}

\begin{prb}
$\A\cup(\B\times \C) = (\A\cup \B) \times (\A\cup \C)$
\end{prb}


\chapter{Functions}

Every mathematics, science, and engineering course makes heavy use of functions. Having developed a deep understanding of sets and ordered pairs, we are now in a position to define function in terms of set of ordered pairs.


First, recall from Definition \ref{cartesian} that the Cartesian product of $\X$ and $\Y$ is $\X \times \Y = \{(x,y) \mid  x \in X \mbox{ and } y\in Y\}.$

\begin{dfn}
\label{function}
Let $\X$ and $\Y$ be sets. A \textbf{relation} on $\X \times \Y$ is any subset of $\X \times \Y$. A \textbf{function} on $\X \times \Y$ is a relation on $\X \times \Y$ where no two elements have the same first coordinates.  The set of all first coordinates of a relation is called the \textbf{domain} and the set of all second coordinates of a relation is called the \textbf{range}.
\end{dfn}

\begin{expl}
Let $\A = \{ x \in \R  \mid  - 3 \leq x \leq 3 \}$. The set $\C = \{ (x,y) \in \R \times \R  \mid  x^2 + y^2 = 9 \}$ is a relation on $\A \times \A$ but not a function on $\A \times \A$.
\begin{annotation}
\endnote{If needed, I use these examples to introduce functions.  If I do, then for each example, I discuss multiple ways to write the function (function notation vs. set notation vs. graphical representation) and I discuss one-to-one and onto.  In Example \ref{fnproof} I show that if $(x,y)$ and $(x,z)$ are both elements of the function, then $y=z$ which foreshadows how to move from the definitions to the process of validating the definitions.}
\end{annotation}
\end{expl}

\begin{expl}
\label{fnproof}
The set $f = \{ (x,y)  \mid  x \in \R \ \mbox{ and } \  y = 2x-3 \}$ is a function on $\R \times \R$. How do we prove this?
\end{expl}

\begin{prb}
Let $\A = \{ 1, 2, 3 \}$ and $\B = \{ \Box, \Diamond, \triangle \}$. Which of the following are relations on $\A \times \B$?  Which are functions
\begin{enumerate}
\item $\{ (1, \Box) , (1, \triangle), (2, \Diamond) \}$
\item $\{ (3, \Box) , (1, \triangle), (2, \triangle) \}$
\item  $\{ \big( (1,1) , \Box \big) , \big( (1,2) , \triangle), \big( (2,1) , \Diamond \big), \big( (2,2) , \Diamond \big) \}$
\end{enumerate}
\end{prb}

\begin{prb}
Consider the function $f$ defined by $$  f = \{ (x,y)  \mid  x \in \R \sim \{1\} \ \mbox{ and } \ y = \frac{2x}{x-1} \}.$$ State the domain and the range of this function.
\end{prb}

\begin{prb}
Consider \\
$f = \{ (x,y) \in \R \times \R  \mid  x \in \R \ \mbox{ and } \ y = \sin(2x) + \sin^2(x) + \cos^2(x) \}$ and\\
$g = \{ (x,y)  \mid  x \in \R \ \mbox{ and } \ y = 2\sin(x)\cos(x) + 1 \}$.\\
Are these the same function?
\end{prb}

Since we often think of a function $f$ on $\X \times \Y$ as a rule assigning elements of $\X$ to elements of $\Y$, we often write $f : \X \to \Y$.  When $(x,y)$ is an element of $f$ we write, $f(x)=y$ and say that $f$ \textbf{maps} $x$ to $y$.  When we use this notation, it means that $\X$ is the domain of $f$ and $\Y$ contains the range of $f$.  In such cases, we call $\Y$ the \textbf{codomain} of $f$.

\begin{dfn}
If $f: \X \to \Y$ is a function, then $f$ is \textbf{one-to-one} if no two elements of $f$ have the same second coordinate and different first coordinates. Restated, no two elements of $\X$ can map to the same element of $\Y$. We say that $f$ is \textbf{onto the set $Y$} if for each element $y \in \Y$ there is some element $x \in \X$ such that $f(x) = y.$  A function $f:X \to Y$ that is both one-to-one and onto is %\textbf{bijective}.  
a \textbf{bijection}.
%DMC:  I have made this change because the word "bijective" never occurs again in these notes.  But "bijection" occurs 16 times without being defined.  I think this is what we intend here. 
\end{dfn}

\begin{expl}
Let $f = \{(x,y)  \mid  x\in \R \mbox{ and } y = x^2 + 3\}$. We might write the same function as $f: \R \to \R$ where $f(x) = x^2+3.$ Is $f$ onto $\R$?   Is $f$ onto  $\{ y  \mid  y \geq 3 \}$? We would call $\R$ a codomain of $f$.
\end{expl}

\begin{prb}
Suppose $\dsp f(x) = \frac{x^2-5x+6}{x-3} \mbox{ and } g(x) = x-2.$  What is the largest subset of $\R$ that is an allowable domain for $f$?  For $g$? Does $f=g$? \begin{annotation}
\endnote{Many problems are poorly phrased to generate discussion.  This problem is an example.  Many teachers would consider the definitions for $f$ and $g$ to be adequate, but they are not.  Without explicitly stating the domain, which is why one should define functions as sets, we cannot determine whether $f$ = $g$.  They are equal if the domain is all numbers except three, but if we allow the maximum possible domain, they are not equal.}
\end{annotation}
\end{prb}


\begin{prb}
Let $\ps$ denote the set of all subsets of a set $\U$, and choose two particular sets $\A, \B \in \ps$.  Let $f: \ps \to \ps$ and $g: \ps \to \ps$ be the functions defined by: $f(\X) = \X \cap (\A \sim \B)$ for every $X \in \ps$ and $g(\X) = (\X \cap \A) \sim (\X \cap \B)$ for every $X \in \ps.$  What is the domain of $f$?  Of $g$?  Does $f=g$?
\end{prb}

\begin{dfn}
For real valued functions $f:\mathbb R \to \mathbb R$ and $g:\mathbb R \to \mathbb R$ define a new function $f+g:\mathbb R \to \mathbb R$, called the \textbf{sum} of $f$ and $g$, by the rule $(f+g)(x) = f(x) + g(x)$ for $x\in \mathbb R$.
\end{dfn}

\begin{prb}
Suppose each of $f: \R \to \R$ and $g: \R \to \R$ are functions and prove that $f+g = g+f$ by showing that $(f+g)(x) = (g+f)(x)$ for all $x \in \R$.  This
shows that addition of functions is commutative.
\end{prb}

\begin{prb}
Let $\A = \{1,2,3,4,5,6,7,8,9\}$.  Table \ref{t1} defines a function $f:\A \to \A$. For each $x \in \A$, the value of $f(x)$ is written below $x$. Is $f$ one-to-one? Is $f$ onto $\A$? Is $f$ a bijection?
\end{prb}
\begin{table}[ht]

   \begin{center}
     \begin{tabular}{|| c || c | c | c | c | c | c | c | c | c ||}
     \hline
    x    & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9      \\ \hline
    f(x) & 5 & 7 & 9 & 3 & 1 & 2 & 6 & 4 & 8    \\ \hline
    \end{tabular}
   \end{center}
   \caption{A function, $f$}
   \label{t1}
  \end{table}

\begin{prb}
Let $\dsp f = \{ (x,y)  \mid  x \in \R \sim \{2\} \ \mbox{ and } \ y = \frac{x}{x-2} \}$.
\begin{enumerate}
\item Is $f$ a one-to-one function?
\item Is $f$ onto the set $\R$?
\end{enumerate}
\end{prb}

\begin{prb}
Define $f : \R \to \R$ by $f(x) = \sqrt[3]{x-1}$.
\begin{enumerate}
\item Is $f$ a one-to-one function?
\item Is $f$ onto $\R$?
\end{enumerate}
\end{prb}

By Definition \ref{function}, every function $f: \X \to \Y$ is onto its range since the range of $f$ is the set of all $y$ such that $(x,y) \in f$ for some $x \in \X$.  Restated, the range of $f$ is $\{ y  \mid  (x,y) \in f \} = \{ f(x)  \mid  x \in \X \}$

Should you ever board an airplane (a function) that ``maps'' you from Houston to Chicago, at some point in the future you will definitely want to board another airplane (the inverse function) that ``maps'' you back home!    Countless people have been lost because they built a time travel machine but forgot to build the inverse time machine!

\begin{prb}
Figure \ref{FC} shows the relationship between the Fahrenheit and Celsius temperature scales. Write a formula (equation) for a  function $f$ that converts Celsius to Fahrenheit, and a function $c$ that converts Fahrenheit back to Celsius.  Verify that $f(c(F)) = F$ for every $F \in \R$  and that $c(f(C)) = C$ for every $C \in \R$.
\end{prb}

\begin{dfn} \label{invrelation}
Given a function $f: X \to Y$, the relation $f^{-1}$ is defined by $f^{-1} = \{ (y,x)  \mid  (x,y) \in f \}.$
\end{dfn}

The set $f^{-1}$ might not be a function.  The next two problems tell us exactly when $f^{-1}$ is a function.

\begin{prb}
\label{inv1}
Let $f$ be a function from $X$ onto $Y$.  Show that if $f$ is one-to-one, then $f^{-1}$ is a function.
\end{prb}

\begin{prb}
\label{inv2}
Let $f$ be a function from $X$ onto $Y$.  Show that if $f^{-1}$ is a function, then $f$ is one-to-one.
\end{prb}

Together Problems \ref{inv1} and \ref{inv2} show that a function $f$ is one-to-one if and only if $f^{-1}$ is a function.   Many mathematicians do not define the inverse of a relation and don't define the inverse of a function unless that function is one-to-one.  In this case they would say ``if $f$ is a function that is one-to-one, then there is a function $f^{-1}$ so that $f(f^{-1}(x))=x=f^{-1}(f(x))$''.  

\begin{prb}
For each function $f$ determine if $f^{-1}$ is a function.
\begin{enumerate}
\item $f = \{ (x,y) 
 \mid  x \in \R \ \mbox{ and } \ y = x(x-1) \}$
\item $f : \R \to \R$ defined by $f(x) = \sqrt[3]{x-1}$
\end{enumerate}
\end{prb}

\begin{figure}
       \setlength{\unitlength}{1mm}
       \begin{picture}(125,20)
       \put(30,10){\line(1,0){90}} \multiput(45,10)(20,0){4}{\circle*{1}}
       \put(30,10){\circle*{2}} \put(77,10){\circle*{1}}
       \multiput(115,5)(2.5,0){3}{\circle*{.5}}
       \multiput(115,15)(2.5,0){3}{\circle*{.5}}
       \put(18,4){C} \put(18,13){F} \put(26,4){-273} \put(26,13){-460}
       \put(41,4){-200} \put(41,13){-328} \put(61,4){-100}
       \put(61,13){-148} \put(75,4){-40} \put(75,13){-40} \put(84,4){0} \put(83,13){32}
       \put(101,4){100} \put(101,13){212}
       \end{picture}
\caption{Thermometer showing both Fahrenheit and
Celsius temperature scales}
\label{FC}
\end{figure}


\begin{prb}
Let $f:\mathbb R \to \mathbb R$ with $f(x) = 3x - 7$.
\begin{enumerate}
\item Prove that $f$ is onto $\mathbb R$.
\item Prove that $f$ is one-to-one.
\item Find a formula for $f^{-1}(y)$.
\item Verify that for all $x \in \R$ we have, $f^{-1}(f(x)) = x$ and $f(f^{-1}(x))=x$.
\end{enumerate}
\end{prb}

\begin{prb}
Show that every non-constant linear function $l(x) = mx+b$, with $m\neq 0$, is a bijection $l:\mathbb R \to \mathbb R$. Find a formula for $l^{-1}(y)$.
\end{prb}

The binary operations of addition and multiplication can be used to combine any two numbers in order to get a new number.  The binary operations of intersection, union, difference and symmetric difference can be used to combine two sets in order to form a new set.  Addition, subtraction, multiplication and division of real-valued functions are also binary operations.  Another binary operation on functions is called composition.

\begin{dfn}
Suppose that $g:\A \to \B$ and $f:\B \to \C$.  We define the \textbf{composition} of $f$ and $g$ (denoted by $f \circ g$) to be the function from $\A$ to $\C$ satisfying $$\quad (f \circ g)(x) = f(g(x)).$$
\end{dfn}

In the Table~\ref{bijection} below, we have four bijections from $\{1,2,3,4\}$ onto $\{1,2,3,4\}$. The first bijection, $i$, is the \textbf{identity map} since it maps $1 \to 1$, $2 \to 2$, $3 \to 3$ and $4 \to 4.$
\begin{table}[H]
   \begin{center}
     \begin{tabular}{|| c | c | c | c ||}
     \hline
     i\qquad  & p\qquad & q\qquad & r\qquad \\ \hline\hline
     1234     &1234     &1234     &1234     \\ \hline
     1234     &2134     &1243     &2143     \\ \hline
    \end{tabular}
   \end{center}
   \caption{Bijections}
    \label{bijection}
  \end{table}
Let's compute $q \circ r$.
\begin{enumerate}
\item $(q\circ r)(1)=q(r(1))=q(2)=2=p(1)$,
\item $(q\circ r)(2)=q(r(2))=q(1)=1=p(2)$,
\item $(q\circ r)(3)=q(r(3))=q(4)=3=p(3)$, and
\item $(q\circ r)(4)=q(r(4))=q(3)=4=p(4)$.
\end{enumerate}

Therefore,  $q \circ r = p$.

\begin{prb}
Use the example and Table ~\ref{bijection} to fill in the rest of Table ~\ref{composition}.
\end{prb}

\begin{table}[H]
 \begin{center}
  \begin{tabular}{|| c || c | c | c | c ||}
  \hline
  $\circ$&\quad i\quad&\quad p\quad&\quad q\quad&\quad r\quad\\
  \hline\hline
  i\quad &            &            &            &      \\ \hline
  p\quad &            &            &            &      \\ \hline
  q\quad &            &            &            &\quad p\quad\\ \hline
  r\quad &            &            &            &      \\ \hline
  \end{tabular}
 \end{center}
 \caption{Composition}
 \label{composition}
\end{table}

\begin{prb}
What is this inverse of each of these bijections?
\end{prb}

\begin{prb}
Addition of numbers is \textbf{commutative} because for any two numbers $a$ and $b$ we have $a+b = b+a$. If for every set $\A$, every $f:\A \to \A$ and every $g:\A \to \A$ it is true that $$ f \circ g = g \circ f, $$  then we would say that composition of functions is also \textbf{commutative}. Either show that composition is commutative or give a counter example by finding two functions for which the statement is not true.
\end{prb}

\begin{prb}
Intersection of sets is \textbf{associative} since for any sets $A$, $B$,and $C$ we have $\A \cap (\B \cap \C) = (\A \cap \B) \cap \C$. Is composition of functions associative?  Restated, is it true that if each of $f$, $g$ and $h$ is a function, then $(f \circ g) \circ h = f \circ (g \circ h)$?
\end{prb}


\section{Project: More on Inverses, Composition and Relations}

\begin{prb}
\begin{enumerate}
\item Is Problem \ref{OrdPair} valid if we define $(a, b) = \{\{a, 1\}, \{2, b\}\}$?
\item How would one formally define an ordered triple? An ordered quadruple?
\end{enumerate}
\end{prb}

\begin{prb}
\label{inj_fn}
Show that the composition of one-to-one functions is one-to-one by letting $g:\B \to \C$ and $h:\A \to \B$
be one-to-one functions and showing that $g\circ h:\A \to \C$ is one-to-one.
\end{prb}

\begin{prb}
\label{surj_fn}
Show that the composition of onto functions is onto.
\end{prb}

The word \emph{identity} is used in a number of different contexts in mathematics.  The function $f: \R \to \R$ defined by $f(x) = x$ is called the \emph{identity} function because it identifies every number with itself.  Similarly, $0$ is called an \emph{additive identity} because adding $0$ to a number does not change the number, so $0+x$ is identified with $x$.  By the same reasoning, $1$ is called the multiplicative identity.

\begin{prb}
\label{id_fn}
Let $\mathbf S$ denote the set of all bijections from $\A$ to itself.  According to Problems \ref{inj_fn} and \ref{surj_fn}, $\circ$ is a binary operation on $\mathbf S$, that is, $f\circ g \in \mathbf S$ whenever $f$ and $g$ are in $\mathbf S$.  We define a special bijection $i:\A \to \A$ called the
\textbf{identity function} on $\A$ as \[ i(x) = x \mbox{ for all } x\in \A. \]
Show that $i$ is an identity for $\mathbf S$, that is,
\begin{enumerate}
\item $f\circ i = f = i\circ f$ and
\item $f\circ f^{-1} = i = f^{-1}\circ f$
\end{enumerate}
for all $f \in \mathbf S$.  This shows that $i$ serves as an identity for composition in the same way that 0, 1, $\emptyset$ work as identities for $+$,
$\times$ and $\oplus$, respectively.
\end{prb}

\begin{prb}
Consider the list below of all 6 different bijections from $\{0,1,2\}$ onto itself. For example $p$ maps $0 \to 1$, $1 \to 2$ and $2 \to 0$.
\begin{table}[ht]
  \begin{center}
     \begin{tabular}{|| c | c | c | c | c | c ||}
     \hline
     i  &  p  &  q  &  f  &  g  &  h  \\ \hline\hline
    012 & 012 & 012 & 012 & 012 & 012 \\ \hline
    012 & 120 & 201 & 021 & 210 & 102 \\ \hline
        \end{tabular}
   \end{center}
  \end{table}
\noindent Make a composition table for these 6 bijections, illustrating Problems \ref{inj_fn}, \ref{surj_fn} and \ref{id_fn} above.
\end{prb}


\begin{prb}
A function $f:\B \to \C$ is said to be \textbf{left cancelative} if, for all sets $\A$ and all functions $g,h:\A \to \B$,
\[
 f \circ g = f \circ h \ \mbox{ implies } \ \  g = h.
 \]
 Show that $f$ is left cancelative if and only if $f$ is one-to-one.
\end{prb}

\begin{prb}
A function $f:\B \to \C$ is said to be \textbf{right cancelative} if, for all sets $\D$ and all functions $g,h:\C \to \D$,
\[
 g \circ f = h \circ f, \ \ \mbox{ implies } \ \ g = h.
 \]
 Show that $f$ is right cancelative if and only if $f$ is onto $\C$.
\end{prb}


\chapter{Counting}

A more formal title for this chapter would be \emph{combinatorics}.  Many problems involving probability and statistics require knowing how many elements are in a particular set.  Consider poker hands. What is the probability that a hand of five cards has two aces? To answer this, we would divide the number of five-card hands having two aces by the total number of five-card hands. We could list all possible five-card hands and then count the number of these hands that have two aces. Doing this would give us real insight into the problem, so listing is a very good way to solve counting problems. Many times after you start listing elements, you'll find ways to count the elements without listing all of them. If we could count the number of five-card hands having two aces without listing \emph{all} of them, that would be more efficient. In this chapter, to solve a problem will mean to convince the class that you have counted all the items correctly.  Perhaps you'll list all the items, or perhaps you'll list a smaller example to demonstrate the counting technique you used.

\begin{prb}
The standard license plate for a non-commercial vehicle titled in the State of Maryland consists of six characters. The first character must be one of the nine digits 1, 2, ..., 9.  Each of the next three characters must be a letter of the alphabet other than i, o, q, or u.  Each of the last two characters must be one of the ten digits 0, 1, 2, ..., 9. How many standard license plates for non-commercial vehicles can be issued by the State of Maryland?
\end{prb}

\begin{prb}
There are six area codes used for Maryland telephone numbers: 227, 240, 301, 410, 443, 667. Following each area code are a three-digit ``prefix'' and a four-digit ``exchange.''  The prefix may not be the number 555, or begin with the number 0.  How many telephone numbers can be issued for the State of Maryland?
\end{prb}

\begin{prb}
\label{p1}
Andrew, Bob, Carly, and Diane are the only entrants in a prize giveaway.  Both prizes are the same model of PlayStation. In how many ways can two winners be chosen from them?
\begin{annotation}
\endnote{Students inevitably solve this problem in two different ways, some assuming that the winners must be different people and some allowing for the winners to be the same person.  I leave the problem as it stands because the ensuing discussions are valuable.  First, we discuss the question, ``if I say I have two friends, would anyone assume that they could be the same person?'' Second, we discuss the two solutions that arise from the two different interpretations of the phrase ``two winners.''}
\end{annotation}
\end{prb}

\begin{prb}
\label{p2}
Andrew, Bob, Carly, and Diane are the only entrants in a prize giveaway. The first prize is an Audi TT, and the second is a Ford Focus.  No one person is allowed to win both prizes. In how many ways can the prizes be awarded?
\end{prb}

\begin{prb}
\label{p3}
Andrew, Bob, Carly, and Diane are the only entrants in a prize giveaway.  The first prize is an Audi TT, and the second is a Ford Focus.  It is allowable for the same person to win both prizes.  In how many ways can the prizes be awarded?
\end{prb}

\begin{dfn}
A set $M$ is \textbf{finite} if there is a nonnegative integer $n$ so that $M$ has $n$ elements and does not have $n+1$ elements. If the set $M$ has $n$ elements but does not have $n+1$ elements, then we write $|M| = n$ and say that $M$ is an \textbf{$n$-element set}. A set is \textbf{infinite} if it is not finite.
\end{dfn}

The next two theorems simply give names to the tools you probably used to solve the last few problems.

\begin{thm}
\label{MP}
\textbf{Multiplication Principle.} If each of $m$ and $n$ is a positive integer, $A$ is an $m$-element set, and $B$ is an $n$-element set, then  $|A \times B| = mn$ or restated, $|A \times B| = |A||B|$.  This is sometimes called the Fundamental Principle of Counting.
\end{thm}

\begin{thm}
\label{GMP}
\textbf{Generalized Multiplication Principle.}  Suppose that $n$ is a positive integer and each of $A_1, A_2, \dots ,A_n$ is a finite set.  Then $|A_1 \times A_2 \times A_3 \times \cdots \times A_n| = |A_1||A_2|\cdots|A_n|$. This is sometimes called the Generalized or Fundamental Principle of Counting.
\end{thm}

\begin{expl}
Suppose a mathematician has four different pairs of pants, three different shirts, and five different hats.  How many outfits can s/he make assuming an outfit consists of exactly one pair of pants, exactly one shirt and exactly one hat?
\begin{annotation}
\endnote{I use this example to illustrate both Multiplication Principles, but perhaps more importantly, I use it to emphasize the very important aspect of \emph{stating our assumptions}.  For example, while this is a perfectly good textbook problem, the real world is never so simple.   I joke that, as a mathematician, I have no worries about how what I wear actually looks to the rest of the world, but that this is definitely an assumption I am making.  Others would place restrictions on which pairs of pants can be matched with which shirts.  In each problem they present, I try to ask what implicit assumptions are being made and I have them write them down as we list them. Then I might discuss paying attention to which principle we are using. Since each of the four pairs of pants can be matched with any of the three shirts, you have $4 \cdot 3 = 12$ ways to pick a pants/shirt combination.  Once you pick one of the twelve combinations of pants and shirts, you can pick any of the hats, so you have $12 \cdot 5 = 60$ choices.  We used the Multiplication Principle twice to do this, but of course $4 \cdot 3 \cdot 5 = 60$ so we could have used the Generalized Multiplication Principle.}
\end{annotation}
\end{expl}

\begin{prb}
There are thirteen cards of each of the four suits in a fifty-two card deck.  How many possible four-card hands are there containing a card from each of the four suits?
\end{prb}

\begin{prb}
Sherwoodn't Cars sells five models of car in three colors. How many different cars could you see in Sherwoodn't's lot, ignoring accessories and options?
\end{prb}

\begin{prb}
A program to produce greeting cards has 100 pictures to choose from and twenty-five sayings. How many different cards can the
program produce?
\begin{annotation}
\endnote{This is a great problem for talking about assumptions.  Does the placement of the picture matter?  Is it the same
card if we put a picture on the left and the saying on the right and then reverse them?  May we put multiple pictures
on one card?   Often two students work two different problems, allowing us to again accept both as long as the
assumptions are stated and reasonable.}
\end{annotation}
\end{prb}


\begin{prb}
Suppose there are four 400-level mathematics courses: MATH 406, 402, 465, and 482, offered in a particular semester,
and you want to take two of them.  How many options do you have?
\end{prb}

\begin{prb}
Consider the algorithm below.
\begin{verbatim}
Let i = 1
While i < 7 do
    Let j=2
    While j < 6 do
        Print ''Here is an ordered pair'', (i,j)
        j = j + 1
    End j While Loop
    i = i + 1
End i While Loop
\end{verbatim}
How many ordered pairs would this program print?
\end{prb}

\begin{prb}
Suppose that a web site has you choose a username and a password.  The username must consist of ten alphanumeric
characters. The password must consist of seven alphanumeric characters, the last of which must be numeric and the
first of which must be alphabetical.
\begin{enumerate}
\item  How many usernames are possible if they are not case-sensitive?
\item  How many passwords are possible if they are not case-sensitive?
\item  How many usernames are possible if they are case-sensitive?
\item  How many passwords are possible if they are case-sensitive?
\end{enumerate}
\end{prb}

In counting the number of ways we can select several objects from a particular finite set, two questions arise: Does order matter?  Is repetition (replacement) allowed?

\begin{dfn}
Let $A$ be a set.  By an \textbf{unordered sample} of size $n$ chosen from $A$ we mean an $n$-element subset of~$A$.  By an \textbf{ordered sample} of size $n$ chosen from $A$ we mean an $n$-element sequence of $($not necessarily distinct$)$ elements of~$A$.  In this context, the set $A$ is called the \textbf{population} from which the samples are drawn.
\end{dfn}

\noindent For example, $\{1,2,3\}$ and $\{2,3,1\}$ are the same unordered sample of size 3 from the population of positive integers since order doesn't matter in the specification of a subset.  In contrast, $(1,1,3)$ and $(1,3,1)$ are different ordered samples of size 3 from the same population.

Using this language, we can restate Problem \ref{p1} as ``How many unordered samples of size two can be chosen without replacement (or ``without repetition'') from the four-element ``population'' (Andrew, Bob, Carly, Diane)?''  In Problem \ref{p2}, we sought an ordered sample of size two without replacement (repetition) from the same population.  Finally, in Problem \ref{p3} we desired an ordered sample of size two ``with replacement'' (or ``with repetition'').

\begin{expl}
Suppose you are working on a ten-digit keypad to open a door.  You know the combination is exactly three digits long.
\begin{annotation}
\endnote{When to present this example is always determined by the class.  At some point they have discovered the three basic formulas that the first three parts of this problem illustrate.  When I feel they have a grasp on these formulas, I think a summary lecture that discusses the concepts of ``order matters, repetition is allowed,''  ``order matters, repetition isn't allowed,''  ``order doesn't matter, repetition isn't allowed,'' and ``order doesn't matter, repetition is allowed'' is appropriate.  The first three we have discovered and the last one, I leave hanging as a challenge.   I've had students solve the last one in some quite clever ways and I've always taught them the formula once they did.}
\end{annotation}
\begin{enumerate}
\item  How many choices are there if you may use a number multiple times and the order matters?
\item  How many choices are there if you may not use a number multiple times and the order matters?
\item  How many choices are there if you may  not use a number multiple times and the order does not matter?
\item  How many choices are there if you may use a number multiple times and the order does not matter?
\end{enumerate}
\end{expl}

\noindent
\textbf{Ordered Samples with Repetition Allowed (n-tuples)}

The expression (3,-5) is an example of an ordered pair; (-1,0,$\frac{1}{2}$) is an ordered triple; and (7,$\frac{1}{4}$,$\pi$,z) is an ordered quadruple.  If $n$ is a positive integer and $A$ is a set and $a_i \in A$ for each integer $i \in \{1,...,n\}$, then ($a_1$, $a_2$, ..., $a_n$) is an ordered
$n$-tuple.

\begin{thm}
\label{tuple}
If each of n and k is a positive integer and A is an n-element set, then the number of ordered $k$-tuples that can be selected from $A$ is $n^k$.
\end{thm}

Theorem \ref{tuple2} is simply a restatement of Theorem \ref{tuple} using fancy words!

\begin{thm}
\label{tuple2}
If each of $n$ and $k$ is a positive integer and $P$ is an n-element set (population),  then the number of ordered samples of size $k$ that can be drawn with replacement (repetition) from $P$ is $n^k$.
\end{thm}

\noindent
\textbf{Ordered Samples without Repetition (permutations)}

\begin{thm}
\label{t4}
If n and k are positive integers with $k \leq n$ and $P$ is an n-element set (population), then the number of ordered samples of size k that can be drawn without replacement from $P$, is $(n-0)(n-1)(n-2) \cdots (n-(k-1)) = n  (n - 1)  (n - 2)  \cdots  (n - k + 1)$.
\end{thm}

\begin{dfn}
If $n$ is a non-negative integer then \textbf{n factorial} is denoted by $n!$ and defined by
$$n! =  \left\{
         \begin{array}{ll}
         1 & \mbox{if} \;\;\;\; n=0 \; \; \mbox{or} \; \; n=1 \\
         n \cdot (n - 1)   \cdots  2 \cdot 1 & \mbox{if}  \;\;\;\; n > 1 \; \; \mbox{\qquad $($the product of integers $1$ to $n)$}
    \end{array}
    \right.$$
\end{dfn}

\begin{prb}
Let each of $n$ and $k$ represent positive integers with $k \leq n$ and show that $n(n - 1)(n - 2) \cdots (n - k + 1) = n!/(n - k)!$.
\end{prb}

The next theorem is merely a restatement of Theorem \ref{t4} when $k=n$.

\begin{thm}
If $P$ is an n-element population, then the number of ordered samples of size $n$ that can be drawn without replacement from $P$ is $n!$.
\end{thm}

\begin{dfn}
If n is a positive integer and S is an n-element set, then a \textbf{permutation of S} is a bijection on S.
\end{dfn}

\begin{expl}
Let $S = \{1, 2, 3\}$.  One permutation of $S$ would be the bijection $f : S \to S$ defined by $f(1) = 2, f(2) = 3,$ and $f(3)=1$.  Typically, we omit all the function notation and just write the range of $f$ as $(2,3,1)$.   Recall that the order matters when we use $()$ but not when we use $\{\}$.
\end{expl}

\begin{prb}
List all the permutations of\/ $S=\{1,2,3\}$.
\end{prb}

\begin{prb}
How many seven-letter strings can be formed using the letters from the word TUESDAY, where no letter may be used twice? How many five-letter strings?
\end{prb}

\begin{prb}
Let $D=\{a,b,c\}$ and $R=\{1,2,3,4,5\}$.  How many functions are there with domain all of $D$ and with range a subset of $R$?  How many are one-to-one?  How many are onto $R$?
\end{prb}

\begin{prb}
Let $D=\{a,b,c,d,e\}$ and $R=\{1,2,3\}$.  How many functions are there with domain all of $D$ and range a subset of $R$?  How many are one-to-one?  How many are onto $R$?
\end{prb}

\noindent
\textbf{Unordered Samples without Repetition (subsets)}

\begin{prb}
Let $D=\{a,b,c,d,e\}$.  How many three element subsets are there of $D$?
\end{prb}

\begin{thm}
If $n$ is a positive integer and $k$ is a nonnegative integer not larger than n, then the number of k-element subsets of an n-element set is $$\frac{n!}{(n-k)!k!}.$$
\end{thm}


\begin{prb}
Compute  $\dsp{\frac{n!}{(n-k)!k!}}$ for each of
\begin{enumerate}
\item $n=10$, $k=3$,
\item $n=10$, $k=7$,
\item $n=5$, $k=5$, and
\item $n=5$, $k=0$.
\end{enumerate}
\end{prb}

\begin{prb}
Show that
\begin{enumerate}
\item if $n=20$ and $k=12$ and $j=8$ then $\dsp{\frac{n!}{(n-k)!k!} = \frac{n!}{(n-j)!j!}}$ and
\item if $n$ is a positive integer and $k$ is a nonnegative integer not larger than $n$ and $j=n-k$ then $\dsp{ \frac{n!}{(n-k)!k!} = \frac{n!}{(n-j)!j!}}$.
\end{enumerate}
\end{prb}

\begin{prb}
Dr. Shannon has a total of six nieces and nephews.  She has just won a set of eight \emph{different} CD's. In how many different ways can she
\begin{enumerate}
\item Give each child exactly one CD?
\item Give away all the CD's so that each child gets at least one without giving any child more than two?
\item Give away all the CD's so that each child gets at least one?
\end{enumerate}
\end{prb}

\begin{prb}
Suppose that each of $m$ and $n$ is a positive integer and each of $A$ and $B$ is a set such that $|A| = n$ and $|B| = m$.  How many functions are there from $A$ to $B$?  How many are one-to-one? How many are onto $B$?
\end{prb}

\begin{prb}
Six cards are to be drawn from a standard deck and laid on a table in the order in which they were drawn. How many outcomes are possible in this experiment?
\end{prb}

\begin{prb}
You and thirteen of your closest friends have decided to form a club.
\begin{enumerate}
\item  If you decide to elect four officers, a president, a vice president, a secretary, and a treasurer, then how many possible slates of officers are there?
\item  If you decide that the job of secretary is too much for one person and elect a president, a vice president, a treasurer, and two secretaries, then how many slates are there?
\end{enumerate}
\end{prb}

\begin{prb}
To avoid the diplomatic quagmire of deciding who will sit at the head of the table and who at the foot, a group planning peace talks with the single heads of state of four nations decides to seat all four at a round table, where all spots are equally prestigious and powerful.
\begin{enumerate}
\item  How many possible seating arrangements are there?
\item  How many arrangements are there if you only care who sits next to whom but not on which side of the person each neighbor sits?
\end{enumerate}
\end{prb}

\begin{prb}
An elementary-school teacher is directing an after-school parade with twelve of his students. Three of them will be twirling batons, five will be playing cymbals, and four will be doing somersaults. They will be parading in single file.
\begin{enumerate}
\item  How many different parades are possible if he wants to have the twirlers followed by the cymbal players, with the tumblers at the rear?
\item  How many are possible if he simply keeps together the children who are doing the same thing?
\item  How many would be possible in a free-for-all, where the kids are in any order?
\item  How many are possible if the twirlers stay together but the others can be in any order?
\end{enumerate}
\end{prb}

\begin{prb}
A coin is tossed six times and the results, heads or tails on each toss, are  recorded in order.
\begin{enumerate}
\item  How many outcomes are possible?
\item  How many of these have exactly one head?
\item  How many have at least one head?
\item  How many have at least one head and at least one tail?
\end{enumerate}
\end{prb}

\begin{dfn}
Suppose that $A$ is a set and $f: A \to A$ is a function.   If $x\in A$ satisfies $f(x)=x$, then we say that $x$ is a \textbf{fixed point of $A$ with respect to $f$}.
\end{dfn}

\begin{prb}
Suppose that $A = \{a, b, c, d\}$.
\begin{enumerate}
\item How many functions are there on $A$ for which $a$ is a fixed point?
\item How many for which $a$ and $b$ are fixed points?
\item How many for which  $a$, $b$ and $c$ are fixed points?
\item How many functions are there that fix every point of $A$?
\end{enumerate}
\end{prb}

\begin{prb}
Suppose  $A = \{a, b, c, d \}$. Let F1 be the set of functions $f:A \to A$ for which $a$ is a fixed point. Let F2 be the set of functions $f:A \to A$ for which $a$ and $b$ are fixed points. Let F3 be the set of functions $f:A \to A$ for which $a$, $b$ and $c$ are fixed points. Let F4 be the set of functions for which all four elements are fixed points. What are $|F1 \cap F2|$, $|F3 \cap F2|$, $|F3 \cap F4|$ and $|F1 \cap F2 \cap F3|$?
\end{prb}

\begin{prb}
If six cards are chosen without replacement from a standard deck, how many hands are possible if
\begin{enumerate}
\item  the six cards can be anything?
\item  at least one card is an ace?
\item  at least four are clubs?
\item  exactly three of the cards are hearts?
\end{enumerate}
\end{prb}

\begin{prb}
The five-member math club decided to hold a raffle, with each member being responsible for selling ten tickets. Each club member bought one ticket and sold nine to non-members.  The stubs were then to be thrown into a fish bowl and three winning tickets were to be chosen at random.
\begin{enumerate}
\item  Of the  possible outcomes, in how many would at least one math-club member win?
\item  How many outcomes involve no math club member winning?
\item  How many outcomes involve exactly two math club members winning?
\item  How many outcomes involve all three winners being club members?
\end{enumerate}
\end{prb}

\begin{thm} \label{binomial}
\textbf{Binomial Theorem.} If each of $x$ and $y$ is a real number and $n$ is a non-negative integer, then  \small
$$(x+y)^n = \begin{pmatrix} n \cr 0 \end{pmatrix} x^n + \begin{pmatrix} n \cr 1 \end{pmatrix} x^{n-1}y +
\begin{pmatrix} n \cr 2 \end{pmatrix} x^{n-2}y^2 + \dots + \begin{pmatrix} n \cr n-1 \end{pmatrix} x y^{n-1}
+ \begin{pmatrix} n \cr n \end{pmatrix} y^n.$$ \normalsize
\end{thm}

\begin{prb}
Prove Theorem \ref{binomial}.  This theorem may be proved either using tools from this chapter (a counting argument) or using tools from the forthcoming chapter on induction.
\end{prb}

\begin{prb}
\begin{enumerate}
\item Expand $(x + y)^3$ by hand and using the Binomial Theorem.
\item Expand $(x - y)^5$ using the Binomial Theorem.
\item Use the Binomial Theorem to expand $(x - 1)^{10}$.  When $x = 2,$ what happens?
\end{enumerate}
\end{prb}

\begin{prb}
What is the coefficient of $x^7$ in the expansion of $(1 + x)^{23}$?
\end{prb}


\section{Project: Unordered Samples and Probability, Inclusion and Exclusion}

\noindent
\textbf{Unordered Samples and Probability}

\begin{prb}
Suppose that $A$, $B$, and $C$ are sets such that $B \subseteq A$, $C \subseteq A$, $B \cap C = \emptyset$, $|A| = 60$, $|B| = 25$, and $|C| = 20$.
\begin{enumerate}
\item  How many four-element subsets does $A$ have?
\item  How many five-element subsets of $A$ contain no elements of $B$? How many contain no elements of $C$? How many contain no elements of $B$ and no elements of $C$?
\item  How many six-element subsets of $A$ contain an element of $B$? How many contain an element of $B$ or an element of $C$?
\item  How many seven-element subsets of $A$ contain at least three elements of $B$?
\end{enumerate}
\end{prb}


\begin{dfn}
Suppose that $A$ and $B$ are sets and $B \subseteq A$.   If we randomly choose an element of $A$, then the \textbf{probabilty} that the element we pick is in $B$ is $|B|/|A|$.
\end{dfn}

We may now rephrase our last problem in terms of probabilities.

\begin{prb}
Suppose that $A$, $B$, and $C$ are sets such that $B \subseteq A$, $C \subseteq A$, $B \cap C = \emptyset$, $|A| = 60$, $|B| = 25$, and $|C| = 20$.
\begin{enumerate}
\item  Suppose I choose a five-element set from $A$. What is the probability that the set contains no elements of $B$? What is the probability that the set contains no elements of $C$? What is the probability that the set contains no elements of $B$ and no elements of $C$?
\item  Suppose I choose a six-element subset of $A$.  What is the probability that the set contains an element of $B$?   What is the probability that the set contains an element of $B$ or an element of $C$?
\item  Suppose I choose a seven-element subset of $A$.  What is the probability that it contains at least three elements of $B$?
\end{enumerate}
\end{prb}


Consider the simplest game of poker where we start with a fifty-two card deck and draw hands of five cards.  The goal is to have the ``best'' hand.   For example, three sevens beats two kings.   Similarly three fours and two jacks (a full house) beats three aces (three of a kind).  The order, from weakest hand to strongest hand, goes like this:   High Card $<$ One Pair $<$ Two Pair $<$ Three of a Kind $<$ Straight $<$ Flush $<$ Full House $<$ Four of a Kind $<$ Straight Flush.  We won't define and discuss all these possibilities.  Rather, we will just pick two and ask the relevant question related to probability.

Why should three of a kind beat two pair? Well it must be that you are more likely to find in a five card hand a pair of threes and a pair of kings than three queens.  The next two problems will demonstrate this, first by counting and then by probability.

\begin{prb}
Suppose we have a fifty-two card deck and a five card hand from that deck.
\begin{enumerate}
\item How many five card hands are there?
\item How many five card hands have two pair in them?
\item How many five card hands have three of a kind in them?
\end{enumerate}
\end{prb}

We may now rephrase our last problem in terms of probabilities.

\begin{prb}
Suppose we have a fifty-two card deck and draw a five card hand from that deck.
\begin{enumerate}
\item What is the probability that there are two pair in the hand?
\item What is the probability that there are three of a kind in the hand?
\end{enumerate}
\end{prb}

\noindent
\textbf{The Principle of Inclusion and Exclusion}

\begin{thm}
\label{t7}
If A and B are finite sets, then $|A \cup B| = |A| + |B|  - |A \cap B|$.
\end{thm}

\begin{prb}
Generalize Theorem \ref{t7} to three sets. That is, find a nice formula for $|A \cup B \cup C| = \dots$.
%Soln:  $$ |A \cup B \cup C| = |A| + |B| + |C|  - |A \cap B| - |A \cap C| - |B \cap C| + |A \cap B \cap C|.$$
\end{prb}

\begin{prb}
Generalize Theorem \ref{t7} to four sets.
\end{prb}


\chapter{Induction and Recursion}

Induction is a technique that may be used to prove that a given statement is true for every positive integer.
\begin{annotation}
\endnote{You will note that we do not formally state the Principle of Mathematical Induction in the body of this chapter.  Rather we introduce the concept conceptually first and formalize it in the project following this chapter.}
\end{annotation}

\begin{expl}
We begin with two statements that we might try to prove are true for every positive integer. Are both of these statements true for every positive integer?
\begin{annotation}
\endnote{Sometimes the best way to understand a proof technique is to understand when it will not solve the problem at hand. I simply ask, ``is this statement true for every positive integer?''   Of course, they realize it is not, so we discuss why until a student makes the observation that just because the car starts on a given day, does not mean that we may correctly assume that it will start on the following day.  Then I point out that every set of positive integers has a minimum element, so we may assume that there must be a \emph{first} day on which the car will not start. Since it started this morning, there is a positive integer $n$ such that the statement is true for $1, 2, \dots, n$ but not for $n+1$.
During our discussion of this example and our proof of the next, I might mention to the class that this is actually an application of the well-ordering principle.}
\end{annotation}
\begin{enumerate}
\item My car will start on the $n^{th}$ day after yesterday.
\item The sum of the first $n$ positive integers is $n(n+1)/2$.
\end{enumerate}
\end{expl}

Suppose I wish to prove that the second statement above is true for every positive integer. Let's check the first few. If $n=1$ then this says $1 =  \frac{1(1+1)}{2}$ which is true. If $n=2$ then this says that $1 + 2 = \frac{2(2+1)}{2}$ which is true. If $n=3$ then this says that $1 + 2 + 3 = \frac{3(3+1)}{2}$ which is true. Now, even if we proved this was true for the first $1,000,000$ positive integers, we would not know if it was true for  $n=1,000,001$. How do we \emph{prove} that it is true for all positive integers?  Let's proceed by contradiction and suppose that it is \emph{not} true for every positive integer. Since it is not true for every positive integer, then there must be a \emph{first} positive integer $m$ for which it is not true.  Since it is true for $1$, there is a positive integer $n$ such that $m=n+1$. Since $n < m$, it is true for $n,$ that is,
$$1 + 2 + \dots + (n-1) + n = \frac{n(n+1)}{2}.$$
Adding $n+1$ to both sides we have
$$1 + 2 + \dots + n + (n+1) = \frac{n(n+1)}{2} + (n+1).$$
Using common denominators to combine the terms on the right yields
$$1 + 2 + \dots + n + (n+1) = \frac{n(n+1)+2(n+1)}{2}.$$
Simplifying the right hand side leaves us with
$$1 + 2 + \dots + n + (n+1) = \frac{(n+1)(n+2)}{2}.$$
We assumed that $n+1$ was the first positive integer for which the statement was false, yet we have just shown that it is true for $n+1$.  We have a contradiction.  This means that our assumption that it was not true for all positive integers is false and we may conclude that the statement is true for all positive integers.

\begin{prb} Show that each statement is true.
\begin{enumerate}
\item The sum of the squares of the first $2$ positive integers is $\frac{2(2+1)(2(2)+1)}{6}$.
\item The sum of the squares of the first $3$ positive integers is $\frac{3(3+1)(2(3)+1)}{6}$.
\item The sum of the squares of the first $n$ positive integers is $\frac{n(n+1)(2n+1)}{6}$ for all $n \geq 2$.
\end{enumerate}
\end{prb}

\begin{prb} Show that each statement is true.
\begin{enumerate}
\item The sum of the first $2$ cubes is  $\frac{2^2 (2+1)^2}{4}$.
\item The sum of the first $3$ cubes is  $\frac{3^2 (3+1)^2}{4}$.
\item The sum of the first $n$ cubes is $\frac{n^2 (n+1)^2}{4}$ for all $n \geq 2$.
\end{enumerate}
\end{prb}

\begin{prb}
A set of numbers is \textbf{bounded} if there are two numbers $m$ and $M$ so that for each number $x$ in the set, $m \leq x \leq M$.
\begin{enumerate}
\item Show that a set with one element is bounded.
\item Show that a set with two elements is bounded.
\item Show that a set with three elements is bounded.
\item Show that for each positive integer $n$, a set with $n$ elements is bounded.
\end{enumerate}
\end{prb}

\begin{prb}\label{prb:postage}
Show that a postage of 12, 13, 14 or 15 cents may be formed using only 4-cent and 5-cent stamps.  Then show that every amount of postage of 12 cents or more can be formed using just 4-cent and 5-cent stamps.
\begin{annotation}
\endnote{By the time this problem is solved, students have a good grasp of the concept of induction.  At this point, I typically formally state the theorems associated with induction and strong induction.  Then I use this problem to illustrate the similarities and differences between induction and strong induction because solving this one with strong induction is, to me at least, a bit more elegant. The similarity is that both are used to prove that a given statement is true of every positive integer.  The difference is the hypothesis, yet once stated and proved, why would one ever use induction rather than strong induction?   This also foreshadows the project section where the interested student can tackle proving one or both of these theorems.}
\end{annotation}
\end{prb}

\begin{prb}
Show that the sum of the first $n$ odd positive integers is $n^2$.
\end{prb}

\begin{prb}
Assume
Theorem \ref{MP} (The Multiplication Principle for Counting) is true and prove that Theorem \ref{GMP} (The Generalized Multiplication Principle for Counting) is true for every positive integer~$n$.
\end{prb}

\begin{prb}
From your Calculus I course, you know that if each of $f$ and $g$ is a differentiable functions, then $(fg)' = f'g + fg'$.
Use induction to show that for every positive integer $n$, if each of $f_1, f_2, f_3, \dots f_n$ is a differentiable function then
$$\left( f_1 f_2 f_3 \cdot\cdot f_n \right)' = f_1' f_2 f_3 \cdot\cdot f_n + f_1 f_2' f_3 \cdot\cdot f_n + f_1 f_2 f_3' \cdot\cdot f_n + \dots + f_1 f_2 f_3 \cdot\cdot f_n'.$$
\end{prb}

\hspace{2.5cm}
      \setlength{\unitlength}{1mm}
      \begin{picture}(72,16)(0,0)

      %
      \put(0,0){\line(1,0){72}}
      \put(0,0){\line(0,1){1}}
      \put(0,1){\line(1,0){72}}
      \put(72,0){\line(0,1){1}}
      \put(15,4){\line(0,1){12}}
      \put(16,4){\line(0,1){12}}
      \put(15,16){\line(1,0){1}}
      \put(36,3){\line(0,1){13}}
      \put(37,3){\line(0,1){13}}
      \put(36,16){\line(1,0){1}}
      \put(57,2){\line(0,1){14}}
      \put(58,2){\line(0,1){14}}
      \put(57,16){\line(1,0){1}}
      %

      \put(15,1){
      %
      \put(0,1){\line(1,0){10}}
      \put(0,1){\line(-1,0){9}}
      \put(-9,1){\line(0,-1){1}}
      \put(10,1){\line(0,-1){1}}
      %
      \put(0,2){\line(1,0){9}}
      \put(0,2){\line(-1,0){8}}
      \put(-8,2){\line(0,-1){1}}
      \put(9,2){\line(0,-1){1}}
      %
      \put(0,3){\line(1,0){8}}
      \put(0,3){\line(-1,0){7}}
      \put(-7,3){\line(0,-1){1}}
      \put(8,3){\line(0,-1){1}}}
      %

      \put(57,1){
      %
      \put(0,1){\line(1,0){7}}
      \put(0,1){\line(-1,0){6}}
      \put(-6,1){\line(0,-1){1}}
      \put(7,1){\line(0,-1){1}}}
      %

      \put(36,1){
      %
      \put(0,1){\line(1,0){6}}
      \put(0,1){\line(-1,0){5}}
      \put(-5,1){\line(0,-1){1}}
      \put(6,1){\line(0,-1){1}}
      %
      \put(0,2){\line(1,0){5}}
      \put(0,2){\line(-1,0){4}}
      \put(-4,2){\line(0,-1){1}}
      \put(5,2){\line(0,-1){1}}}
      %
      \end{picture}

\begin{center}
\textbf{Towers of Hanoi}
\end{center}
The Towers of Hanoi is a mathematical puzzle with a history worth Googling.  As illustrated above, the puzzle consists of three rods with $n$ disks of different radii which can slide onto any rod.  Start with the disks stacked all on one rod, the largest on the bottom, the smallest on the top and in order of size. The object of the puzzle is to move the stack to another rod, obeying the following rules:
\begin{enumerate}
\item Only one disk may be moved at a time.
\item Each move consists of taking the upper disk from one of the rods and moving it onto another rod,
on top of any other disks that may already be present on that rod.
\item No disk may be placed on top of a smaller disk.
\end{enumerate}
\begin{prb}
Show that it is possible to solve the Tower of Hanoi puzzle with $n$ discs in $2^n - 1$  moves.
\end{prb}

\begin{prb}
Show that to solve the Tower of Hanoi puzzle on $n$ discs, at least $2^n-1$ moves must be made.
\end{prb}

\begin{prb}
Show that $1/2 + 1/4 + 1/8 + 1/16 + .... + 1/2^n =  1 - 1/2^n$.
\end{prb}

\begin{prb}
Show that $3^0 + 3^1 + 3^2 + \dots + 3^n  =  (3^{n+1} - 1)/2$ is valid for all non-negative integers, $n=0,1,2,\dots$.
\end{prb}

\begin{dfn}
A positive integer is a \textbf{prime} if it has exactly two positive factors, 1 and itself.
\end{dfn}

\begin{prb}
You have an interview with the NSA and they ask you if $p(n) = n^2 - n + 41$ is prime for every positive integer~$n$. Is it?
\end{prb}


\begin{prb}
Show that $$1\cdot 2 + 2\cdot 3 + 3\cdot 4 + 4\cdot 5 + .... + n\cdot (n+1) =  n(n+1)(n+2)/3.$$
\end{prb}

\begin{prb}\label{prb:factoring}
Prove that every positive integer is either $1$, a prime, or the product of primes.
\end{prb}

\begin{prb}
There are many commonly used functions $f$ with domain $\Z$ that are not easily defined explicitly. Instead, we tell how to compute $f$ by what we call a \textbf{recursive} process.  To do this, we
\begin{enumerate}
\item choose a positive integer $b$ (often $b = 1$),
\item give the values of  $f(1), f(2),...,f(b)$  explicitly, and
\item tell how to compute, for any  $k > b$, the value of  $f(k)$
using the previous values  $f(1), f(2), f(3), ..., f(k-1)$.
\end{enumerate}
Prove that steps 1-3 can be used to compute $f(n)$ for every positive integer~$n$.
\end{prb}
\medskip

This is exactly what happens when you ask a program to do a recursive call.  An advantage of recursively defined functions is that their properties can often be verified by using induction.   Your use of quotes in the program and your use of the quotes in the last sentence are incongruous, so I deleted them from the last sentence.
\begin{prb}
Consider the following computer program:
\begin{align}
                &\quad   n = 1;  \quad a = 2 \notag\\
                 & \quad \mbox{WHILE} \quad  n > 0 \quad  \mbox{DO:}\notag\\
                 & \quad \qquad   \mbox{PRINT} \quad ``f('' \; \; n  \; \;``) ='' \; a \notag\\
                 & \quad \qquad   n=n+1\notag\\
                 & \quad \qquad   a=2a-1\notag\\
                 & \quad \mbox{END LOOP} \notag
\end{align}
Use induction to prove that for each positive integer $n$ the computer will eventually print $f(n) = 2^{n-1} + 1$.
\end{prb}

\begin{prb}
The \textbf{Fibonacci Sequence} is obtained by taking $b=2$ and defining
\begin{enumerate}
\item $F(1) = 1, \enspace F(2) = 1$  and
\item $F(k) = F(k-2) + F(k-1)$  for $k \ge 3$.
\end{enumerate}
Compute $F(3)$ through $F(12)$. Use induction to prove that for all $n \ge 1$,
\[
F(1) + F(2) + F(3) + ... + F(n) + 1= F(n+2)
\]
\end{prb}

\begin{prb}
Check that $F(3), F(6), F(9)$ and $F(12)$ are even.  Then use induction to prove that  $F(3n)$  is even for all $n \ge 1$.
\end{prb}

\section{Project: More Induction}

In this chapter we developed and used a method for proving that a given statement is true for all positive integers.   This technique is called \emph{strong induction}.  Many books treat two techniques of induction, \emph{induction} and \emph{strong induction}, separately.  For both induction and strong induction, you first show that the statement is true for $n=1.$  With induction, you assume only that the statement is true for $n$ in order to prove that it is true for $n+1$.  With strong induction, you assume that the statement is true for every number from $1$ to $n$ and use this to prove that it is true for $n+1$.  Since both are valid methods, we should state and prove theorems justifying both.  In this section we will state an axiom on which these theorems depend, provide guidance on how you might prove them, state the theorems for you to prove, and then provide additional problems using these theorems.
\begin{annotation}
\endnote{I typically take the time to discuss the notation and differences between induction and strong induction as a lecture as we work through the main chapter, if only to familiarize them with the statements.   This is done after they have already mastered the technique.   The beauty of this approach, which I borrowed from my father and I believe he borrowed from R.L. Moore, is that it introduces the techniques without burdensome notation.  Observe how the first example in this chapter uses minimal notation, yet presents the example in a way that can immediately be generalized to prove the Principle of Mathematical Induction.   Therefore the proofs given by the students who have not seen induction previously tend to be conceptual and not formulaic. More importantly, the technique that they come to understand is the technique that is used to prove the Principle of Induction.}
\end{annotation}


\begin{axm}
\textbf{Well Ordering.}  Every non-empty set of positive integers contains a least element.
\end{axm}

\begin{prb}
Prove the following two theorems and note where you use the Well Ordering Axiom.  The proofs amount to simply repeating again the argument you have used in each of the previous problems that you have done.  If you prove this theorem, you will never need to repeat that argument again.  You will just quote one of these two theorems!
\end{prb}

\begin{thm}\label{thm:PSI} \textbf{Principle of Strong Induction.}
Let $S(n)$ be a statement about an arbitrary positive integer $n$.  If
\begin{enumerate}
\item $S(1)$ is true and
\item $S(k+1)$  is true whenever $S(m)$ is true for $m = 1,2,3,\dots,k$,
\end{enumerate}
\nin then  $S(n)$  is true for all positive integers  $n$.
\end{thm}

The previous principle is called ``strong induction'' in order to contrast it with the next principle which is called ``induction''.  You might prove Theorem \ref{induction} directly or you might use Theorem~\ref{thm:PSI} to prove Theorem \ref{induction}.

\begin{thm}\label{thm:PMI} \label{induction}
\textbf{Principle of Mathematical Induction.}
Let $S(n)$ be a statement about an arbitrary positive integer $n$.  If
\begin{enumerate}
\item  $S(1)$  is true and
\item  $S(k+1)$  is true whenever $S(k)$ is true,
\end{enumerate}
then  $S(n)$  is true for all positive integers  $n$.
\end{thm}

In each of the induction problems you worked in the main section, you assumed the statement was true for integers $1, 2, 3, \dots, n$ and showed that it must then be true for $n+1$.  If you review your arguments, you will see that, for most of them, you only used the fact that the statement was true for $n$ in order to prove that it was true for $n+1$.  In those cases, you could have used either induction or strong induction.  The exceptions were Problems~\ref{prb:postage} and \ref{prb:factoring} where your argument most likely used strong induction even though you can work both using induction.  You might also note that there is nothing special about starting with $n=1$ and for many of the problems, we started with a value for $n$ greater than 1.  For each positive integer $b$ we could prove a variant of Theorem~\ref{thm:PSI} ending with
\textit{
\begin{enumerate}
   \item $S(b)$ is true and
   \item $S(k+1)$ is true whenever $S(m)$ is true for $b \leq m \leq k$,
\end{enumerate}
then $S(n)$ is true for all positive integers $n\geq b$.
}
\medskip
Similarly Theorem~\ref{thm:PMI} could be modified to start with~$b$.

Enough theory, let's do some problems.  To solve the next problem, we need a recursive definition for factorial.

\begin{dfn}
If $n$ is a non-negative integer then \textbf{n factorial} is denoted by $n!$ and defined by
$$n! =  \left\{
         \begin{array}{ll}
         1 & \mbox{if} \;\;\;\; n=0 \; \; \mbox{or} \; \; n=1 \\
         (n+1)! = (n+1)\cdot n!  & \mbox{if}  \;\;\;\; n > 1
    \end{array}
    \right.$$
\end{dfn}


\begin{prb}
Prove that if $n \ge 5$,  then $n!$  is a multiple of $5$.
\end{prb}

\begin{prb}
Define a function $g$ recursively by
\begin{enumerate}
\item $g(1) = 2$  and
\item $g(k+1) = 4g(k) - 5$.
\end{enumerate}
Compute  $g(7)$.  Prove that $g(n) > 2^n$ for all $n \ge 4$.
\end{prb}

Recursively defined functions can grow surprisingly fast. As a result, one must be cautious about asking a computer to do recursions since both time and memory are limited.  When we were students, if you divided by zero or asked a computer to compute a number that was too large for its memory, it exploded, immediately killing the student.  That is why everyone over the age of 30 is smart.  $;>$

\begin{prb}
Define a sequence of functions $A_1, A_2, A_3,\dots$ as follows:
\begin{enumerate}
\item Let $A_1(n) = 2n$ for all $n$.
\item For $k=1,2,3,\dots$ let
   \begin{enumerate}
     \item $A_{k+1}(0) = 1$  and
     \item $A_{k+1}(m+1) = A_k(A_{k+1}(m))$.
   \end{enumerate}
\end{enumerate}

\begin{enumerate}
\item Use induction to show that $A_2(n) = 2^n$ for all $n$.
\item Use induction to show that $A_n(1) = 2$ for all $n$.
\item Write down $A_3(5)$.
\item Describe  $A_3(n)$.
\item The number $A_4(4)$  is so large that I will give an  ``A''  in the course to anyone who can bring me a
printout of its value (in normal decimal notation) by the end of the term.
\end{enumerate}
\end{prb}

\begin{prb}
In one of our recent wars, an army captain received orders to deploy his soldiers over a designated enemy area and to instruct
them to shoot any resident who came into view.

Now the captain talked with other captains and heard that among the new recruits there were soldiers who for some strange reason
didn't buy into this mission. They were even known, in the heat of battle, to shoot their own captains and go AWOL.  This worried him, so he devised the following plan.

He would deploy his soldiers, as ordered, but instruct them to situate themselves so that each one was nearest to exactly one
other soldier.  Each soldier was ordered to watch that nearest soldier to him, and report any suspicious behavior to the captain.

Assuming the number of soldiers was odd, prove that there was at least one soldier who wasn't being watched.
\end{prb}




\chapter{Euler Paths and Circuits}
\label{chapeuler}

We  begin this chapter with a practical problem.  You are offered a job delivering mail in the neighborhood shown below to the left where the lines represent the streets of the neighborhood.  The rules are simple:
\begin{enumerate}
\item You must deliver mail on each block, so must walk each block.
\item You may start and end anywhere because a friend drops you off and picks you up.
\end{enumerate}
You first note that there are 41 blocks in the neighborhood.  Your boss suggests that you use the route he used before he passed it on to you. That route is shown below to the right and consists of 53 blocks.  The arrows represent the direction he walked each block and the solid circles represent the intersections. Use the patterns on the next page to find at least one path with fewer blocks than the one your boss suggests.  Write out the best path you find in Problem \ref{mail}.
\begin{annotation}
\endnote{Since our measure of the best path is the least number of blocks, we are implicitly assuming that delivering the mail requires the same amount of time for each block.  Of course, this is not a realistic assumption and we discuss that in class with the students.  If we were to add a different time for each block, perhaps depending on the number of mailboxes on that block, then we would have a more realistic, but also more difficult problem.}
\end{annotation}
\bigskip

\hspace{-1.5cm}
 \setlength{\unitlength}{1mm}
       \begin{picture}(160,60)
       %circles
       \multiput(10,0)(15,0){5}{\circle*{2}}
       \multiput(10,15)(15,0){5}{\circle*{2}}
       \multiput(16,30)(15,0){4}{\circle*{2}}
       \multiput(10,45)(15,0){4}{\circle*{2}}
       \multiput(10,60)(15,0){4}{\circle*{2}}

\thicklines

\multiput(-1,-1)(0,.3){8}{
%horizontal lines
       \put(10,0){\line(1,0){60}} \put(10,15){\line(1,0){60}}
       \put(16,30){\line(1,0){45}} \put(10,45){\line(1,0){45}}
       \put(10,60){\line(1,0){45}}
       %vertical lines
       \multiput(10,0)(15,0){5}{\line(0,1){15}}
       \multiput(10,45)(15,0){3}{\line(0,1){15}}
       %curved lines
       \qbezier(55,45)(45,52.5)(55,60) \qbezier(55,45)(65,52.5)(55,60)
       %other lines
       \qbezier(25,0)(25,0)(40,15) \qbezier(10,15)(10,15)(16,30)
       \qbezier(25,15)(25,15)(31,30) \qbezier(40,15)(40,15)(46,30)
       \qbezier(46,30)(46,30)(55,15) \qbezier(55,15)(55,15)(61,30)
       \qbezier(61,30)(61,30)(70,15) \qbezier(16,30)(16,30)(10,45)
       \qbezier(31,30)(31,30)(25,45) \qbezier(31,30)(31,30)(40,45)
       \qbezier(40,45)(40,45)(46,30) \qbezier(46,30)(46,30)(55,45)
       \qbezier(10,60)(10,60)(25,45) \qbezier(25,45)(25,45)(40,60)
}

\multiput(-1,-1)(.3,0){3}{
       %horizontal lines
       \put(10,0){\line(1,0){60}} \put(10,15){\line(1,0){60}}
       \put(16,30){\line(1,0){45}} \put(10,45){\line(1,0){45}}
       \put(10,60){\line(1,0){45}}
       %vertical lines
       \multiput(10,0)(15,0){5}{\line(0,1){15}}
       \multiput(10,45)(15,0){3}{\line(0,1){15}}
       %curved lines
       \qbezier(55,45)(45,52.5)(55,60) \qbezier(55,45)(65,52.5)(55,60)
       %other lines
       \qbezier(25,0)(25,0)(40,15) \qbezier(10,15)(10,15)(16,30)
       \qbezier(25,15)(25,15)(31,30) \qbezier(40,15)(40,15)(46,30)
       \qbezier(46,30)(46,30)(55,15) \qbezier(55,15)(55,15)(61,30)
       \qbezier(61,30)(61,30)(70,15) \qbezier(16,30)(16,30)(10,45)
       \qbezier(31,30)(31,30)(25,45) \qbezier(31,30)(31,30)(40,45)
       \qbezier(40,45)(40,45)(46,30) \qbezier(46,30)(46,30)(55,45)
       \qbezier(10,60)(10,60)(25,45) \qbezier(25,45)(25,45)(40,60)
}

%111p1new.tex

\put(75,0){

%circles
\multiput(10,0)(15,0){5}{\circle*{2}}
\multiput(10,15)(15,0){5}{\circle*{2}}
\multiput(16,30)(15,0){4}{\circle*{2}}
\multiput(10,45)(15,0){4}{\circle*{2}}
\multiput(10,60)(15,0){4}{\circle*{2}}

%words
\put(3,-5){START} \put(0.5,15){END}

%lines and arrows
\put(12,.5){\vector(1,0){11}} \put(12,-1){\vector(1,0){11}}
\put(27,0){\vector(1,0){11}} \put(42,-1){\vector(1,0){11}}
\put(53,.5){\vector(-1,0){11}} \put(57,0){\vector(1,0){11}}
\put(10,13){\vector(0,-1){11}} \put(24,2){\vector(0,1){11}}
\put(25.5,2){\vector(0,1){11}} \put(38,13){\vector(-1,-1){11}}
\put(40,2){\vector(0,1){11}} \put(55,13){\vector(0,-1){11}}
\put(70,2){\vector(0,1){11}} \put(23,15){\vector(-1,0){11}}
\put(27,14.5){\vector(1,0){11}} \put(38,16){\vector(-1,0){11}}
\put(42,15){\vector(1,0){11}} \put(68,14.5){\vector(-1,0){11}}
\put(57,16){\vector(1,0){11}} \qbezier(15,28)(15,28)(10.5,17)
\put(10.5,17){\vector(-1,-3){0}} \qbezier(30,28)(30,28)(25.5,17)
\put(30.25,28.5){\vector(1,3){0}} \qbezier(45,28)(45,28)(40.5,17)
\put(40.5,17){\vector(-1,-3){0}} \qbezier(47,28)(47,28)(54,17)
\put(47,28.5){\vector(-1,3){0}} \qbezier(60,28)(60,28)(55.5,17)
\put(55.5,17){\vector(-1,-3){0}} \qbezier(62,28)(62,28)(69,17)
\put(62,28.5){\vector(-1,3){0}} \put(18,30.5){\vector(1,0){11}}
\put(29,29){\vector(-1,0){11}} \put(33,30.5){\vector(1,0){11}}
\put(33,29){\vector(1,0){11}} \put(59,30.5){\vector(-1,0){11}}
\put(48,29){\vector(1,0){11}} \qbezier(11,43)(11,43)(15,32)
\put(15.25,31.5){\vector(1,-3){0}} \qbezier(26,43)(26,43)(30,32)
\put(26,43.5){\vector(-1,3){0}} \qbezier(38,44)(38,44)(31.5,32)
\put(31.5,31.5){\vector(-1,-3){0}} \qbezier(39,43)(39,43)(33,32)
\put(33,31.5){\vector(-1,-3){0}} \qbezier(41,43)(41,43)(45,32)
\put(41,43.5){\vector(-1,3){0}} \qbezier(53.5,43)(53.5,43)(46.5,32)
\put(53.75,43.75){\vector(1,3){0}} \put(23,45){\vector(-1,0){11}}
\put(27,45){\vector(1,0){11}} \put(53,45){\vector(-1,0){11}}
\put(9,58){\vector(0,-1){11}} \put(10.5,47){\vector(0,1){11}}
\put(23,47){\vector(-1,1){11}} \put(25,58){\vector(0,-1){11}}
\put(38,58){\vector(-1,-1){11}} \put(40,47){\vector(0,1){11}}
\qbezier(53,47)(47,52.5)(53,58) \put(53,47){\vector(1,-1){0}}
\qbezier(57,47)(63,52.5)(57,58) \put(57,58){\vector(-1,1){0}}
\put(12,60){\vector(1,0){11}} \put(38,60.5){\vector(-1,0){11}}
\put(27,59){\vector(1,0){11}} \put(53,60.5){\vector(-1,0){11}}
\put(42,59){\vector(1,0){11}}

%numbers
\scriptsize \put(16,1){1} \put(18,-3.5){5} \put(31,-2.5){6}
\put(46,-3.5){7} \put(46,1){12} \put(61,-2.5){8} \put(8,7){4}
\put(22,7){2} \put(26,7){15} \put(33,6){14} \put(40.5,7){13}
\put(55.5,7){11} \put(70.5,7){9} \put(16,12.5){3} \put(31,12){16}
\put(31,16.5){25} \put(46,12.5){17} \put(61,12){10}
\put(61,16.5){18} \put(9,23){53} \put(24,22){26} \put(39,22){24}
\put(52,22){21} \put(59,22){20} \put(67,22){19} \put(22,31){28}
\put(22,26.5){27} \put(37,31){33} \put(37,26.5){29} \put(52,31){23}
\put(52,26.5){22} \put(9,36){52} \put(29.25,36){36}
\put(32.5,40){35} \put(37,36){32} \put(44,37){34} \put(51.5,37){30}
\put(16,42.5){49} \put(31,45.5){37} \put(46,42.5){31} \put(6,51){51}
\put(11,51){50} \put(16,49){44} \put(22,52){48} \put(32,50){43}
\put(40.5,51){38} \put(51,51){40} \put(61,51){41} \put(16,60.5){45}
\put(31,61){47} \put(31,57){46} \put(46,61){42} \put(46,57){39} }

\end{picture}


       \setlength{\unitlength}{1mm}
       \begin{picture}(75,80)(-55,20)

       \put(-75,-80)
       {\multiput(10,0)(15,0){5}{\circle*{2}}
       \multiput(10,15)(15,0){5}{\circle*{2}}
       \multiput(16,30)(15,0){4}{\circle*{2}}
       \multiput(10,45)(15,0){4}{\circle*{2}}
       \multiput(10,60)(15,0){4}{\circle*{2}}}

       \put(-75,10)
       {\multiput(10,0)(15,0){5}{\circle*{2}}
       \multiput(10,15)(15,0){5}{\circle*{2}}
       \multiput(16,30)(15,0){4}{\circle*{2}}
       \multiput(10,45)(15,0){4}{\circle*{2}}
       \multiput(10,60)(15,0){4}{\circle*{2}}}

       \put(5,-80)
       {\multiput(10,0)(15,0){5}{\circle*{2}}
       \multiput(10,15)(15,0){5}{\circle*{2}}
       \multiput(16,30)(15,0){4}{\circle*{2}}
       \multiput(10,45)(15,0){4}{\circle*{2}}
       \multiput(10,60)(15,0){4}{\circle*{2}}}

       \put(5,10)
       {\multiput(10,0)(15,0){5}{\circle*{2}}
       \multiput(10,15)(15,0){5}{\circle*{2}}
       \multiput(16,30)(15,0){4}{\circle*{2}}
       \multiput(10,45)(15,0){4}{\circle*{2}}
       \multiput(10,60)(15,0){4}{\circle*{2}}}
       \end{picture}

\newpage

\begin{prb}
\label{mail}
Write down your best solution to the Mail Carrier Problem, labeling where you start and end, and numbering the blocks as you go.
\begin{enumerate}
\item  How many blocks are in the neighborhood?
\item  How many blocks must you walk in your best solution?
\end{enumerate}
\end{prb}

       \setlength{\unitlength}{1mm}
       \begin{picture}(50,50)(10,-60)


       \put(5,-80){\multiput(10,0)(15,0){5}{\circle*{2}}
       \multiput(10,15)(15,0){5}{\circle*{2}}
       \multiput(16,30)(15,0){4}{\circle*{2}}
       \multiput(10,45)(15,0){4}{\circle*{2}}
       \multiput(10,60)(15,0){4}{\circle*{2}}}


       \end{picture}

\vskip 1.4in
Clearly it is difficult to determine the shortest path, so let's examine some mini-neighborhoods illustrated on the next page.

\begin{prb}
For each graph on the next page write down:
\begin{enumerate}
\item the total number of blocks (edges) in the neighborhood, and
\item the smallest number of blocks that you can walk to deliver mail along each block, showing your path.
\end{enumerate}
\end{prb}

       \setlength{\unitlength}{1mm}
       \begin{picture}(180,190)

       \put(-5,44){(v)}
       \multiput(10,0)(15,0){6}{\circle*{2}}
       \multiput(10,15)(15,0){6}{\circle*{2}}
       \multiput(10,30)(15,0){6}{\circle*{2}}
       \multiput(10,45)(15,0){6}{\circle*{2}}
       \multiput(10,0)(15,0){6}{\line(0,1){15}}
       \multiput(25,15)(15,0){4}{\line(0,1){15}}
       \multiput(10,30)(15,0){6}{\line(0,1){15}}
       \multiput(10,0)(30,0){3}{\line(1,0){15}}
       \multiput(10,45)(30,0){3}{\line(1,0){15}}
       \put(10,15){\line(1,0){75}} \put(10,30){\line(1,0){75}}

       \put(-5,95){(iv)}
       \multiput(10,65)(15,0){4}{\circle*{2}}
       \multiput(10,80)(15,0){4}{\circle*{2}}
       \multiput(10,95)(15,0){4}{\circle*{2}}
       \multiput(10,65)(15,0){3}{\line(0,1){30}}
       \multiput(10,65)(30,0){2}{\line(1,0){15}}
       \multiput(10,80)(0,15){2}{\line(1,0){45}}
       \put(55,65){\line(0,1){15}}

       \put(-5,145){(iii)}
       \multiput(10,115)(15,0){3}{\circle*{2}}
       \multiput(10,130)(15,0){3}{\circle*{2}}
       \multiput(10,145)(15,0){3}{\circle*{2}}
       \multiput(10,115)(15,0){3}{\line(0,1){30}}
       \multiput(10,115)(0,15){3}{\line(1,0){30}}

       \put(-5,180){(i)}
       \put(10,165){\circle*{2}} \put(10,180){\circle*{2}}
       \put(25,165){\circle*{2}} \put(25,180){\circle*{2}}
       \put(10,165){\line(0,1){15}} \put(10,165){\line(1,0){15}}
       \put(10,180){\line(1,0){15}} \put(25,165){\line(0,1){15}}

       \put(55,180){(ii)}
       \put(75,0){\put(10,165){\circle*{2}} \put(10,180){\circle*{2}}
       \put(25,165){\circle*{2}} \put(25,180){\circle*{2}}
       \put(10,165){\line(0,1){15}} \put(10,165){\line(1,0){15}}
       \put(10,180){\line(1,0){15}} \put(25,165){\line(0,1){15}}}
       \put(85,180){\line(-1,0){15}} \put(100,165){\line(1,0){15}}
       \put(70,180){\circle*{2}} \put(115,165){\circle*{2}}

       \end{picture}

\newpage

The mathematics behind the mail carrier problem dates to eighteenth century east Prussia.  The historic city of K\''onigsberg (now Kaliningrad) is broken into four regions by the forking Pregel River. Seven bridges connect the parts of the city as shown in Figure~\ref{KB}. Strolling the city, the residents of K\''onigsberg found a challenge.  Is there a path that would take them over each bridge exactly once?

\begin{prb}
Find a path connecting all four regions of K\''onigsberg $($Figure \ref{KB}$)$ that takes you over each bridge exactly once.
\begin{annotation}
\endnote{I do warn my students that, like in life, not all problems in the text are well-posed and some might even be wrong.   The next problem is one such example. There is value in convincing yourself that something can't be done.}
\end{annotation}
\end{prb}

      \begin{figure}
       \setlength{\unitlength}{1mm}
       \begin{picture}(150,50)(-15,5)
       \put(40,10){\circle*{2}} \put(40,30){\circle*{2}}
       \put(40,50){\circle*{2}} \put(70,30){\circle*{2}}
       \qbezier(62,30)(62,34)(70,34) \qbezier(62,30)(62,26)(70,26)
       \qbezier(70,38)(63,38)(60,42) \qbezier(60,42)(57,46)(40,46)
       \qbezier(40,46)(18,46)(18,38) \qbezier(18,38)(17,34)(14,34)
       \qbezier(14,26)(17,26)(18,22) \qbezier(18,22)(18,14)(40,14)
       \qbezier(40,14)(57,14)(60,18) \qbezier(60,18)(63,22)(70,22)
       \qbezier(40,24)(54,24)(54,30) \qbezier(54,30)(54,36)(40,36)
       \qbezier(40,36)(26,36)(26,30) \qbezier(26,30)(26,24)(40,24)
       \put(14,34){\line(-1,0){6}} \put(14,26){\line(-1,0){6}}
       \put(70,22){\line(1,0){10}} \put(70,26){\line(1,0){10}}
       \put(70,34){\line(1,0){10}} \put(70,38){\line(1,0){10}}
       \multiput(32,27)(.1,0){10}{\line(-1,-3){5}}
       \multiput(48,27)(-.1,0){10}{\line(1,-3){5}}
       \multiput(32,33)(.1,0){10}{\line(-1,3){5}}
       \multiput(48,33)(-.1,0){10}{\line(1,3){5}}
       \multiput(52,29.5)(0,.1){10}{\line(1,0){12}}
       \multiput(75,32)(.1,0){10}{\line(-1,3){3}}
       \multiput(75,28)(.1,0){10}{\line(-1,-3){3}}
       \end{picture}
       \caption{K\''onigsberg Bridges}\label{KB}
     \end{figure}

      \begin{figure}[b]
       \setlength{\unitlength}{1mm}
       \begin{picture}(150,50)(50,5)
       \put(-20,0){\put(120,10){\circle*{2}} \put(120,30){\circle*{2}}
       \put(120,50){\circle*{2}} \put(150,30){\circle*{2}}
       \put(120,30){\line(1,0){30}} \qbezier(120,10)(106,20)(120,30)
       \qbezier(120,30)(106,40)(120,50) \qbezier(120,10)(134,20)(120,30)
       \qbezier(120,30)(134,40)(120,50) \qbezier(120,10)(142,10)(150,30)
       \qbezier(150,30)(142,50)(120,50)}
       \end{picture}
       \caption{Mathematical Representation of K\''onigsberg Bridges}
       \label{KB2}
     \end{figure}

Suppose we make each region of K\''onigsberg a dot and each bridge a curved line connecting the respective regions.  The result is shown in Figure \ref{KB2}. Now this problem looks like the mail carrier problem, except that we want to traverse each block \emph{exactly once}.

The mathematical model Figure \ref{KB2} of the K\''onigsberg Bridge Problem in Figure \ref{KB} is called a \emph{graph} and was invented (discovered?) by Leonard Euler, an eighteenth century resident of K\''onigsberg, in order to solve the K\''onigsberg Bridge Problem.

To solve the mail carrier problem and the K\''onigsberg Bridge Problem, we will first try to decide when it is possible to find a path going over each block or each bridge \emph{exactly once}.  These problems may be rephrased mathematically in the language of graphs and Euler paths.  Our goal is to determine when a given graph has an Euler path.

\begin{dfn}
A \textbf{graph} consists of a finite set of points, called its \textbf{vertices}, and a finite set of line segments connecting them, called its \textbf{edges}.
\end{dfn}

Mathematicians do allow for graphs with an infinite number of vertices or edges, but for our class, we will restrict ourselves to the study of graphs with a finite number of vertices and edges.

\begin{dfn}
A \textbf{loop} is an edge connecting a vertex to itself.  Two or more edges between the same two vertices are called \textbf{multiple edges}.
\end{dfn}

\begin{prb}
Can you draw a graph which has six vertices, four loops and two multiple edges? If so, do so.  If not, why not?
\end{prb}

\begin{dfn}
The \textbf{degree} of a vertex in a graph is the number of edges coming into it.  $($A loop counts as two edges.$)$  A vertex is \textbf{even} if its degree is an even number, and it is \textbf{odd} if its degree is an odd number.
\end{dfn}

\begin{prb}
Can you draw a graph with five vertices, each of degree four, which has no loops or multiple edges? If so, do so.  If not, why not?
\end{prb}

\begin{prb}
Can you draw a graph with three vertices of degree two and two vertices of degree three? If so, do so.  If not, why not?
\end{prb}

\begin{prb}
Can you draw a graph with two vertices of degree two and three vertices of degree three? If so, do so.  If not, why not?
\end{prb}

\begin{prb}
Can you draw a graph with one vertex of degree one, two vertices of degree two, three vertices of degree three and four vertices
of degree four? If so, do so.  If not, why not?
\end{prb}

\begin{dfn}
Two vertices are \textbf{adjacent} if an edge connects them.
\end{dfn}

\begin{dfn}
A \textbf{path} is a sequence of adjacent vertices with a connecting edge between each pair of adjacent vertices.
\end{dfn}

\begin{dfn}
A \textbf{circuit} is a path which starts and ends at the same vertex without repeating an edge.
\end{dfn}

\begin{dfn}
An \textbf{Euler path} is a path that passes over every edge of the graph exactly once.
\end{dfn}

\begin{dfn}
An \textbf{Euler circuit} is a circuit that passes over every edge of the entire graph.
\end{dfn}

\begin{prb}
Can you draw a graph with eight vertices and six edges which contains no circuit at all? If so, do so.  If not, why not?
\end{prb}

\begin{dfn}
\label{connecteddfn}
A graph is \textbf{connected} if every pair of vertices is connected by some path.  A graph is \textbf{disconnected} if it is not connected.
\end{dfn}

\begin{dfn}
A \textbf{component} of a graph is a maximal connected piece of the graph.
\end{dfn}

\begin{prb}
Can you draw a connected graph with exactly three edges that does not have an Euler path? If so, do so.  If not, why not?
\end{prb}

The next theorems tell us which graphs have an Euler path or an Euler circuit and how, if there is one, to find it.
\begin{annotation}
\endnote{At some appropriate lull in the class when students have little to present, we work out arguments together for the odd and even vertex theorems.   Once Fleury's algorithm has been presented, we have a summary discussion explaining how as a group these theorems completely tell the story of which graphs have an Euler Path/Circuit.   Then I do the example of the Eulerization of a graph.}
\end{annotation}

\begin{thm}
\textbf{Odd Vertex Theorem.} Suppose  $A$  is an odd vertex of a graph.
\begin{enumerate}
  \item An Euler path that starts at  $A$  cannot end at  $A$.
  \item An Euler path that does not start at  $A$  must end at  $A$.
  \item Every Euler path either starts or ends at  $A$.
\end{enumerate}
\end{thm}

\begin{thm}
\textbf{Even Vertex Theorem.} Suppose  B  is an even vertex of a graph.  Then every Euler path that starts at  B  must also end at  B $($and is therefore an Euler circuit$)$.
\end{thm}

From these two observations we can establish the following necessary conditions for a graph to have an Euler path or an Euler circuit.

\begin{thm}
\textbf{First Euler Path Theorem.} If a graph has an Euler path, then
\begin{enumerate}
  \item it must be connected and
  \item it must have either no odd vertices or exactly two odd vertices.
\end{enumerate}
\end{thm}

\begin{thm}
\textbf{First Euler Circuit Theorem.} If a graph has an Euler circuit, then
\begin{enumerate}
  \item it must be connected and
  \item it must have no odd vertices.
\end{enumerate}
\end{thm}

The two theorems above tell us which graphs do \emph{not} have an Euler path or circuit.  We would like to know that all remaining graphs (connected graphs with either  zero  or  two  odd vertices) do have Euler paths.  To do so requires a few theorems.  Try to prove the next three problems, but don't let them slow you down.  We can assume them and move on to the rest of the chapter and show them later when you get them.

\begin{prb}
Show that the sum of an odd number of odd numbers is odd.
\end{prb}

\begin{prb}
\label{even}
Show that the sum of the degrees of the vertices of a graph is even.\begin{annotation}
\endnote{The sum of the degrees of the vertices of a graph is twice number of edges, which gives us another opportunity to stress proof by induction.}
\end{annotation}
\end{prb}


\begin{prb}
\label{odd}
Show that every graph has an even number of odd vertices.\begin{annotation}
\endnote{If there are K odd vertices and J even vertices and K is odd, then the sum of the degrees contributed by the K odd vertices is a sum of odd numbers which is odd and the sum of the degrees contributed by the J even vertices is even.  An odd number + an even number is odd which contradicts Problem \ref{even}.}
\end{annotation}
\end{prb}


\begin{dfn} \label{cutedge}
An edge of a connected graph is called a \textbf{cut edge} if removal of that edge causes the graph to become disconnected.
\end{dfn}

\textbf{Fleury's Algorithm.}
\textit{
\begin{enumerate}
   \item Make a copy of the graph in pencil.
   \item Start at one of the odd vertices if there are any; otherwise start at any vertex.
   \item Follow a path in the copy, erasing each edge after you traverse it and numbering the corresponding edge in the original graph.  The only rule is to traverse a cut edge only if you are at a degree one vertex of the remaining graph.  If you are, then erase that vertex, traverse the cut edge, and then erase the cut edge.
   \item Stop when there is no edge you can traverse.
\end{enumerate}
}
\medskip

\begin{thm}
\textbf{Fleury's Theorem.} If a graph is connected and has either no odd vertices or exactly two odd vertices, then Fleury's Algorithm will produce an Euler Path.
\end{thm}

\noindent See the Project section for a proof of Fleury's Theorem.  There we will show that, when we apply Step 4, we will have an Euler Path.


\begin{expl}
Illustrate Fleury's Algorithm in class using the graph in Figure~\ref{FA}.  Applying Fleury's Algorithm and Fleury's Theorem, we will see that the next two conclusions follow immediately.
\end{expl}

\begin{thm}
\textbf{Second Euler Path Theorem.} If a graph is connected and has exactly 2 odd vertices, then it has an Euler path.
\end{thm}

\begin{thm}
\textbf{Second Euler Circuit Theorem.} If a graph is connected and has no odd vertices, then it has an Euler circuit (which is also an Euler path).
\end{thm}

\begin{prb}
\label{EP}
Decide whether or not each of the three graphs in Figure \ref{FEP} has an Euler path or an Euler circuit. If it has an Euler path or Euler circuit, trace it on the graph by marking the start and end, and numbering the edges. If it does not, then write a \textit{complete sentence} explaining how you know it does not.
\end{prb}

\newpage

\begin{figure}
       \setlength{\unitlength}{.8mm}
       \begin{picture}(140,205)(-40,0)

       \put(-35,185){Graph 1}
       %circles
       \put(0,-30){\multiput(30,190)(0,14){5}{\circle*{2}}
       \multiput(44,204)(0,14){3}{\circle*{2}}
       \multiput(58,197)(0,21){3}{\circle*{2}}
       \multiput(74,208)(14,0){2}{\circle*{2}}
       \multiput(74,228)(14,0){2}{\circle*{2}} \put(8,218){\circle*{2}}
       \put(18,211){\circle*{2}} \put(18,225){\circle*{2}}
       \put(100,218){\circle*{2}}
       %lines
       \put(30,190){\line(0,1){56}} \put(18,211){\line(0,1){14}}
       \put(44,204){\line(0,1){28}} \put(58,197){\line(0,1){42}}
       \put(88,208){\line(0,1){20}} \put(30,218){\line(1,0){28}}
       \put(30,204){\line(1,0){14}} \put(30,232){\line(1,0){14}}
       \put(74,208){\line(1,0){14}} \put(74,228){\line(1,0){14}}
       \qbezier(8,218)(8,218)(30,232) \qbezier(8,218)(8,218)(30,204)
       \qbezier(18,211)(18,211)(30,218) \qbezier(18,225)(18,225)(30,218)
       \qbezier(30,190)(30,190)(58,218) \qbezier(30,246)(30,246)(58,218)
       \qbezier(58,197)(58,197)(74,208) \qbezier(58,239)(58,239)(74,228)
       \qbezier(58,218)(58,218)(74,208) \qbezier(58,218)(58,218)(74,228)
       \qbezier(88,208)(88,208)(100,218)
       \qbezier(88,228)(88,228)(100,218)
       %curved lines
       \qbezier(74,208)(74,201)(81,201)\qbezier(81,201)(88,201)(88,208)
       \qbezier(74,228)(74,235)(81,235) \qbezier(81,235)(88,235)(88,228)}

       \put(-35,110){Graph 2}
       %circles
       \put(0,-25){\multiput(35,110)(22.5,0){3}{\circle*{2}}
       \multiput(20,125)(15,0){6}{\circle*{2}}
       \multiput(20,140)(15,0){6}{\circle*{2}}
       \multiput(20,155)(15,0){2}{\circle*{2}}
       \multiput(80,155)(15,0){2}{\circle*{2}}
       %lines
       \put(35,110){\line(1,0){45}} \put(20,125){\line(1,0){75}}
       \put(16,140){\line(1,0){83}} \put(16,155){\line(1,0){19}}
       \put(80,155){\line(1,0){19}} \put(20,125){\line(0,1){30}}
       \put(35,110){\line(0,1){45}} \put(50,125){\line(0,1){15}}
       \put(65,125){\line(0,1){15}} \put(80,110){\line(0,1){45}}
       \put(95,125){\line(0,1){30}} \qbezier(20,155)(20,155)(50,125)
       \qbezier(20,140)(20,140)(35,125) \qbezier(35,155)(35,155)(50,140)
       \qbezier(35,125)(35,125)(57.5,110)
       \qbezier(80,125)(80,125)(57.5,110)
       \qbezier(80,125)(80,125)(95,140) \qbezier(65,125)(65,125)(95,155)
       \qbezier(65,140)(65,140)(80,155)
       %curved lines
       \qbezier(16,140)(7,140)(7,147.5) \qbezier(7,147.5)(7,155)(16,155)
       \qbezier(99,140)(108,140)(108,147.5)
       \qbezier(108,147.5)(108,155)(99,155)}

       \put(-35,20){Graph 3}
       %circles
       \put(0,-10){\put(40,8){\circle*{2}} \put(68,50){\circle*{2}}
       \put(12,50){\circle*{2}} \put(40,18){\circle*{2}}
       \put(46,30){\circle*{2}} \put(34,30){\circle*{2}}
       \put(54,44){\circle*{2}} \put(40,44){\circle*{2}}
       \put(26,44){\circle*{2}} \put(40,50){\circle*{2}}
       \put(46,58){\circle*{2}} \put(34,58){\circle*{2}}
       \put(40,70){\circle*{2}} \put(54,28){\circle*{2}}
       \put(64,28){\circle*{2}} \put(70,17){\circle*{2}}
       \put(58,20){\circle*{2}} \put(26,28){\circle*{2}}
       \put(16,28){\circle*{2}} \put(10,17){\circle*{2}}
       \put(22,20){\circle*{2}}
       %lines
       \qbezier(40,8)(40,8)(68,50) \qbezier(40,8)(40,8)(12,50)
       \qbezier(40,8)(40,8)(70,17) \qbezier(40,8)(40,8)(10,17)
       \qbezier(68,50)(68,50)(70,17) \qbezier(68,50)(68,50)(12,50)
       \qbezier(68,50)(68,50)(40,70) \qbezier(12,50)(12,50)(40,70)
       \qbezier(12,50)(12,50)(10,17) \qbezier(40,18)(40,18)(54,44)
       \qbezier(40,18)(40,18)(26,44) \qbezier(54,44)(40,44)(26,44)
       \qbezier(34,30)(34,30)(40,44) \qbezier(46,30)(46,30)(40,44)
       \qbezier(40,50)(40,50)(46,58) \qbezier(40,50)(40,50)(34,58)
       \qbezier(40,70)(40,70)(46,58) \qbezier(40,70)(40,70)(34,58)
       \qbezier(10,17)(10,17)(16,28) \qbezier(10,17)(10,17)(22,20)
       \qbezier(26,28)(26,28)(16,28) \qbezier(26,28)(26,28)(22,20)
       \qbezier(54,28)(54,28)(58,20) \qbezier(54,28)(54,28)(64,28)
       \qbezier(70,17)(70,17)(58,20) \qbezier(70,17)(70,17)(64,28)
       \put(34,30){\line(1,0){12}}}


       \end{picture}
\caption{Three Graphs for Problem \ref{EP}}
\label{FEP}
\end{figure}

\newpage

\begin{figure}
       %Fleury's Algorithm

       \setlength{\unitlength}{.8mm}
       \begin{picture}(140,208)

       %points
       \multiput(40,5)(30,0){3}{\circle*{2}}
       \multiput(50,20)(20,0){3}{\circle*{2}}
       \multiput(40,35)(20,0){4}{\circle*{2}}
       \multiput(10,50)(20,0){7}{\circle*{2}}
       \multiput(40,65)(20,0){4}{\circle*{2}}
       \multiput(50,80)(20,0){3}{\circle*{2}}
       \multiput(40,95)(30,0){3}{\circle*{2}} \put(26,27){\circle*{2}}
       \put(26,73){\circle*{2}} \put(114,27){\circle*{2}}
       \put(114,73){\circle*{2}}
       %lines
       \qbezier(40,5)(40,5)(100,95) \qbezier(100,5)(100,5)(40,95)
       \qbezier(10,50)(10,50)(130,50) \qbezier(40,5)(40,5)(10,50)
       \qbezier(100,5)(100,5)(130,50) \qbezier(40,35)(40,35)(70,80)
       \qbezier(70,80)(70,80)(100,35) \qbezier(40,65)(40,65)(70,20)
       \qbezier(70,20)(70,20)(100,65) \qbezier(50,80)(50,80)(70,95)
       \qbezier(70,95)(70,95)(90,80) \qbezier(30,50)(30,50)(50,20)
       \qbezier(50,20)(50,20)(26,27) \qbezier(26,27)(26,27)(30,50)
       \qbezier(90,20)(90,20)(110,50) \qbezier(110,50)(110,50)(114,27)
       \qbezier(114,27)(114,27)(90,20) \put(10,50){\line(1,0){120}}
       \put(40,95){\line(1,0){60}} \put(40,35){\line(1,0){60}}
       \put(40,65){\line(1,0){60}} \put(50,80){\line(1,0){40}}
       %curved lines
       \qbezier(70,20)(80,12.5)(70,5) \qbezier(70,20)(60,12.5)(70,5)
       \qbezier(100,65)(113,60)(114,73) \qbezier(100,65)(101,78)(114,73)
       \qbezier(40,65)(28,60)(26,73) \qbezier(40,65)(39,78)(26,73)
       %just points
       \put(0,115){\multiput(40,5)(30,0){3}{\circle*{2}}
       \multiput(50,20)(20,0){3}{\circle*{2}}
       \multiput(40,35)(20,0){4}{\circle*{2}}
       \multiput(10,50)(20,0){7}{\circle*{2}}
       \multiput(40,65)(20,0){4}{\circle*{2}}
       \multiput(50,80)(20,0){3}{\circle*{2}}
       \multiput(40,95)(30,0){3}{\circle*{2}} \put(26,27){\circle*{2}}
       \put(26,73){\circle*{2}} \put(114,27){\circle*{2}}
       \put(114,73){\circle*{2}}}
       \end{picture}

       \caption{Fleury's Algorithm}\label{FA}
\end{figure}


\newpage

\begin{prb}
Use Fleury's Algorithm to find an Euler path for the graph below.
\end{prb}

       \setlength{\unitlength}{1mm}

       \begin{picture}(60,120)(20,-40)
       %circles only
       \put(0,-85){\multiput(70,10)(0,15){5}{\circle*{2}}
       \multiput(45,10)(0,15){4}{\circle*{2}}
       \multiput(95,10)(0,15){4}{\circle*{2}}
       \multiput(57.5,17.5)(0,15){2}{\circle*{2}}
       \multiput(82.5,17.5)(0,15){2}{\circle*{2}}
       \multiput(32.5,55)(12.5,0){7}{\circle*{2}}
       \multiput(32.5,64.5)(12.5,0){3}{\circle*{2}}
       \multiput(82.5,64.5)(12.5,0){3}{\circle*{2}}
       \put(45,74){\circle*{2}} \put(95,74){\circle*{2}}
       \put(34,20){\circle*{2}} \put(19,10){\circle*{2}}
       \put(19,20){\circle*{2}} \put(19,40){\circle*{2}}
       \put(106,20){\circle*{2}} \put(121,10){\circle*{2}}
       \put(121,20){\circle*{2}} \put(121,40){\circle*{2}}
       \put(60,4){\circle*{2}} \put(80,4){\circle*{2}}}

       %top diagram
       %circles
       \multiput(70,10)(0,15){5}{\circle*{2}}
       \multiput(45,10)(0,15){4}{\circle*{2}}
       \multiput(95,10)(0,15){4}{\circle*{2}}
       \multiput(57.5,17.5)(0,15){2}{\circle*{2}}
       \multiput(82.5,17.5)(0,15){2}{\circle*{2}}
       \multiput(32.5,55)(12.5,0){7}{\circle*{2}}
       \multiput(32.5,64.5)(12.5,0){3}{\circle*{2}}
       \multiput(82.5,64.5)(12.5,0){3}{\circle*{2}}
       \put(45,74){\circle*{2}} \put(95,74){\circle*{2}}
       \put(34,20){\circle*{2}} \put(19,10){\circle*{2}}
       \put(19,20){\circle*{2}} \put(19,40){\circle*{2}}
       \put(106,20){\circle*{2}} \put(121,10){\circle*{2}}
       \put(121,20){\circle*{2}} \put(121,40){\circle*{2}}
       \put(60,4){\circle*{2}} \put(80,4){\circle*{2}}
       %lines
       \put(45,10){\line(0,1){64}} \put(70,10){\line(0,1){60}}
       \put(95,10){\line(0,1){64}} \put(32.5,55){\line(0,1){9.5}}
       \put(107.5,55){\line(0,1){9.5}} \put(57.5,55){\line(0,1){9.5}}
       \put(82.5,55){\line(0,1){9.5}} \put(19,20){\line(0,1){20}}
       \put(121,20){\line(0,1){20}} \put(45,10){\line(1,0){50}}
       \put(45,25){\line(1,0){50}} \put(45,40){\line(1,0){50}}
       \put(32.5,55){\line(1,0){75}} \put(32.5,64.5){\line(1,0){25}}
       \put(82.5,64.5){\line(1,0){25}} \put(19,20){\line(1,0){15}}
       \put(106,20){\line(1,0){15}} \put(60,4){\line(1,0){20}}
       \qbezier(45,10)(45,10)(95,40) \qbezier(45,25)(45,25)(70,40)
       \qbezier(70,10)(70,10)(95,25) \qbezier(70,10)(70,10)(60,4)
       \qbezier(70,10)(70,10)(80,4) \qbezier(70,10)(70,10)(45,25)
       \qbezier(95,10)(95,10)(45,40) \qbezier(95,25)(95,25)(70,40)
       \qbezier(70,40)(70,40)(82.5,55) \qbezier(70,40)(70,40)(57.5,55)
       \qbezier(70,55)(70,55)(82.5,64.5)
       \qbezier(70,55)(70,55)(57.5,64.5)
       \qbezier(70,70)(70,70)(82.5,64.5)
       \qbezier(70,70)(70,70)(57.5,64.5) \qbezier(70,70)(70,70)(95,74)
       \qbezier(70,70)(70,70)(45,74) \qbezier(34,20)(34,20)(19,40)
       \qbezier(34,20)(34,20)(19,40) \qbezier(34,20)(34,20)(45,25)
       \qbezier(34,20)(34,20)(45,10) \qbezier(106,20)(106,20)(121,40)
       \qbezier(106,20)(106,20)(95,10) \qbezier(106,20)(106,20)(95,25)
       %curved lines & large circles
       \put(45,69.25){\circle{9.5}} \put(95,69.25){\circle{9.5}}
       \put(32.5,59.75){\circle{9.5}} \put(107.5,59.75){\circle{9.5}}
       \put(121,15){\circle{10}} \put(19,15){\circle{10}}
       \qbezier(45,40)(35,47.5)(45,55) \qbezier(45,55)(55,47.5)(45,40)
       \qbezier(95,40)(85,47.5)(95,55) \qbezier(95,55)(105,47.5)(95,40)
       \qbezier(19,10)(34,10)(34,20) \qbezier(34,20)(35,40)(19,40)
       \qbezier(19,40)(4,40)(5,21) \qbezier(5,21)(6,10)(19,10)
       \qbezier(121,10)(134,10)(135,21) \qbezier(135,21)(136,40)(121,40)
       \qbezier(121,40)(105,40)(106,20) \qbezier(106,20)(106,10)(121,10)
       \end{picture}

\newpage

\begin{figure}
\hspace{1cm}
       %111p12.tex
       \setlength{\unitlength}{1mm}
       \begin{picture}(180,95)(0,-50)

       %LEFT
       \put(10,0)
       {
       %circles
       \multiput(10,10)(12,0){6}{\circle*{2}}
       \multiput(10,25)(12,0){6}{\circle*{2}}
       \multiput(10,40)(12,0){6}{\circle*{2}} \put(10,25){\circle{5}}
       \put(22,40){\circle{5}} \put(58,10){\circle{5}}
       \put(58,40){\circle{5}} \put(22,10){\circle{5}}
       \put(70,25){\circle{5}}
       %
       %lines
       \multiput(10,10)(12,0){6}{\line(0,1){30}}
       \multiput(10,10)(0,15){3}{\line(1,0){24}}
       \multiput(46,10)(0,15){3}{\line(1,0){24}}
       \put(34,25){\line(1,0){12}}
       }
       %
       %RIGHT
       \put(-70,-50){
       %circles
       \multiput(90,10)(12,0){6}{\circle*{2}}
       \multiput(90,25)(12,0){6}{\circle*{2}}
       \multiput(90,40)(12,0){6}{\circle*{2}} \put(90,25){\circle{5}}
       \put(150,25){\circle{5}}
       %
       %lines
       %\put(-20,0){
       \multiput(90,10)(12,0){6}{\line(0,1){30}}
       \multiput(90,10)(0,15){3}{\line(1,0){24}}
       \multiput(126,10)(0,15){3}{\line(1,0){24}}
       \put(114,25){\line(1,0){12}} \qbezier(102,40)(95,32.5)(102,25)
       \qbezier(102,25)(109,17.5)(102,10)
       \qbezier(138,40)(145,32.5)(138,25)
       \qbezier(138,25)(131,17.5)(138,10)
       %start
       %\put(-20,0){
       \put(81,32){S}\put(81,28){T}
          \put(81,24){A}\put(81,20){R}\put(81,16){T}
       %numbers
       \put(88,31){1} \put(95,41){2}
       \put(96.5,34){3} \put(95,26){4} \put(88,16){5} \put(95,6){6}
       \put(99.5,16){7} \put(103,31){8} \put(107,41){9} \put(110,31){10}
       \put(110,16){11} \put(106,6){12} \put(105.5,12){13}
       \put(106,26){14} \put(119,26){15} \put(131,26){16}
       \put(131,12){17} \put(131,6){18} \put(126.5,16){19}
       \put(126.5,31){20} \put(131,41){21} \put(134,31){22}
       \put(139,16){23} \put(143,6){24} \put(151,16){25} \put(143,26){26}
       \put(142,34){27} \put(143,41){28} \put(151,31){29}
       %end
       \put(159,28){E}\put(159,24){N}\put(159,20){D}
       }
       \end{picture}

       \caption{Eulerization of the Mail Carrier Problem}\label{EM}
\end{figure}

Returning to our mail carrier problem, consider the problem of delivering mail in the top neighborhood illustrated in Figure \ref{EM}.  Because it has six odd vertices, we know that the graph has no Euler path and thus we can't find an Euler Circuit.  Therefore, we can't travel down each block exactly once. What is the smallest number of blocks that we can walk and still deliver all the mail? To answer this we apply a process called the \textbf{Eulerization} of the graph.  In the bottom copy of the graph in Figure \ref{EM}, we have inserted four new edges so that the resulting graph has exactly two odd vertices.  This is the minimum number of edges that will reduce the number of odd vertices to two. Because we can't build new roads (we are mail carriers, not city planners), the added edges represent the streets we must walk over twice, not new streets. The new graph is connected with exactly two odd vertices, so has an Euler Path of length $25 (original \ edges) + 4 (added \ edges) = 29 (total \ edges)$ blocks.  This is the shortest possible path that will cover each block in the neighborhood.

\begin{prb}
Apply the Eulerization process to the original Mail Carrier Problem in Problem \ref{mail} at the beginning of the chapter.
What is the minimum number of blocks that must be walked in order to deliver all the mail?
\begin{annotation}
\endnote{Before assigning this problem, ask student to give their answers to Problem~\ref{mail} and list them on the board.  Then ask them to find the real answer and compare it with those.}
\end{annotation}
\end{prb}


\begin{prb}
You are transferred to a new neighborhood, shown below.  Apply the Eulerization process to this new neighborhood so that you add the minimum possible number of edges.
\end{prb}

\vspace{2.0cm}
\hspace{-1.5cm}
       \setlength{\unitlength}{1mm}
       \begin{picture}(120,50)(5,0)

       %circles
       \multiput(30,10)(30,0){4}{\circle*{2}}
       \multiput(30,60)(30,0){4}{\circle*{2}}
       \multiput(15,25)(15,0){4}{\circle*{2}}
       \multiput(15,35)(15,0){4}{\circle*{2}}
       \multiput(15,45)(15,0){4}{\circle*{2}}
       \multiput(90,25)(15,0){4}{\circle*{2}}
       \multiput(90,35)(15,0){4}{\circle*{2}}
       \multiput(90,45)(15,0){4}{\circle*{2}}
       %lines
       \put(30,10){\line(1,0){90}} \put(15,25){\line(1,0){45}}
       \put(15,35){\line(1,0){120}} \put(15,45){\line(1,0){45}}
       \put(90,25){\line(1,0){45}} \put(90,45){\line(1,0){45}}
       \put(30,60){\line(1,0){90}} \put(15,25){\line(0,1){20}}
       \put(45,25){\line(0,1){20}} \put(105,25){\line(0,1){20}}
       \put(135,25){\line(0,1){20}} \put(30,10){\line(0,1){50}}
       \put(60,10){\line(0,1){50}} \put(90,10){\line(0,1){50}}
       \put(120,10){\line(0,1){50}} \put(30,10){\line(1,1){15}}
       \put(45,45){\line(1,1){15}} \put(90,10){\line(1,1){15}}
       \put(105,45){\line(1,1){15}} \put(15,45){\line(1,1){15}}
       \put(120,10){\line(1,1){15}} \put(30,10){\line(-1,1){15}}
       \put(45,45){\line(-1,1){15}} \put(60,10){\line(-1,1){15}}
       \put(120,10){\line(-1,1){15}} \put(105,45){\line(-1,1){15}}
       \put(135,45){\line(-1,1){15}} \qbezier(15,25)(3,35)(15,45)
       \qbezier(135,25)(147,35)(135,45)
       %Park and Pond
       \qbezier(75,14)(83,14)(83,22) \qbezier(83,22)(83,30)(75,30)
       \qbezier(75,30)(67,30)(67,22) \qbezier(67,22)(67,14)(75,14)
       \put(70,21){POND} \put(70,44){PARK}
       \end{picture}
\bsk


\begin{prb}
\label{last}
Using the dots below, copy your Eulerized graph above lightly with a pencil. Use Fleury's algorithm to find an Euler path for this graph. Be sure to mark the start and the end.
\end{prb}

\hspace{-1.0cm}

      \setlength{\unitlength}{1mm}
       \begin{picture}(120,60)(20,0)

       \multiput(30,10)(30,0){4}{\circle*{2}}
       \multiput(30,60)(30,0){4}{\circle*{2}}
       \multiput(15,25)(15,0){4}{\circle*{2}}
       \multiput(15,35)(15,0){4}{\circle*{2}}
       \multiput(15,45)(15,0){4}{\circle*{2}}
       \multiput(90,25)(15,0){4}{\circle*{2}}
       \multiput(90,35)(15,0){4}{\circle*{2}}
       \multiput(90,45)(15,0){4}{\circle*{2}}
       \put(70,21){POND}
       \put(70,44){PARK}
       \end{picture}



\section{Project:  Proof of Fleury's Theorem}

As we will see in the next chapter, optimization problems often do not have a known and efficient solution that always works.  Fleury's Theorem says that the Mail Carrier Problem is one of the exceptional ones that does.

Notice that Fleury's Algorithm can be applied to any graph whereas Fleury's Theorem applies only to special graphs.  Assume we apply Fleury's Algorithm to some graph starting at some vertex $A$.  Each time we traverse an edge we erase it, thereby ensuring that we will not traverse it more than once.  Since the number of edges is finite, we must eventually stop at Step 4 because there is no edge we can traverse.  Now, there are only three possible reasons why there would be no edge we could traverse.
\begin{enumerate}
   \item[R1.] We are at a degree 0 vertex, having erased all other vertices and all edges.  In that case we have traversed all edges (exactly once) and have therefore found an Euler Path!\ \hfill  :)
   \item[R2.] We are at a degree 0 vertex but there are remaining edges we have not traversed.  In that case we can not extend our path to an Euler Path. \ \hfill :(
   \item[R3.]  We are at a vertex of degree greater than one, but every edge connecting to it is a cut edge.  In that case Step 2 prevents us from traversing any of these edges to complete an Euler Path. \ \hfill :(
\end{enumerate}

We will prove Fleury's Theorem by showing that, under the conditions it imposes, neither R2 nor R3 will happen.

\begin{dfn}
A \textbf{subgraph} of a graph is a subset of the vertices of the graph along with the edges that connected them in the original graph.
\end{dfn}

Let $\G$ be a connected graph and let $e$ be a cut edge of $\G$ connecting vertex $A$ with vertex $B$.  Let $\X$ be the subgraph of $\G$ made up of all vertices $C$ such that there is a path from $C$ to $A$ that does not go over $e$.  In particular, $A$ is in~$\X$.  Let $\Y$ be the subgraph made up of all of the remaining vertices.

\begin{prb}\label{Y}
Show that a vertex $D$ of\/ $\G$ is in $\Y$ if and only if there is a path from $D$ to $B$ that does not go over~$e$.  In particular,  $B$ is in $\Y$.
\end{prb}

\begin{prb}\label{connected}
If $e$ is a cut edge, the subgraphs $\X$ and $\Y$ are both connected.
\end{prb}

\begin{prb}\label{odd vertex}
The subgraphs $\X$ and $\Y$ each contain an odd vertex.
\end{prb}

\begin{prb}\label{connectedgrph}
Assume Fleury's algorithm is applied to a connected graph.  Then, for each non-negative integer $n$,  the graph formed by the vertices and edges remaining after traversing $n$ edges is connected.
\end{prb}

\begin{prb}\label{not R2}
Show that, if Fleury's Algorithm is applied to a connected graph, then {\rm R2} can not happen.
\end{prb}
\goodbreak

Up to now we have not mentioned the conditions Fleury's Theorem imposes on the number of odd vertices:  there are either no odd vertices or exactly two odd vertices.  We will need this hypothesis to show R3 can not happen either.

\begin{prb}
Assume Fleury's Algorithm is applied to a connected graph with two odd vertices.  Let $P$ be the odd vertex where the path begins and let $Q$ be the other odd vertex.  Prove the following is true  for each non-negative integer~$n$.  If the path traverses $n$ edges, then either
\begin{enumerate}
   \item we are at vertex $Q$ and there are no odd vertices in the remaining graph or
   \item we are not at vertex $Q$ and there are exactly two odd vertices in the remaining graph:  $Q$ and the vertex we are at.
\end{enumerate}
\end{prb}

\begin{prb}
Assume Fleury's Algorithm is applied to a connected graph with no odd vertices.  Let $Q$ be the vertex where the path begins.  Prove the following is true  for each non-negative integer~$n$.  If the path traverses $n$ edges, then either
\begin{enumerate}
   \item we are at vertex $Q$ and there are no odd vertices in the remaining graph or
   \item we are not at vertex $Q$ and there are exactly two odd vertices in the remaining graph:  $Q$ and the vertex we are at.
\end{enumerate}
\end{prb}

\begin{prb}
Use the facts you have established to explain why R3 can not happen when Fleury's Algorithm is applied to a connected graph with either no odd vertices or exactly two odd vertices.  It follows that the path must end at Step 4 for reason R1, and therefore must be an Euler Path.
\end{prb}


\chapter{Traveling Salesman Problems}

Most phones and GPS units have the capability to allow you to input multiple locations and have the unit compute a path that visits all locations while minimizing your choice of time or distance.   Does yours always find the best path?  Ours don't.  The unit most likely uses one of the algorithms in this chapter.   The Traveling Salesman Problem (TSP) models a variety of different real world problems where we seek to minimize the time required to do something:

\begin{description}
  \item[work orders,] where vertices represent repair jobs and weights
represent times required to re-tool for the next job;
  \item[jobs on a machine,] where vertices represent tasks and weights
represent times to reconfigure the machine for the next task;
  \item[circuit boards,] where vertices represent holes to be drilled in
the board and weights represent times to rotate the board into the
new position.
\end{description}


Returning to your employment status... Having determined that the shortest mail route required nine-hour days, you've decided to look for a job as a traveling salesman.  A health food supplier is looking for someone to make deliveries to five stores in the region.  Figure \ref{HF} shows the five stores and the distances between them in miles.  You will be paid for each trip that visits all five stores.

\begin{figure}[b]
       \setlength{\unitlength}{1mm}
      \begin{picture}(50,50)(-20,0)
      \put(40,7){
      %%
      \put(0,0){\circle*{2}}
      \put(-25,15){\circle*{2}}
      \put(25,15){\circle*{2}}
      \put(-10,30){\circle*{2}}
      \put(10,30){\circle*{2}}
      %%
      \qbezier(0,0)(-12.5,7.5)(-25,15)
      \qbezier(0,0)(12.5,7.5)(25,15)
      \qbezier(0,0)(-5,15)(-10,30)
      \qbezier(0,0)(5,15)(10,30)
      %
      \put(25,15){\line(-1,0){50}}
      \qbezier(25,15)(7.5,22.5)(-10,30)
      \qbezier(25,15)(17.5,22.5)(10,30)
      %
      \put(10,30){\line(-1,0){20}}
      \qbezier(10,30)(-7.5,22.5)(-25,15)
      %
      \qbezier(-10,30)(-17.5,22.5)(-25,15)
      %%
      \put(3,23){$^{100}$}
      \put(-6,23){$^{30}$}
      \put(-1.25,11){$^{55}$}
      \put(-9.5,16){$^{50}$}
      \put(7,16){$^{40}$}
      \put(14,4){$^{65}$}
      \put(-18,4){$^{110}$}
      \put(-1,30){$^{60}$}
      \put(17.5,22){$^{70}$}
      \put(-20,22){$^{90}$}
      %%
      \put(-1,-6){D}
      \put(28,14){C}
      \put(-30,14){E}
      \put(-13,32){A}
      \put(11,32){B}}
      %%
      \end{picture}
       \caption{Health Food Stores}\label{HF}
\end{figure}

This looks good since you can travel at your own pace and won't have to worry about graph theory!  Since you live near $A$, you decide on the loop,
$$A \to B \to C \to D \to E \to A$$ which is $$60+70+65+100+90 =385 \textrm{ miles}.$$ On second thought, you observe that you \emph{could} travel the loop, $$A \to B \to D \to E \to C \to A$$ which is only $$60+40+110+55+100 = 365 \textrm{ miles}.$$ Your brain starts to hurt when you wonder, ``What is the shortest route?'' and ``Just how many routes are there?''  Back to graph theory and counting...

\begin{prb}\label{BFA Example}
List all the possible routes starting and ending at $A$, and hitting every other store exactly once.  List the total distance traveled for each route. What is a $($the?$)$ shortest route? What is a $($the?$)$ longest route?  Could there be a shorter route starting and ending somewhere else?
\begin{annotation}
\endnote{The last question in this problem is placed here with the hope that students will recognize that they need only start and end at one vertex $A$ because the path $BACDEB$ has the same length as the path $ACDEBA$.  So considering all paths starting and ending at $A$ is sufficient.}
\end{annotation}
\end{prb}

Let's rephrase this problem in the language of graph theory.

\begin{dfn}
A \textbf{weighted graph} is a graph in which each edge has been assigned a positive number called its \textbf{weight}.
\end{dfn}

\begin{dfn}
The \textbf{weight} of a circuit is the sum of the weights of its edges.
\end{dfn}

\begin{dfn}
A circuit which passes through every vertex exactly once is called a \textbf{Hamilton circuit}.
\end{dfn}

\begin{dfn}
A \textbf{minimum weight Hamilton circuit} is a Hamilton circuit that has the smallest possible weight of all Hamilton circuits.
\end{dfn}

In graph theory terms, the \textbf{TSP} is the problem of finding a minimum weight Hamilton circuit.   Notice that there is an edge between every pair of stores in Figure \ref{HF}.  Such a graph is called \emph{complete}.

\begin{dfn}
A \textbf{complete graph} is a graph in which every pair of distinct vertices is connected by an edge.
\end{dfn}

\begin{prb}
How many Hamilton circuits are there in a complete graph on three vertices? On four vertices?  On twelve vertices?  On $N$ vertices? \begin{annotation}
\endnote{We hope that a student discovers that given a complete graph and a vertex on that graph, there are $(N-1)!$  Hamilton circuits that start and end at this vertex if we consider two circuits the same when they follow the same edges in the same direction. (In fact, there would be half this many if were also considered reversals to be the same.)

When a student solves this problem, I typically demonstrate the following nice way to implement the brute force method by using a tree to see that we list every possible circuit.  Consider the complete graph on six vertices, $A$, $B$, $C$, $D$, $E$ and $F$.  Starting with $A$, there are 5 places we can go: $B$, $C$, $D$, $E$ or $F$.
\bigskip

{\tiny
%graph_p18.tex

      \setlength{\unitlength}{1mm}
      \begin{picture}(100,45)(-10,0)

      \put(-8,-3){
      \put(55,5){\circle*{.5}}
      \multiput(15,15)(20,0){5}{\circle*{.5}}
      %
      \put(55,5){
      %
      \put(0,0){\line(0,1){10}}
      \qbezier(0,0)(-10,5)(-20,10)
      \qbezier(0,0)(10,5)(20,10)
      \qbezier(0,0)(-20,5)(-40,10)
      \qbezier(0,0)(20,5)(40,10)
      %
      \put(-.5,-4){A}
      %
      {\thicklines
      %
      \put(0,25){\vector(0,1){10}}
      \put(20,25){\vector(1,2){5}}
      \put(40,25){\vector(1,1){10}}
      \put(-40,25){\vector(-1,1){10}}}}
      %

      \put(15,15){
      %
      \put(0,0){\circle*{.5}}
      \put(2.5,10){\circle*{.5}}
      \put(-2.5,10){\circle*{.5}}
      \put(7.5,10){\circle*{.5}}
      \put(-7.5,10){\circle*{.5}}
      %
      \qbezier(0,0)(2.5,10)(2.5,10)
      \qbezier(0,0)(-2.5,10)(-2.5,10)
      \qbezier(0,0)(7.5,10)(7.5,10)
      \qbezier(0,0)(-7.5,10)(-7.5,10)
      %
      \put(-2,-2){B}
      \put(-10,9){C}
      \put(-5,9){D}
      \put(0,9){E}
      \put(5,9){F}}
      %

      \put(35,15){
      %
      \put(0,0){\circle*{.5}}
      \put(2.5,10){\circle*{.5}}
      \put(-2.5,10){\circle*{.5}}
      \put(7.5,10){\circle*{.5}}
      \put(-7.5,10){\circle*{.5}}
      %
      \qbezier(0,0)(2.5,10)(2.5,10)
      \qbezier(0,0)(-2.5,10)(-2.5,10)
      \qbezier(0,0)(7.5,10)(7.5,10)
      \qbezier(0,0)(-7.5,10)(-7.5,10)
      %
      \put(-2,-2){C}
      \put(-10,9){B}
      \put(-5,9){D}
      \put(0,9){E}
      \put(5,9){F}}
      %
      \put(55,15){
      %
      \put(0,0){\circle*{.5}}
      \put(2.5,10){\circle*{.5}}
      \put(-2.5,10){\circle*{.5}}
      \put(7.5,10){\circle*{.5}}
      \put(-7.5,10){\circle*{.5}}
      %
      \qbezier(0,0)(2.5,10)(2.5,10)
      \qbezier(0,0)(-2.5,10)(-2.5,10)
      \qbezier(0,0)(7.5,10)(7.5,10)
      \qbezier(0,0)(-7.5,10)(-7.5,10)
      %
      \put(-2,-2){D}
      \put(-10,9){B}
      \put(-5,9){C}
      \put(0,9){E}
      \put(5,9){F}}
      %
      \put(75,15){
      %
      \put(0,0){\circle*{.5}}
      \put(2.5,10){\circle*{.5}}
      \put(-2.5,10){\circle*{.5}}
      \put(7.5,10){\circle*{.5}}
      \put(-7.5,10){\circle*{.5}}
      %
      \qbezier(0,0)(2.5,10)(2.5,10)
      \qbezier(0,0)(-2.5,10)(-2.5,10)
      \qbezier(0,0)(7.5,10)(7.5,10)
      \qbezier(0,0)(-7.5,10)(-7.5,10)
      %
      \put(2,-2){E}
      \put(-10,9){B}
      \put(-5,9){C}
      \put(0,9){D}
      \put(5,9){F}}
      %
      \put(95,15){
      %
      \put(0,0){\circle*{.5}}
      \put(2.5,10){\circle*{.5}}
      \put(-2.5,10){\circle*{.5}}
      \put(7.5,10){\circle*{.5}}
      \put(-7.5,10){\circle*{.5}}
      %
      \qbezier(0,0)(2.5,10)(2.5,10)
      \qbezier(0,0)(-2.5,10)(-2.5,10)
      \qbezier(0,0)(7.5,10)(7.5,10)
      \qbezier(0,0)(-7.5,10)(-7.5,10)
      %
      \put(2,-2){F}
      \put(-10,9){B}
      \put(-5,9){C}
      \put(0,9){D}
      \put(5,9){E}}
      %
      \put(32.5,25){
      %
      \multiput(-5,10)(5,0){3}{\circle*{.5}}
      \multiput(-12.5,15)(5,0){6}{\circle*{.5}}
      \multiput(-12.5,20)(5,0){6}{\circle*{.5}}
      %
      \put(0,0){\line(0,1){10}}
      \qbezier(0,0)(-5,10)(-5,10)
      \qbezier(0,0)(5,10)(5,10)
      %
      \qbezier(0,10)(2.5,15)(2.5,15)
      \qbezier(0,10)(-2.5,15)(-2.5,15)
      \qbezier(5,10)(7.5,15)(7.5,15)
      \qbezier(5,10)(12.5,15)(12.5,15)
      \qbezier(-5,10)(-7.5,15)(-7.5,15)
      \qbezier(-5,10)(-12.5,15)(-12.5,15)
      %
      \multiput(-12.5,15)(5,0){6}{\line(0,1){5}}
      %
      \put(-2.5,8){E}
      \put(-7.5,8){B}
      \put(5,8){F}
      %
      \put(-15,14){E}
      \put(-15,19){F}
      \put(-10,14){F}
      \put(-10,19){E}
      \put(-5,14){B}
      \put(-5,19){F}
      \put(3,14){F}
      \put(3,19){B}
      \put(8,14){B}
      \put(8,19){E}
      \put(13,14){E}
      \put(13,19){B}}
      }
      %
      \end{picture}
}
\bigskip

From any one of these, say C, there are 4 places we can go: B, D, E, F. From D we can continue to any of 3 places:  B, E or F.  From F we have 2 choices:  B or E, and from each of these there is only 1 choice.  The total number of inequivalent Hamilton circuits in this complete graph with six vertices is therefore $5\times 4\times 3\times 2\times 1 = 5! = 120$.}
\end{annotation}
\end{prb}

%wtm I suggest either deletion of this paragraph or the following minor revision since I added the last problem back.  I don't understand your statement that ''we have no simple uniform way to list them all''.  I'm pretty sure I could write a program in an hour that would list them all even with missing edges, but perhaps I am overlooking something more complex.

%DMC:  By "no simple uniform way to list them all", I mean relative to the way we have for complete graphs in endnote 22.  Even that is a challenge for a lot of students.  Your revision is just fine with me.  I do think we need to say something about why, in this one of three graph chapters, we are restricting to complete graphs.  I like the last problem (#146), which illustrates some difficulties with non-complete graphs but requires some comment here about the distinction between TSPs on complete and non-complete graphs.  

\noindent The TSP is
%a bit
more complex for non-complete graphs.  As we have
%just
seen, a complete graph has many Hamilton circuits.  In contrast, a non-complete graph may have no Hamilton circuit, and the problem of determining if a non-complete graph has a Hamilton circuit at all is a difficult one.
%Even if it does, we have no simple uniform way to list them all to solve the TSP as we did in Problem~\ref{BFA Example}.
%For these reasons
Therefore we will consider complete graphs in this chapter
%added
except for the last problem of the chapter before the project section.

We will study three different algorithms for solving the TSP, each of which is not completely satisfactory for a different reason.  The first method we study is the one you applied above.\\

\textbf{Brute Force TSP Algorithm.}  \textsl{
\begin{enumerate}
  \item List all Hamilton circuits.
  \item Compute the total weight of each circuit in the list.
  \item Pick out a minimum weight circuit.
\end{enumerate}
}

This algorithm finds all optimal solutions, since we check every possible solution. However, the time required to execute the algorithm grows rapidly as we add new vertices.  Suppose we have a weighted graph with 12 vertices.  To decide if this graph has an Euler path, and then to use Fleury's Algorithm to find that Euler Path, might take 10 minutes.  The time required to solve the TSP with the Brute Force Algorithm for a similar sized graph is somewhat longer.

\begin{prb}\label{prob: bf time}
Suppose you want to use the Brute Force Algorithm to solve the TSP for a graph with 12 vertices, that you can compute the weight of one Hamilton circuit in 10 minutes and that the fate of the world rests on your results.  How long will it take you to check all of the different circuits?
\end{prb}

This problem suggests that we consider other more practical algorithms. The next two algorithms are called \textbf{greedy algorithms} because at each step we do whatever is most advantageous to us at that moment, without planning ahead. \msk
\goodbreak

\textbf{Nearest Neighbor Greedy Algorithm.}
\textsl{
\begin{enumerate}
  \item Choose any vertex as a starting point.
  \item At each step, go to any one of the closest remaining vertices.
  \item Once every vertex has been visited, return home.
\end{enumerate}
Now, repeat this process starting at another vertex.  Once you have created circuits using each vertex as a starting point, compare the weights of all the circuits and choose a circuit of minimum weight.
} \msk

\begin{prb}
Apply the Nearest Neighbor Greedy Algorithm to the Health Food Store problem in Figure \ref{HF}.  You need to start by drawing 5 copies of the vertices of the graph, one for each starting place.  Circle the starting vertex of each one, and then insert the edges that you use for your circuit numbering them as you add them.  Write under each one the weight of the path you get.  Finally, tell which path is the shortest.  That is your solution to the TSP.
\end{prb}

\noindent The Nearest Neighbor Greedy Algorithm is more time efficient than the Brute Force Algorithm.  Our next algorithm, The Cheapest Link Greedy Algorithm, is even more time efficient.
\medskip

\textbf{Cheapest Link Greedy Algorithm.}
\textsl{
\begin{enumerate}
  \item Make a copy of the vertices of the original graph.
  \item Repeat Step 3 until you have a Hamilton circuit.
  \item Add a minimal weight edge from your original graph to your copy so that
  \begin{enumerate}
      \item if added to your copy, it will not create a degree three vertex, and,
      \item if added to your copy, it will not close a circuit unless that circuit is a Hamilton circuit.
  \end{enumerate}
\end{enumerate}
}


\begin{prb}
Apply the Cheapest Link Greedy Algorithm to Figure \ref{HF}.  Draw the 5 vertices, then add the edges one at a time, numbering them as you go, until you have a circuit.  What is the weight of this circuit?
\end{prb}

\begin{figure}[H]
      \setlength{\unitlength}{1mm}
      \begin{picture}(55,45)(-20,0)

      \put(40,7){
      %%
      \put(0,0){\circle*{2}}
      \put(-25,15){\circle*{2}}
      \put(25,15){\circle*{2}}
      \put(-10,30){\circle*{2}}
      \put(10,30){\circle*{2}}
      %%
      \qbezier(0,0)(-12.5,7.5)(-25,15)
      \qbezier(0,0)(12.5,7.5)(25,15)
      \qbezier(0,0)(-5,15)(-10,30)
      \qbezier(0,0)(5,15)(10,30)
      %
      \put(25,15){\line(-1,0){50}}
      \qbezier(25,15)(7.5,22.5)(-10,30)
      \qbezier(25,15)(17.5,22.5)(10,30)
      %
      \put(10,30){\line(-1,0){20}}
      \qbezier(10,30)(-7.5,22.5)(-25,15)
      %
      \qbezier(-10,30)(-17.5,22.5)(-25,15)
      %%
      \put(4,23){$^{200}$}
      \put(-7.5,23){$^{340}$}
      \put(-1.75,11){$^{165}$}
      \put(-11,16){$^{185}$}
      \put(7,16){$^{360}$}
      \put(14,4){$^{320}$}
      \put(-18,4){$^{302}$}
      \put(-1.5,30){$^{500}$}
      \put(17.5,22){$^{305}$}
      \put(-21,22){$^{205}$}
      %%
      \put(-1,-6){S}
      \put(28,14){R}
      \put(-30,14){T}
      \put(-13,32){P}
      \put(11,32){Q}}

      \end{picture}
      \caption{Weighted Graph}
      \label{HC}
      \end{figure}

\begin{prb}\label{BF4HC}
Use the Brute Force Algorithm to solve the TSP for Figure~\ref{HC}.
\end{prb}

\begin{prb}
Use the Nearest Neighbor Greedy Algorithm to solve the TSP for Figure \ref{HC}.
\end{prb}

\begin{prb}
Use the Cheapest Link Greedy Algorithm to solve the TSP for Figure \ref{HC}.
\end{prb}

We have seen the NNGA give us minimal weight Hamilton circuits while the time efficiency of the CLGA can come at the cost of a slightly less than minimal weight circuit.

\begin{prb}
In the previous two problems, the NNGA gives the minimal weight circuit found by the BFA and the CLGA gives the second to minimal weight circuit.  Can you find an example in which the CLGA gives a minimal weight circuit but the NNGA does not?
\begin{annotation}
\endnote{At the time of publication, the author's have not.}
\end{annotation}
\end{prb}

Does the NNGA, like Fleury's Algorithm, always give us an optimal solution?  The answer is ``No''.

\begin{prb}\label{GAs fail}
Find an example of a weighted graph with four vertices in which neither of the Greedy Algorithms produce a correct answer to the TSP no matter which allowable choices are made. $($This proves mathematically that greed does not always pay!$)$
\msk
\end{prb}


\begin{figure}[H]
       \setlength{\unitlength}{1mm}
       \begin{picture}(45,40)(0,0)
\put(15,0){
%vertices
       \put(20,20){\circle*{2}}  \put(15,19){D}
       \put(30,10){\circle*{2}}  \put(29,5){F}
       \put(30,30){\circle*{2}}  \put(29,33){A}
       \put(50,10){\circle*{2}}  \put(49,5){G}
       \put(50,30){\circle*{2}}  \put(49,33){B}
       \put(70,10){\circle*{2}}  \put(69,5){H}
       \put(70,30){\circle*{2}}  \put(69,33){C}
       \put(60,20){\circle*{2}}  \put(63,19){E}
%edges
       \put(50,10){\line(-1,0){20}}  \put(50,30){\line(-1,0){20}}
       \put(30,10){\line(0,1){20}}  \put(20,20){\line(1,1){10}}
       \put(20,20){\line(1,-1){10}}  \put(50,10){\line(0,1){20}}
       \put(50,10){\line(1,0){20}}  \put(50,30){\line(1,0){20}}
       \put(50,10){\line(1,1){20}} \put(50,30){\line(1,-1){20}}
%weights
          \put(59,6){$^{8}$}  \put(31,18){$^1$}
          \put(53,14){$^{2}$} \put(65.5,14){$^{4}$}
          \put(46,18){$^{11}$} \put(39.5,6){$^{6}$}
          \put(53,22){$^{7}$}  \put(65.5,22){$^{9}$}
          \put(59,30){$^{3}$}  \put(39,30){$^5$}
          \put(21.5,12){$^{12}$}  \put(21.5,24){$^{10}$}
}
       \end{picture}
\caption{An Incomplete Weighted Graph}\label{fig:incomplete}
\label{CLGA}
\end{figure}


\begin{prb}\label{prob:incomplete}
The weighed graph in Figure~\ref{fig:incomplete} is not complete.
\begin{enumerate}
   \item Without using any of our algorithms, find a minimum weight Hamilton circuit.
   \item Try to apply the greedy algorithms to this problem.  What happens?
   \begin{annotation}
      \endnote{This problem is intended to drive home the point that the problem of incomplete graphs is a more difficult one by showing that for certain incomplete graphs, the stated algorithms might fail.}
\end{annotation}
\end{enumerate}
\end{prb}

Since 1971, when it first gained public attention, considerable effort has gone into finding a good solution to the Traveling Salesman Problem, but no solution has been found that is quick, efficient, easy to apply (like Greedy algorithms) and guaranteed to work (like the Brute Force Algorithm). Considerable evidence suggests that no such solution exists at all.

\newpage


\section{Project:  Edges with Equal Weights}

The weighted graphs presented in this chapter have all had the property that no two edges have the same weight.  If, in the application of the greedy algorithms, there is more than one edge with minimal weight, we simply pick one of them at random.  This means that we may get different outcomes depending on the choices we make.  See how much variation there is in the outcomes when your class does the following problem.

\begin{prb}\label{prob:friends}
Suppose that you need to make a delivery to each of 11 friends and then return home.  What's more, your car is in very bad shape and you don't want to drive it any further than absolutely necessary.  Call your house A and the houses of your friends B, C, D, E, F, G, H, I, J, K and L. Table \ref{table} below indicates the distances between each pair of houses.  You need to find a Hamilton circuit through the complete graph on 12 vertices, A, B, C, D, E, F, G, H, I, J, K and L, which has as small a total distance as possible. According to what you learned in Problem~\ref{prob: bf time}, you are quite certain that you don't want to use the Brute Force Algorithm to find this circuit.
\end{prb}

\begin{table}[H]
 \begin{center}
  \begin{tabular}{|| l | r | r | r | r | r | r | r | r | r | r | r | r ||}
  \hline
     & A & B & C & D & E & F & G & H & I & J & K & L \\ \hline
   A &   & 8 &15 & 7 & 6 & 9 &10 &16 &11 & 7 & 9 &10 \\ \hline
   B &   &   & 9 &12 & 6 & 9 &11 &15 &12 & 8 & 9 & 6 \\ \hline
   C &   &   &   & 7 &10 &11 & 9 & 5 & 6 & 9 &10 &12 \\ \hline
   D &   &   &   &   & 8 & 6 &13 &10 & 9 & 5 &11 & 7 \\ \hline
   E &   &   &   &   &   &10 & 7 & 6 & 9 &10 & 8 & 9 \\ \hline
   F &   &   &   &   &   &   & 9 & 8 &10 & 6 & 5 &16 \\ \hline
   G &   &   &   &   &   &   &   & 7 &15 & 7 & 6 & 8 \\ \hline
   H &   &   &   &   &   &   &   &   & 5 & 9 &14 &10 \\ \hline
   I &   &   &   &   &   &   &   &   &   & 8 &19 & 7 \\ \hline
   J &   &   &   &   &   &   &   &   &   &   &12 & 5 \\ \hline
   K &   &   &   &   &   &   &   &   &   &   &   & 6 \\ \hline
  \end{tabular}
  \caption{table of distances between 12 houses}
  \label{table}
 \end{center}
\end{table}

   \begin{enumerate}
   \item Pick a random Hamilton circuit and compute its total
   %DMC: distance.  For consistency with the next 3 parts - ?
   length.
   \item Apply the Nearest Neighbor Greedy Algorithm, starting from A
   (only), to find a Hamilton circuit.  What is its total length?
   \item Apply the Nearest Neighbor Greedy Algorithm, starting from D
   (only), to find a Hamilton circuit.  What is its total length?
   \item Apply the Cheapest Link Greedy Algorithm to find a Hamilton
   circuit.  What is the length of this circuit?
   \end{enumerate}

\noindent The example in Problem~\ref{prob:friends} shows how the greedy algorithms are normally used.   They are the best methods currently available to efficiently compute low weight Hamilton circuits when the Brute Force Algorithm is not feasible to use, as illustrated in Problem~\ref{prob: bf time}.  However, there are instances where they can fail completely.

\begin{prb}
Construct a weighted graph with 4 vertices and some edges of equal weight such that both greedy algorithms can be used to obtain either a minimum weight Hamilton circuit or a maximum weight Hamilton circuit, depending on the choices made along the way.
\end{prb}


\chapter{Spanning Trees}

The left diagram in Figure~\ref{ST} shows seventeen towns and the roads connecting them. The town with the circle has a power plant.  Your job as a consultant to the power company is to decide which roads to install power lines on so that every town receives power and you install lines on as few roads as possible. You don't need a power line constructed down every road since you only need to ensure that there is a path for power to travel from the power station to each town.

\begin{prb}
\label{spt}
Using the diagram at the right of Figure \ref{ST}, sketch a possible way to connect all the towns to the power station.  Look for one that places power lines on the minimal number
of roads.
\end{prb}

\begin{figure}[h]
       \setlength{\unitlength}{1mm}
       \begin{picture}(100,60)
       %left picture
       %circles
       \multiput(10,30)(15,0){4}{\circle*{2}}
       \multiput(17.5,38)(15,0){3}{\circle*{2}}
       \multiput(25,46)(15,0){2}{\circle*{2}}
       \multiput(17.5,22)(15,0){3}{\circle*{2}}
       \multiput(25,14)(15,0){2}{\circle*{2}} \put(32.5,6){\circle*{2}}
       \put(32.5,6){\circle{5}} \put(17.5,46){\circle*{2}}
       \put(47.5,46){\circle*{2}}
       %lines
       \qbezier(32.5,6)(10,30)(10,30) \qbezier(40,14)(40,14)(17.5,38)
       \qbezier(47.5,22)(25,46)(25,46) \qbezier(55,30)(55,30)(40,46)
       \qbezier(32.5,6)(55,30)(55,30) \qbezier(25,14)(25,14)(47.5,38)
       \qbezier(17.5,22)(40,46)(40,46) \qbezier(10,30)(10,30)(25,46)
       \put(17.5,38){\line(0,1){8}} \put(47.5,38){\line(0,1){8}}
       \put(17.5,46){\line(1,0){30}}

       %right picture
       \put(65,0){\multiput(10,30)(15,0){4}{\circle*{2}}
       \multiput(17.5,38)(15,0){3}{\circle*{2}}
       \multiput(25,46)(15,0){2}{\circle*{2}}
       \multiput(17.5,22)(15,0){3}{\circle*{2}}
       \multiput(25,14)(15,0){2}{\circle*{2}} \put(32.5,6){\circle*{2}}
       \put(32.5,6){\circle{5}} \put(17.5,46){\circle*{2}}
       \put(47.5,46){\circle*{2}}}
       \end{picture}
       \caption{Power Grid Spanning Tree}
       \label{ST}
\end{figure}

Looking at our solutions, we probably believe they are correct.  Still, what would we need to do in order to verify one of them? We would need to check that \emph{no} collection of roads connecting all the towns to the power station has \emph{less} roads than this solution. Because Problem~\ref{spt} has only 17 towns, we might suspect that this would be easy. Surprisingly, Cayley studied such problems and proved that there can be up to $n^{n-2}$ different solutions for $n$ towns. If $n=17$, that is more than $10^{18}$, or a billion billion, cases to check! Would you be surprised that the language of graph theory might help?

\begin{dfn}
A \textbf{tree} is a connected graph with the property that no graph with the same vertices and a smaller number of edges is connected.
\end{dfn}

\begin{dfn}
A \textbf{spanning tree} of a graph $G$ is a tree whose vertices are the same as the vertices of $G$ and whose edges are among the edges of $G$.
\end{dfn}

\begin{prb}
Is the power grid you created in the last problem a spanning tree?
\end{prb}

Here are several equivalent definitions for trees. Interested in a proof?  See Section \ref{KruskalProject}.
\begin{thm} \label{treetheorem}
\textbf{Equivalent Tree Definitions.} For a connected graph $G$, the following are equivalent.
  \begin{enumerate}
     \item $G$ is a tree.
     \item Every edge of $G$ is a cut edge (Definition \ref{cutedge}).
     \item $G$ has no cycles.
     \item The number of edges in $G$ is one less than the number of vertices.
  \end{enumerate}
\end{thm}

\begin{prb}
Use Theorem \ref{treetheorem} to give three different ways to show why your answer to Problem~\ref{spt} is correct.
\end{prb}

Another real-world application for spanning trees might be to find the best possible collection of roads to plow when the city is snowed in.   If we plow out a spanning tree then people may travel from any intersection (vertex) to any other intersection in the entire city by traversing only plowed streets (edges in the spanning tree).  For a large city, computing the spanning tree by hand would be impractical.   Here is an algorithm that a computer can implement.

\begin{thm}
\textbf{Spanning Tree  Algorithm.} To construct a spanning tree for a connected graph  $G$, make another copy of the vertices of $G$. Then
\begin{enumerate}
\item add edges from  $G$  between these vertices one at a time making sure to never close a circuit, and
\item stop when no additional edge from $G$ can be added without closing a circuit.
\end{enumerate}
\end{thm}

\begin{prb}
Prove that for any connected graph  $G$, the Spanning Tree Algorithm always produces a spanning tree for $G$.
\begin{annotation}
\endnote{The result of the Spanning Tree Algorithm is a graph with the same vertices as the original graph but with no circuits. To see that it is a spanning tree, we must convince ourselves that it is connected.  But if it were not connected, then it would be possible to add another edge between two components without creating a circuit.}
\end{annotation}
\end{prb}

Applying the Spanning Tree Algorithm to the power grid problem illustrated in Figure \ref{ST}, you could find many different spanning trees to build your power lines.  Of course, in the real world, some would cost more to construct depending on both the distance between towns and the terrain between towns.  Just as with the shortest path problems, this problem may be modeled mathematically using a \textbf{weighted graph} where the weights represent quantities like distances or costs.
\medskip
\goodbreak

\noindent\textbf{Minimum Weight Spanning Tree Problem}
\textsl{Given a weighted graph, find a spanning tree whose total weight is less than or equal to that of any other spanning tree.}

In Figure \ref{WG}, we have added weights to represent either distances (in miles) or road construction costs (in millions of dollars) between our 17 towns.
\begin{figure}[h]
       \setlength{\unitlength}{1mm}
       \begin{picture}(120,60)

       %left picture
       %circles
       \multiput(10,30)(15,0){4}{\circle*{2}}
       \multiput(17.5,38)(15,0){3}{\circle*{2}}
       \multiput(25,46)(15,0){2}{\circle*{2}}
       \multiput(17.5,22)(15,0){3}{\circle*{2}}
       \multiput(25,14)(15,0){2}{\circle*{2}} \put(32.5,6){\circle*{2}}
       \put(17.5,46){\circle*{2}} \put(47.5,46){\circle*{2}}
       %lines
       \qbezier(32.5,6)(10,30)(10,30) \qbezier(40,14)(40,14)(17.5,38)
       \qbezier(47.5,22)(25,46)(25,46) \qbezier(55,30)(55,30)(40,46)
       \qbezier(32.5,6)(55,30)(55,30) \qbezier(25,14)(25,14)(47.5,38)
       \qbezier(17.5,22)(40,46)(40,46) \qbezier(10,30)(10,30)(25,46)
       \put(17.5,38){\line(0,1){8}} \put(47.5,38){\line(0,1){8}}
       \put(17.5,46){\line(1,0){30}}
       %numbers
       \put(26,7){8} \put(19,15){6} \put(11,23){7} \put(10,35){13}
       \put(15,41){7} \put(21,47){5} \put(32,47){8} \put(43,47){3}
       \put(49,42){8} \put(52,34){13} \put(53,23){7} \put(45,15){7}
       \put(37,7){9} \put(25,18){12} \put(37,18){13} \put(19,26){8}
       \put(30,26){9} \put(37,23){7} \put(45,26){7} \put(22,34){10}
       \put(29,31){12} \put(34,30){10} \put(40,34){11} \put(22,39){9}
       \put(27,39){6} \put(37,39){5} \put(42,39){4}
%       %right picture
       \put(65,0){\multiput(10,30)(15,0){4}{\circle*{2}}
       \multiput(17.5,38)(15,0){3}{\circle*{2}}
       \multiput(25,46)(15,0){2}{\circle*{2}}
       \multiput(17.5,22)(15,0){3}{\circle*{2}}
       \multiput(25,14)(15,0){2}{\circle*{2}} \put(32.5,6){\circle*{2}}
 %      \put(32.5,6){\circle{5}}
       \put(17.5,46){\circle*{2}}
       \put(47.5,46){\circle*{2}}}
       \end{picture}
       \caption{Weighted Graph}\label{WG}
\end{figure}

\begin{prb}
\label{spt2}
Consider the weighted graph in Figure \ref{WG}.
\begin{enumerate}
\item Using this weighted graph, calculate the total weight of the spanning tree in your solution to Problem \ref{spt}.
\item Is your solution a minimum weight spanning tree?
\item Find a spanning tree for the weighted graph in Figure \ref{WG} that has weight less than your solution to Problem \ref{spt}.
\item What is the least weighted spanning tree that you can find?
\begin{annotation}
\endnote{Minimal spanning tree weight is $106$.}
\end{annotation}
\end{enumerate}
\end{prb}

We can now ask if your solution to Part 4 of Problem \ref{spt2} has minimal total weight among all possible spanning trees.  How might we do this without looking at all possible spanning trees?  The answer was discovered by Joseph Kruskal in 1956 and is simply the Spanning Tree Algorithm enhanced by the strategy used in the Cheapest Link Greedy Algorithm. Instead of choosing an arbitrary edge that doesn't complete a circuit, we choose the cheapest (least weight) one. Since Kruskal's Algorithm is also a greedy algorithm, it is practical and efficient to use.  But unlike our other greedy algorithms, it \emph{always works\/}!  \msk

\begin{figure}[h]
 \setlength{\unitlength}{1mm}
 \centering
       \begin{picture}(90,90)
       %circles
       \multiput(10,10)(15,0){6}{\circle*{2}}
       \multiput(10,25)(15,0){6}{\circle*{2}}
       \multiput(10,40)(15,0){6}{\circle*{2}}
       \multiput(10,55)(15,0){6}{\circle*{2}}
       \multiput(10,70)(15,0){6}{\circle*{2}}
       \multiput(10,85)(15,0){6}{\circle*{2}}
       %lines
       \multiput(10,10)(15,0){6}{\line(0,1){4}}
       \multiput(10,21)(15,0){6}{\line(0,1){8}}
       \multiput(10,36)(15,0){6}{\line(0,1){8}}
       \multiput(10,51)(15,0){6}{\line(0,1){8}}
       \multiput(10,66)(15,0){6}{\line(0,1){8}}
       \multiput(10,81)(15,0){6}{\line(0,1){4}}
       \multiput(10,10)(0,15){6}{\line(1,0){4}}
       \multiput(21,10)(0,15){6}{\line(1,0){8}}
       \multiput(36,10)(0,15){6}{\line(1,0){8}}
       \multiput(51,10)(0,15){6}{\line(1,0){8}}
       \multiput(66,10)(0,15){6}{\line(1,0){8}}
       \multiput(81,10)(0,15){6}{\line(1,0){4}}
       %numbers
       \put(17,9){6} \put(17,24){3} \put(17,39){8} \put(17,54){9}
       \put(17,69){4} \put(17,84){3} \put(32,9){1} \put(32,24){7}
       \put(32,39){6} \put(32,54){8} \put(32,69){9} \put(32,84){7}
       \put(47,9){7} \put(47,24){2} \put(47,39){4} \put(47,54){4}
       \put(47,69){8} \put(47,84){9} \put(62,9){5} \put(62,24){9}
       \put(62,39){7} \put(62,54){2} \put(62,69){5} \put(62,84){5}
       \put(77,9){6} \put(77,24){5} \put(77,39){7} \put(77,54){6}
       \put(77,69){3} \put(77,84){8} \put(9,16){4} \put(9,31){5}
       \put(9,46){4} \put(9,61){3} \put(9,76){5} \put(24,16){9}
       \put(24,31){2} \put(24,46){9} \put(24,61){1} \put(24,76){2}
       \put(39,16){8} \put(39,31){1} \put(39,46){3} \put(39,61){5}
       \put(39,76){8} \put(54,16){3} \put(54,31){8} \put(54,46){8}
       \put(54,61){7} \put(54,76){7} \put(69,16){2} \put(69,31){3}
       \put(69,46){5} \put(69,61){6} \put(69,76){3} \put(84,16){4}
       \put(84,31){8} \put(84,46){7} \put(84,61){2} \put(84,76){6}
       \end{picture}
       \caption{A Connected Weighted Graph}\label{WG2}
\end{figure}

\begin{thm}
\textbf{Kruskal's Greedy Algorithm.}
To construct a minimum weight spanning tree for a connected weighted graph $G$, make another copy of the vertices of  G.  Then
\begin{enumerate}
  \item add edges from  G  between these vertices one at a time, each time choosing from among the edges that do not close a circuit one of minimal weight, and
  \item stop when no additional edge from $G$ can be added without closing a circuit.
\end{enumerate}
\end{thm}

Kruskal's important contribution was to show that his algorithm always produces a spanning tree of minimal possible total weight. \msk

\begin{thm}
\textbf{Kruskal's Theorem.} Kruskal's Greedy Algorithm always produces a minimum weight spanning tree $T$ from a connected weighted graph~$G$.

A proof is outlined in Section \ref{KruskalProject}.
\begin{annotation}
\endnote{The project at the end of this chapter has two problems that lead the student to see why Kruskal's Algorithm really works and concludes by asking for a student-generated proof.  Here is a sketch. \emph{Proof.} (Outline)  Suppose  $S$  is any spanning tree for $G$. We must convince ourselves that the total weight of  $S$ is at least as big as that of the spanning tree  $T$  obtained from Kruskal's Algorithm.  Consider the first edge  $XY$  that we put in $T$  but is not in  $S$.  Since  $S$  is already connected, adding $XY$  to $S$  must close a circuit (Why?). Since  $T$  is a tree, it contains no circuit so there is some edge $UV$ in this circuit that is not in $T$.  Now Weight($UV$) must be at least as big as Weight($XY$); otherwise Kruskal would have put $UV$ into $T$ instead of $XY$. Notice that if we replace $UV$ by $XY$ in $S$, then
\begin{itemize}
  \item the total weight of  $S$  does not increase;
  \item $S$  is still a spanning tree;
  \item we have increased the number of edges that  $S$  and  $T$  have in common.
\end{itemize}
Repeating this process with the edges of  $T$  that are not in  $S$, in the order they were added to  $T$, we can slowly transform  $S$ into  $T$ without increasing its total weight.  Thus the total weight of  $S$  could not have been less than that of  $T$ to begin with.}
\end{annotation}
\end{thm}

\begin{prb}
Apply the Spanning Tree Algorithm to the graph in Figure \ref{WG2}  without looking at the weights.  What is the total weight of the spanning tree you created?
\end{prb}

\begin{prb}
Apply Kruskal's Greedy Algorithm to the graph in Figure \ref{WG2} to find a minimum weight spanning tree. What is the total weight of this spanning tree?
\end{prb}


\section{Projects: Tree Equivalence and Kruskal's Theorem} \label{KruskalProject}

\noindent \textbf{Equivalent Tree Definitions.}  In the next few problems, we investigate how one might discover and prove Theorem \ref{treetheorem}.

\begin{prb}\label{5 trees}
Draw five different connected graphs in which every edge is a cut edge.  Count the number of edges and the number of vertices. Make a conjecture for the relationship between the number of vertices and the number of edges in such a graph.
\end{prb}

\noindent Our goal is to find some easily verifiable conditions for a graph to be a tree.

\begin{prb}
Show that if an edge of a connected graph is part of a cycle, then that edge is not a cut edge.
\end{prb}

\begin{prb}
Show that if a connected graph with more than one vertex has no cycles, then every path either ends in a degree $1$ vertex or can be extended to a path that ends in a degree $1$ vertex.
\end{prb}

\begin{prb}
Let $G$ be a connected graph with $n$ vertices and no cycles.  Prove by induction on $n$ that $G$ has exactly $n-1$ edges.
\end{prb}

\begin{prb}
Show that if the number of edges in a connected graph is one less than the number of vertices, then it is a tree.
\end{prb}

\begin{prb}
Use the facts you have established to prove the following theorem by showing that line 1 implies line 2, which implies line 3, which implies line 4, which implies line 1.
\end{prb}

\noindent \textbf{Theorem. Equivalent Tree Definitions.}  For a connected graph $G$, the following are equivalent.
  \begin{enumerate}
     \item $G$ is a tree.
     \item Every edge of $G$ is a cut edge.
     \item $G$ has no cycles.
     \item The number of edges in $G$ is one less than the number of vertices.
  \end{enumerate}

\begin{figure}[h]
\setlength{\unitlength}{1mm}
      \begin{picture}(60,60)
\put(30,0){
       %circles
       \multiput(10,30)(15,0){4}{\circle*{2}}
       \multiput(17.5,38)(15,0){3}{\circle*{2}}
       \multiput(25,46)(15,0){2}{\circle*{2}}
       \multiput(17.5,22)(15,0){3}{\circle*{2}}
       \multiput(25,14)(15,0){2}{\circle*{2}} \put(32.5,6){\circle*{2}}
       \put(17.5,46){\circle*{2}} \put(47.5,46){\circle*{2}}
       %lines
       \qbezier(32.5,6)(40,14)(40,14) \qbezier(25,14)(25,14)(47.5,38)
       \qbezier(17.5,22)(17.5,22)(32.5,38) \qbezier(10,30)(10,30)(25,46)
       \qbezier(40,14)(40,14)(17.5,38) \qbezier(47.5,22)(40,30)(40,30)
       \qbezier(55,30)(55,30)(47.5,38) \put(47.5,38){\line(0,1){8}}
       \put(17.5,46){\line(1,0){7.5}} \put(40,46){\line(1,0){7.5}}
}

       \end{picture}
       \caption{Spanning Tree $S$}\label{STS}
\end{figure}

\noindent \textbf{Kruskal's Theorem.}  In the next two problems we will look at Kruskal's Theorem to see why the spanning tree obtained from Kruskal's Algorithm always has the smallest total weight of any spanning tree. In the figure below is an arbitrary spanning tree $S$ for the graph in Figure~\ref{ST}.  We would like to see why its total weight must be no less that that of the spanning tree obtained from Kruskal's Algorithm.

\begin{prb}
Apply Kruskal's Algorithm to the graph in Figure~\ref{WG} to obtain a minimum weight spanning tree $T$. As you do it, number the edges in the order you add them. Find the total weight of $T$.
\end{prb}



\begin{prb} \label{krusk}
What is the total weight of the spanning tree $S$ in Figure \ref{STS}?  Make a copy of $S$ {\em in pencil}.  Transform the spanning tree $S$ into $T$ by adding the edges of $T$ to it, in the order you numbered them, each time removing an edge not in $T$ that closes a circuit.  As you do so, fill out a table like this:
\end{prb}

\newpage

\begin{tabbing}
xxx\=xxxxxxxxxxxxxxxxx\=xxxxxxxxxxxxxxxxxxx\=\kill\\
   \>Weight of        \>Weight of          \>Amount the\\
   \>edge added       \>edge not in $T$    \>weight of $S$\\
   \>to $S$ from $T$  \>removed from $S$   \>is reduced \\
   \>  ...            \>  ...              \> ...       \\
   \>  ...            \>  ...              \> ...       \\
\end{tabbing}

When you have finished transforming $S$ into $T$, add up the reductions you made in the weight of $S$.  Now subtract this amount from the original weight of $S$ to see if you get the weight of $T$. Write this out {\em neatly} so that it is clear what you have done. $($If you can reduce the weight of $S$ to get the weight of $T$, then you know that $T$ must have smaller weight than $S$!$)$

\begin{prb}
Using Problem \ref{krusk} as a guide, prove that Kruskal's Algorithm always produces a minimal spanning tree.
\end{prb}




\chapter{Equivalence Relations and Partitions}

Our goal in this chapter is to understand the relationship between partitions and equivalence relations.  Before we delve into the formal definitions, lets look at two examples that illustrate our goal.

Suppose we break our class into four subsets by rank: freshmen, sophomores, juniors and seniors. Our collection of subsets is called a partition of the class because the collection has three properties.  (1) The union of the subsets is the entire class.  (2) The intersection of any two of the subsets is empty.  (3) Each subset is non-empty.  We can use our partition to define what it means for two students to be equivalent, by saying that two students in the class are equivalent if they have the same class rank.  Thus if we have a partition of a set, we have a way to define equivalence.

Now consider the set of all integers.  Let's define equivalence for this set by saying that two integers are equivalent if they have the same remainder when divided by 3.  For example, 4 and 7 both have remainder 1, so they are equivalent.  Since there are only three possible remainders when dividing an integer by 3, we can put all the integers with remainder 0 into one set, put all the integers with remainder 1 into another set and put all the integers with remainder 2 into a third set.  These three sets partition the integers because they satisfy the three properties above. (1) Their union is all integers. (2) No number has two different remainders when divided by 3, so the intersection of any two of our sets is empty. (3)  Each set is non-empty.

Summarizing, if you have a partition of a set, then you can define what it means for two elements of the set to be equivalent.  Conversely, if you have a definition of what it means for elements in a set to be equivalent, then you can create a partition of the set from that definition.

\begin{dfn}
A collection $P$ of sets is said to be \textbf{pairwise disjoint} if the intersection of any two sets in the collection is empty.
\end{dfn}

\begin{dfn}
A collection $P$ of subsets of a set $A$ is said to be a \textbf{partition} of the set $A$ if the collection is pairwise disjoint, the union of the sets in $P$ is $A$ and each set is non-empty.
\end{dfn}

\begin{prb}
Construct three different partitions of the integers.
\end{prb}

Let's recall what we know about relations before we move to a special kind of relation called an equivalence relation.

Recall from Definitions \ref{cartesian} and \ref{function} that if $\A$ and $\B$ are sets, then the \textbf{Cartesian product} of $\A$ and $\B$ is the set of all ordered pairs $(x,y)$ where $x\in \A$ and $y\in \B$, $$ \A\times \B = \{\,(x,y) \mid x\in \A \mbox{ and } y\in \B\,\},$$ and that a \textbf{relation} on $A \times B$ is any subset of this set.

\begin{prb}
Let $R = \Big\{(x, y) \mid x \in \{a,b,c,d,e\} \mbox{ and } y \in \{u,v, w\}\Big\}.$ List all the elements of this relation. Is $R$ a function? Create some type of graphical representation for this relation.
\end{prb}

\begin{prb}
Let $A= \{1,2,3\}$.  Write out all elements of $A \times A$.  List two examples of relations on the set $A= \{1,2,3\}$, one which is not a function and one which is a function.
\end{prb}

Functions are one example of relations and equivalence relations are a second example of relations.

\begin{dfn}
If $R$ is any relation, then $xRy$ means $(x,y) \in R$.
\end{dfn}

\begin{dfn}
Suppose $A$ is a set and $R \subseteq A \times A$ is a relation on $A$.
\begin{enumerate}
\item If for every $x \in A$ we have $xRx$, then $R$ is said to be \textbf{reflexive}.
\item If for every $x,y \in A$ satisfying $xRy$ we have $yRx$, then $R$ is said to be \textbf{symmetric}.
\item If for every $x,y,z \in A$ satisfying $xRy$ and $yRz$ we have $xRz$, then $R$ is said to be \textbf{transitive}.
\item If $R$ is reflexive, symmetric and transitive, then $R$ is said to be an \textbf{equivalence relation}.
\end{enumerate}
\end{dfn}

Note that for equivalence relations, the domain and range must be the same.

\begin{expl}
Suppose $X = \{\mbox{ all people in the world }\}$ and \emph{$x$ is related to $y$} means $x$ is a friend of $y$.
Discuss whether the reflexive, symmetric and transitive properties hold.  Can we construct a partition based on this relation?
\end{expl}

\begin{expl}
Suppose $X = \{\mbox{ students in our class }\}$ and \emph{$x$ is related to $y$} means $x$ and $y$ have the same class rank (freshman, sophomore, junior, senior). Discuss whether the reflexive, symmetric and transitive properties hold and foreshadow the equivalence classes.  Can we construct a partition based on this relation?
\begin{annotation}
\endnote{First I query one individual as to whether this is reflexive, looking for the statement, ``if $x$ is a student in this class, then $x$ has the same classification as $x$,'' or something to that effect.   After asking two more individuals to tell me whether this relation is symmetric and transitive, we conclude that it is indeed an equivalence relation.  Then, even with a class of up to thirty students, I take the  time to list them by initials at the board so that we have a full example of a partition of a set into  its equivalence classes. This concrete example, is what I return to each time in order to solidify the fact that if $R$ is an equivalence  class, then it \emph{must} partition the entire set into pairwise disjoint equivalence classes.}
\end{annotation}
\end{expl}

\begin{prb}
\label{equiv1}
Let $A$ be the set of all real numbers. Suppose that $x$ is related to $y$ if $x$ and $y$ are equal. In other words, $xRy$ if $x=y$.  Which of these properties hold for the relation $R$?
\begin{enumerate}
\item reflexive (Is $x$ related to $x$? I.e. Does $x=x$?)
\item symmetric (If $xRy$, then is $yRx$? I.e. If $x=y$, then does $y=x$?)
\item transitive (If $xRy$ and $yRz$, then must $xRz$?)
\end{enumerate}
Construct a partition of $A$ based on this relation.
\end{prb}

\begin{prb}
Let $A$ be the set of all real numbers.  Let $xRy$ if $x \leq y$.   Check whether $R$ is reflexive, symmetric and transitive.  Is $R$ an equivalence relation?  Can we construct a partition based on this relation?
\end{prb}

\begin{dfn}
Given two integers $x$ and $y$ we say that $x$ is a \textbf{multiple} of $y$ if there is an integer $k$ so that $x=ky$.
\end{dfn}

\begin{prb}
Let $A$ be the set of all positive integers.  Define a relation $R$ by $xRy$ if $x$ is a multiple of $y$. Which of these properties hold for the relation $R$?
\begin{enumerate}
\item reflexive (Is $x$ a multiple of $x$?)
\item symmetric (If $x$ is a multiple of $y$, then must $y$ be a multiple of $x$?)
\item transitive (If $x$ is a multiple of $y$ and $y$ is a multiple of $z$, then must $x$ be a multiple of $z$?)
\end{enumerate}
\end{prb}

\begin{prb}
\label{equiv2}
Let $A$ be the set of all integers.  Suppose that $xRy$ if $x$ and $y$ have the same remainder when divided by $5$.  Is $R$ an equivalence relation?
\end{prb}

Recall the equivalence relation on our class where two students are related if they have the same class rank.   This equivalence relation partitions our class into subsets where everyone in a given subset is related to everyone else in that subset, no person is in two different subsets,  and the union of all the subsets is the entire class.  The next definition gives us a name for the subsets in the partition.

\begin{dfn}
If $R$ is an equivalence relation on the set $A$ and  $a \in A$, then the \textbf{equivalence class of} $a$ is the set $\{y \in A  \mid  yRa\}$ and is denoted by $[a]$.
\end{dfn}

To determine what the equivalence classes are, just pick an element and ask yourself, ``What other elements are related to this element?''  Once you've done this for a few elements, you'll understand all the equivalence classes for that particular relation.

\begin{prb}
For each problems \ref{equiv1} through \ref{equiv2} where $R$ turned out to be an equivalence relation, define the equivalence classes.
\end{prb}

Up to this point, we were given a relation and we checked to see if it was reflexive, symmetric, and transitive.  If it was, then we listed all the equivalence classes and they formed a partition.  Thus each equivalence relation yielded  a partition.  The fact that this always works is stated formally as the following theorem and the proof is the first problem in Section \ref{projeqclass}.

\medskip

\noindent\textbf{Theorem.}  If $R$ is an equivalence relation on the set $A$, then the set of all equivalence classes defined by $R$ form a partition of $A$.

\medskip

We now consider the converse of this process, showing that every partition yields an equivalence relation.  Suppose we have a set that we partition into a collection of non-empty subsets which are pairwise disjoint and whose union is our set. Then we can define a relation by saying that $x$ and $y$ are related if, and only if, they are in the same subset in the partition.  This relation will be an equivalence relation, so we now have a way to create equivalence relations from partitions.  In other words, equivalence relations and partitions are the exact same idea written in different mathematical language.

\begin{prb}
Suppose $P$ is a partition of the set $A$.  Define the relation $R$ on $A$ by $xRy$ if there is $B \in P$ such that $x$ and $y$ are both in $B$.  Prove that $R$ is an equivalence relation on $A$.
\end{prb}

\begin{prb}
Let $\A$ be the set of points $(x,y)$ in the plane and suppose that $(x,y) R (x',y')$  if $(x,y)$  and $(x',y')$  are the same distance from the origin.  Describe the equivalence class for (0,2), that is, describe $[(0,2)] = \{ (x,y) \in \R^2  \mid  (x,y)R(0,2) \}.$ Determine if $R$ is an equivalence relation and if so, describe all the equivalence classes.
\end{prb}

\begin{prb}
Let $A$ be the set of all integers.  Suppose $x R y$ if $x$ and $y$ are integers and $x - y$  is a multiple of  $3$.  Determine if $R$ is an equivalence relation and if so, describe the equivalence classes.
\end{prb}

\begin{prb}
Let $A$ be the set of integers.  Suppose $x R y$ if $x$ and $y$ are integers and $x + y$  is even. Determine if $R$ is an equivalence relation and if so, describe the equivalence classes.
\end{prb}

\begin{prb}
There is a standard and important notion of equivalence between sets. Let $\textbf{S}$ denote the collection of all sets.  For $X, Y \in \textbf{S}$, we say that $X R Y$ if there is a bijection $f:X \to Y$ from $X$ to $Y$.  Thus finite sets $X$ and $Y$ are equivalent if and only if
they have the same number of elements, but in general they need not be finite.  Show that $R$ is reflexive, symmetric and transitive.
\end{prb}

\section{Project: More on Equivalence Classes} \label{projeqclass}

\begin{prb}
Suppose $R$ is an equivalence relation on the set $A$.  Prove that the set of all equivalence classes defined by $R$ form a partition of $A$.
\end{prb}



\begin{prb}
We might think of two compound sentences in propositional logic to be ``equivalent'' if they have the same truth tables.  For example, the truth table below shows that every implication $p\rightarrow q$ is equivalent to its contrapositive $\lnot q \rightarrow \lnot p$.

\begin{table}[H]
\begin{center}
\begin{tabular}{||c|c||c|c||}
\hline
$p$ & $q$ & $p\rightarrow q$ & $\lnot q \rightarrow \lnot p$ \\ \hline
 0  &  0  &        1         &               1               \\ \hline
 0  &  1  &        1         &               1               \\ \hline
 1  &  0  &        0         &               0               \\ \hline
 1  &  1  &        1         &               1               \\ \hline
\end{tabular}
\caption{1 is True; 0 is False}
\end{center}
\end{table}
Let $\A$ be the (infinite) set of all compound sentences in propositional logic that can be constructed using the sentence variables $p$ and $q$ and the connectives $\lnot$, $\land$, $\lor$ and $\rightarrow$. For $a,b \in A$ we say that $a\equiv b$ if $a$ and $b$ have the same truth table.
\begin{enumerate}
\item Show that $\equiv$ is an equivalence relation.
\item List of as many non-equivalent compound sentences as you can.
\item How many different equivalence classes are there?
\end{enumerate}
\end{prb}

\begin{prb}
Let $\mathbf S = \{a,b,c,d,e,f,g,h\}$, let  $\mathbf T = \{a,b,c\}$ and let  $\A$ be the set of all ($2^8$) subsets of $\mathbf S$.   For  $X,Y \in \A$,  we define $X R Y$ if $X$  and $Y$  have the same intersection with $\mathbf T$. Determine if $R$ is an equivalence relation and if so, describe the equivalence classes.
\end{prb}

\begin{prb}
Let $\A = \{0,1\}^5$ be the set of 32 different five-tuples of 0s and 1s, that is, all sequences $(a,b,c,d,e)$ where $a,b,c,d,e\in\{0,1\}$.  For $x,y \in \A$, define $x R y$ to mean that $x$ and $y$ have the same number of 1s.  Show that $R$ is an equivalence relation and write down all the members of each of the different equivalence classes.
\end{prb}

\begin{prb}
Let $n$ is a positive integer and let $\A = \{0,1\}^n$ be the set of all $n$--tuples of 0s and 1s.  For $x,y \in \A$, again define
$xR y$ to mean that $x$ and $y$ have the same number of 1s.  How many different equivalence classes does $\A$ have?
\end{prb}







%WTM FSM chapter ok with me as of 2.9.15 at least until I teach out of it...
\chapter{Finite State Machines}

Imagine a simple radio with three buttons, an ON/OFF button, a CHANNEL button and a VOLUME button.

\begin{figure}[ht]
\setlength{\unitlength}{1mm}
\begin{picture}(50,21)

\put(-1,-1){
\put(25,0){\line(1,0){80}}  \put(25,15){\line(1,0){80}}
\put(25,0){\line(0,1){15}}  \put(105,0){\line(0,1){15}}
\put(26,1){\line(1,0){78}}  \put(26,14){\line(1,0){78}}
\put(26,1){\line(0,1){13}}  \put(104,1){\line(0,1){13}}

\multiput(38,5)(27,0){3}{\circle{4}}
\put(37.2,4.2){$o$}  \put(64.2,4.2){$c$}  \put(91.2,4.2){$v$}
\qbezier(28,0)(30,-3)(32,0)   \qbezier(98,0)(100,-3)(102,0)
\qbezier(60,15)(65,20)(70,15)  \put(62,17){\line(-1,1){4}}   \put(68,17){\line(1,1){4}}
\put(58,21){\circle*{1}}  \put(72,21){\circle*{1}}

\put(31,10){ON/OFF}   \put(56.5,10){CHANNEL}  \put(84,10){VOLUME}
}
\end{picture}
\end{figure}
\bigskip

\noindent  The radio has ten channels and five volume levels:
\[
\mbox{C0, C1, C2, C3, C4, C5, C6,C7, C8, C9, \qquad V0, V1, V2, V3, V4.}
\]
Pressing button $o$ turns it from OFF to ON or ON to OFF.  Regardless of whether the radio is ON or OFF, pressing $c$ advances the channel by one or takes if from C9 back to C0.  Regardless of whether the radio is ON or OFF, pressing $v$ increases the volume by one level or takes if from V4 back down to V0.

The radio can be thought of as having $2\times 10\times 5 = 100$ different internal states.  In state (OFF,C3,V4), pressing $o$ will change it to state (ON,C3,V4).  Then pressing the sequence $ccvvv$ will change it from there to channel C5 at volume V2, that is, to state (ON,C5,V2).

\begin{prb}
If the radio is in state {\rm(OFF,C8,V1)} and you press the input sequence $ocvvcovo$, what state will it be in?
\end{prb}

\begin{prb}
List three different input sequences that will bring it from state {\rm(ON,C7,V3)} to state {\rm(OFF,C2,V0)}.
\end{prb}

A radio like this is an example of a  Finite State Machine (FSM).  In this chapter we will study somewhat more elaborate Finite State Machines:  Finite State Transducers and Finite State Acceptors. FSMs are the simplest class of computing machines.  They model the logic of machines which require logic circuitry, but are not usually thought of as computers, such as vending machines, washing machines and toasters.

FSMs are characterized by the fact that their action, at any point in their operation, is completely determined by their current state and their current input.  They have no long term memory and are therefore unable to carry out any logical process of reviewing the past or anticipating the future.


\section{Finite State Transducers}

Suppose the directions on a vending machine ask the user to:
\begin{enumerate}
  \item Choose either
    \begin{description}
      \item{(W)} Pure Spring Water (65$c\hspace{-1.5mm}|$) or
     {(C)} Coca-Cola (45$c\hspace{-1.5mm}|$).
    \end{description}
  \item Insert either quarters (q) or half dollars (h).
  \item Press ``RETURN'' (R) for your drink and change.
\end{enumerate}
In order to execute instructions, the machine must remember, at any time, the user's selection and the amount of money it has received.  Memory will take the form of \textbf{internal states}, one for each possible data set.  The machine logic is represented by the directed labeled graph in Figure~\ref{fig:vending}.  The internal states form the vertices of the graph.  For each input, the arrows tell
\goodbreak

\begin{enumerate}
  \item what the output should be and
  \item to what new internal state the machine should go.
\end{enumerate}


\setlength{\unitlength}{1mm}
\begin{picture}(50,35)(-70,10)

\put(10,3){
%Circles (diameter 10mm)
\put(-80,15){\circle{10}} \put(-40,15){\circle{10}}
\put(-10,15){\circle{10}} \put(-22,7){Start}
\put(15,15){\circle{10}} \put(-40,30){\circle{12}}
\put(34,30){\circle{10}}
\put(-60,5){\circle{10}}
\put(-60,-10){\circle{10}} \put(5,0){\circle{10}}
\put(34,0){\circle{10}}
%State Labels
\put(-83,14){$50w$} \put(-41,14){$w$} \put(-11,14){$s$}
\put(14,14){$c$} \put(-44.5,29){$100w$} \put(31.5,29){$50c$}
\put(-63,4){$25w$} \put(-63,-11){$75w$} \put(2,-1){$75c$}
\put(31.5,-1){$25c$}
%Horizontal Lines
\put(12,0){\line(1,0){16}} \put(-3,15){\line(1,0){10}}
\put(-17,15){\line(-1,0){15}}
\put(-47,15){\line(-1,0){25}}
\put(-80,30){\line(1,0){33}} \put(-33,30){\line(1,0){61}}
\put(22,17){\line(1,0){10}}  %%%
\put(22,13){\line(1,0){10}}  %%%
\put(-53,5){\line(1,0){13}}
\put(-53,-10){\line(1,0){43}} \put(-10,0){\line(1,0){8}}
\put(-80,-10){\line(1,0){14}}
%Vertical Lines
\put(-80,30){\line(0,-1){8}} \put(-10,30){\line(0,-1){8}}
\put(32,22){\line(0,-1){5}} \put(32,13){\line(0,-1){7}}
\put(35,23){\line(0,-1){16}}
\put(-60,13){\line(0,-1){3}} \put(-40,5){\line(0,1){3}}
\put(-60,0){\line(0,-1){3}} \put(-10,8){\line(0,-1){18}}
%\put(-74,30){\line(0,-1){40}}
\put(-80,-10){\line(0,1){19}}
%Arrow Heads
\put(-50,29){\tr} \put(5,14){\tr} \put(-73,14){\tl}
\put(-33,14){\tl} \put(-53,4){\tl} \put(11.5,-1){\tl}
\put(-11.5,22){\td} \put(-61.5,-5){\td} \put(30.5,6){\td}   \put(-61.5,12){\tu}
\put(-11.5,6){\tu} \put(30.5,21){\tu} \put(33.5,21){\tu}  \put(-68,-11){\tr}
%Input/Output
\put(-70,32){h/--} \put(-30,32){R/W+35} \put(10,32){R/C+5}
\put(-55,17){h/--} \put(-27,17){W/--}   \put(0,17){C/--}
\put(25,18){h/--}  \put(36,13){q/--}    \put(25,9){q/--}
\put(-37,5){q/--}  \put(-72,10){q/--}   \put(-79,0){q/--}
\put(-40,-15){R/W+10} \put(-5,-10){R/C+30} \put(20,-5){h/--}
\put(-56,-4){h/--}
}
\end{picture}

\vspace{2.5cm}

\begin{figure}[H]\label{fig:vending}
\caption{Transition diagram for a Water / Coke Machine.}
\label{vending1}
\end{figure}

\noindent The start state is ``$s$'', and each other state has a name that indicates what it is to remember.  The symbol ``--'' means no output.

\begin{prb}
Suppose our vending machine in Figure \ref{vending1} is in state ``$s$.''  Describe what happens when a user inputs the sequence,``WqqhR''.  What should happen if the user inputs ``Chqqq''?
\end{prb}


\begin{dfn}
A \textbf{finite state transducer} is a quintuple
$\dsp M = \langle \Sigma_1, \Sigma_2, Q, s, \delta\rangle $
where
\begin{enumerate}
\item $\Sigma_1$ is a finite set of symbols, called the \textbf{input alphabet},
\item $\Sigma_2$ is a finite set of symbols, called the \textbf{output alphabet},
\item $Q$ is a finite set, the \textbf{internal states} of $M$,
\item $s\in Q$ is called the \textbf{initial state} of $M$, and
\item $\delta: Q\times\Sigma_1 \to Q\times\Sigma_2$ is called the \textbf{state transition function}.
\end{enumerate}
\end{dfn}

A finite state transducer is illustrated with a \emph{transition diagram}
such as the one in Figure \ref{vending1}.   A transition diagram is a labeled directed graph whose vertices are the states of $Q$, and we label the arrow

\vspace{-.75cm}
\setlength{\unitlength}{1mm}
\begin{picture}(50,30)(-70,0)

\put(15,0){
\put(-40,15){\circle{6}} \put(-14.5,15){\circle{6}}
%
\put(-31,18){$a/d$} \put(-41,14){$q$} \put(-16,14){$q'$}
%
\put(-35,15){\line(1,0){15}} \put(-22,14){\tr}
}
\end{picture}
\vspace{-.8cm}

\noindent
from state $q$ to state $q'$ with $a/d$ if $\delta(q,a) = (q',d)$,
that is, in state $q\in Q$ reading input symbol $a\in \Sigma_1$
the machine is to go to state $q'\in Q$ and output symbol $d\in
\Sigma_2$.
\bigskip

\begin{prb}
Construct a transition diagram for a stamp vending machine that asks the user to
\begin{enumerate}
\item choose either a 10 stamp book $($\$3.40$)$ or a 20 stamp book
$($\$6.80$)$; \item insert either \$1, \$5 or \$10 bills; \item press
``RETURN'' for stamps and change.
\end{enumerate}
You may assume that the user never inserts a bill larger than the last bill inserted.
\end{prb}

\begin{prb}
Construct a transition diagram for a finite state transducer that will read a string of letters from the set $\{a,b,c\}$ starting from the left $($for example ``caabbacccbacb''$)$. As output, it will change each letter to an ``e'' until it has read three ``a''s.  After that, it will change each ``a'' to ``b'', each ``b'' to ``c'' and each ``c'' to ``a''.
\end{prb}

\begin{prb}
Construct a transition diagram for a finite state transducer which will take as input a finite string of letters from $\{a,b,c,x\}$ $($for example, ``abacaaccabxbxacxxc''$)$.  It will output the letter ``q'' for each input of  $a, b$ or  $c$ until it reads an ``x''.   It will then divide the number of ``a''s it has read by 3,return the remainder as its last output, and go back to the start state. $($In the above example, the output would be ``qqqqqqqqqq2''.$)$
\end{prb}


\section{Finite State Acceptors}

Consider a vending machine that only accepts dollar bills and has six snacks, each costing one dollar.  This machine has only six buttons:  $A$, $B$, 1, 2, 3 and $D$.   The button $D$ is internal to the machine and is automatically triggered when a dollar bill is inserted. The machine has two rows labeled $A$ and $B$ and three columns labeled 1, 2 and 3.  Each combination $A1, B1, A2, B2, A3, B3$ identifies a snack such as M\&Ms, Cheetos or Doritoes.  The instructions read:

\begin{enumerate}
   \item Insert \$1 (which automatically triggers button $D$)
   \item Press $A$ or $B$.
   \item Press $1, 2$ or $3$.
   \item Press ``RETURN''.
\end{enumerate}

\noindent Figure 9.2 shows a transition diagram for an FST $M_1$ to control this machine.

\begin{figure}[ht]
\setlength{\unitlength}{1mm}
\begin{picture}(100,60)

\put(65,23){
\put(0,12){\circle{7}}  \put(-35,12){\circle{7}}  \put(35,12){\circle{7}}  \put(0,-20){\circle{7}}
\put(-17.5,-6){\circle{7}}  \put(-17.5,12){\circle{7}}  \put(-17.5,30){\circle{7}}
\put(17.5,-6){\circle{7}}  \put(17.5,12){\circle{7}}  \put(17.5,30){\circle{7}}
\put(-18.5,-7){$b3$}  \put(-18.5,11){$b2$}  \put(-18.5,29){$b1$}
\put(15.5,-7){$a3$}  \put(15.5,11){$a2$}  \put(15.5,29){$a1$}

\put(-32,15){\line(1,1){11}}
\put(-3,15){\line(-1,1){11}}
\put(-32,9){\line(1,-1){11}}
\put(-3,9){\line(-1,-1){11}}

\put(32,15){\line(-1,1){11}}
\put(3,15){\line(1,1){11}}
\put(32,9){\line(-1,-1){11}}
\put(3,9){\line(1,-1){11}}

\qbezier(4,-20)(35,-20)(35,8)
\put(34.5,11.5){$a$}  \put(25,-20){$A / -$}

\put(0,8){\line(0,-1){24}}
\put(-1.2,-16){\td}  \put(-.6,11.5){$s$}
\put(-.8,-20.7){$d$}

\put(-3.5,19){Start}   \put(1,-9){\$$/ -$}

\qbezier(-4,-20)(-35,-20)(-35,8)
%left
\put(-5.5,7.3){\tl}  \put(-36.2,6){\tu}  \put(-7,11.2){\tr}  \put(-5.5,15){\tl}
\put(-23,24.8){\tl}  \put(-23,-2.8){\tl}  \put(-24.5,11.2){\tr}
\put(-5,12){\line(-1,0){8}}  \put(-22.5,12){\line(-1,0){8}}
\put(-32,22){$1/-$} \put(-28,8){$2/-$} \put(-31,-1){$3/-$}
\put(-11,25){$R/B1$} \put(-14,8){$R/B2$} \put(-11,-3){$R/B3$}

%right
 \put(2.5,7.3){\tr}  \put(33.8,6){\tu}  \put(4,11.2){\tl}  \put(2.5,15){\tr}
 \put(20,24.8){\tr}  \put(20,-2.8){\tr}  \put(21.5,11.2){\tl}
 \put(5,12){\line(1,0){8}}  \put(22.5,12){\line(1,0){8}}
 \put(27,22){$1/-$} \put(23,8){$2/-$} \put(26,-1){$3/-$}
 \put(4,25){$R/A1$} \put(6,8){$R/A2$} \put(4,-3){$R/A3$}




%left
%\put(-31,11.2){\tl}  \put(4,11.2){\tl}  \put(-32.5,15){\tr}
%right
%\put(28,11.2){\tr}  \put(29.5,15){\tl}  \put(29.5,7){\tl}



\put(-36,11.5){$b$}

\put(-30,-20){$B / -$} % \put(-21,19){$1 / B1$}  \put(-21,8){$2 / B2$}   \put(-21,-3){$3 / B3$}

}


\end{picture}
\caption{Transition diagram for $M_1$.}\label{fig:6treats}
\end{figure}

Unfortunately many customers could not follow instructions.   They would request the treat before inserting the dollar, or get the column before the row.  Not knowing what to do, the machine would stop and do nothing.  It would get a hard kick, and would do nothing from then on.  The Tater-Head-Ted's Snack Company that designed the machine was facing bankruptcy.
\medskip

\begin{prb} \label{vending}
Seeing the growing evidence of expertise in graph theory on your resum{\' e}, the Company has hired you to help.  What the Company needs is a separate finite state machine $M_2$ that will answer the question, ``Is the user's sequence of button pushes a valid input?''  It will have no outputs, but will have a start state $s$ and will halt in one of two states, $y$ or $n$, depending on whether the answer is $Yes$ or $No$.  Draw a transition diagram for this finite state machine.
\end{prb}

\noindent The company can now build the required vending machine by combining $M_1$ and~$M_2$.  The machine will save the input sequence in memory.  When the user presses ``RETURN'', it will feed a copy of the input sequence to~$M_2$.  If $M_2$ halts in state $y$, it will then feed a copy of the input sequence to~$M_1$.  If $M_2$ halts in state $n$, it will display the message, ``Invalid input.  Please try again!''.

The finite state machine $M_2$ you constructed in Problem \ref{vending} is not an FST.  Rather than  exchanging input for output, as an FST does, its purpose is to answer the question:  ``Did the user give one of the valid inputs specified by the instructions?''  Alternately, the question could be phrased as, ``Did the user input one of the strings in the set
\[
L_2 = \{\$DA1, \$DA2, \$DA3, \$DB1, \$DB2, \$DB3\}?''
\]

Thus $M_2$ is an example of a different kind of finite state machine and $L_2$ is the language recognized by $M_2$.
\medskip

\begin{dfn}
A \textbf{finite state acceptor} $($FSA$)$ is a quintuple $\dsp M = \big( \Sigma, Q, s, Y, \delta \big)$ where
\begin{itemize}
  \item{} $\Sigma$ is a finite set of symbols, called the \textbf{input alphabet} of $M$,
  \item{} $Q$ is a finite set, the \textbf{internal states} of $M$,
  \item{} $s\in Q$ is called the \textbf{initial state} of $M$,
  \item{} $Y$ is a subset of $Q$ called the \textbf{accepting states} of $M$, and
  \item{} $\delta: Q\times\Sigma \to Q$ is called the \textbf{state transition function} of $M$.
\end{itemize}
\end{dfn}

Like FSTs,  FSAs are illustrated by labeled directed graphs.  The vertices of the graph are the states of $Q$, and there is a labeled arrow for each state $q\in Q$ and each symbol $a\in \Sigma$.    Knowing that $\delta(q,a) = r$ tells us that when our FSA $M$ is already in state $q$ and reads the input symbol $a$, it will go into state $r\in Q$.  We illustrate this using this diagram.

\vspace{-1cm}
\setlength{\unitlength}{1mm}
\begin{picture}(50,30)(-70,0)
\put(19,-2){
\put(-40,15){\circle{6}} \put(-20,15){\circle{6}}
\put(-31,18){$a$} \put(-41,14){$q$} \put(-21,14){$r$} \put(-35,15){\line(1,0){10}} \put(-27,14){\tr}
}
\end{picture}
\vspace{-.8cm}

Because an input to $M$ will be a string of symbols, we define $\Sigma^*$ as the set of all finite strings of symbols from $\Sigma$.  This includes the \textbf{empty string}, which is denoted by~$\lambda$.  Since the transition function $\delta$ can only handle one input from our alphabet at a time, we extend
$\delta$ recursively to a function $$\delta^*:Q\times\Sigma^* \to Q$$ by defining
\begin{enumerate}
  \item $\delta^*(q,\lambda)=q$ and $\delta^*(q,a)= \delta(q,a)$ for $a\in \Sigma$,
  \item $\delta^*(q,au) =\delta^*(\delta(q,a),u)$ for $a\in \Sigma$, $u\in \Sigma^*$.
\end{enumerate}
For example, if $q\in Q$ and $a,b,c\in \Sigma$, then we have
$$
\delta^*(q,abc)=\delta^*(\delta(q,a),bc) =
\delta^*(\delta(\delta(q,a),b),c) = \delta(\delta(\delta(q,a),b),c).
$$
\vspace{-1cm}

 \setlength{\unitlength}{1mm}
\begin{picture}(50,30)(-70,0)
\put(-40,15){\circle{6}} \put(-20,15){\circle{6}}
\put(0,15){\circle{6}} \put(20,15){\circle{6}}
%
 \put(-41,14){$q$} \put(-31,18){$a$} \put(-11,18){$b$} \put(9,18){$c$}
%
\put(-35,15){\line(1,0){10}} \put(-27,14){\tr}
\put(-15,15){\line(1,0){10}} \put(-7,14){\tr}
\put(5,15){\line(1,0){10}}   \put(13,14){\tr}
\end{picture}
\vspace{-.8cm}

When the machine $M$ is started by the user, its job will be to read a string $w$ of symbols from $\Sigma$ and either accept or reject it.  If $M$ begins in its initial state $s$ and reads the string $w\in \Sigma^*$, then $\delta^*(s,w)$ is the state it will be in when it reaches the end of $w$ and halts.  We say that $M$ \textbf{accepts} the string $w$ if $\delta^*(s,w)\in Y$ (the set of accepting or ``Yes'' states); otherwise we say that $M$  \textbf{rejects} $w$.
These ideas lead to the following definitions.

\begin{dfn}
For a finite alphabet $\Sigma$, a \textbf{language} over $\Sigma$ is a subset of\/ $\Sigma^*$.
\end{dfn}

\begin{dfn}
If $M$ is an FSA, then the set$$L = \{w\in \Sigma^* \mid \delta^*(s,w)\in Y\}$$ consisting of all strings accepted by $M$ is called \textbf{the language recognized by} $M$.
\end{dfn}

In practice we often find that, after reading only part of a string, we can be certain that it will be rejected regardless of what follows.  In these cases it is useful to specify a  \emph{dead state} which is non-accepting and cannot be exited.  We will use the letter ``$z$'' to denote a dead state.   Since there may be many arrows going to $z$, we follow the convention that undrawn arrows are intended to go to~$z$.

\begin{expl}\label{ex:L3}
Draw an FSA $M_3$ that recognizes the language $L_3$ consisting of exactly those words that contain only the letters from the input alphabet $\Sigma = \{a,b,c\}$, begin with $a$ and end with $c$.
\begin{annotation}
\endnote{I use this example as a classroom exercise and have them draw an FSA at their desk while I circulate.  After a few minutes, I draw one of the attempts on the board, talk about the difference between FSTs and FSAs, point out that FSA's have only one alphabet (no output alphabet), at least one accepting state, and a dead state $z$ if it is needed.}
\end{annotation}
\end{expl}

\begin{prb} \label{prob:L4}
Draw an FSA $M_4$ that recognizes the language $L_4$ consisting of exactly those words that contain the letters from the input alphabet $\Sigma = \{a,b,c,d\}$, begin with $ab$, and end with ~$b$.
\end{prb}

\begin{figure}[ht]
\setlength{\unitlength}{1mm}
\begin{picture}(60,28)(-60,-15)
\put(-30,10){\circle{6}}\put(-31,9.5){$u$}
\put(-30,-10){\circle{6}}\put(-31,-10.5){$w$}
\put(-10,0){\circle{6}}\put(-11,-.5){$s$}
\put(10,0){\circle{6}}\put(9,-.5){$v$}
\put(30,10){\circle{6}}\put(30,10){\circle{4.5}} \put(29,9.5){$x$}
\put(30,-10){\circle{6}}\put(29,-10.5){$y$}
\put(0,-10){\circle{6}}\put(-1,-10.5){$z$}
%Transition arrows
\qbezier(10,5)(10,10)(25,10) \put(23,9){\tr}  \put(15,5){2}%v2x
%
\qbezier(-10,5)(-10,10)(-25,10) \put(-26,9){\tl} \put(-18,5){0}%s2u
%
\qbezier(-10,-5)(-10,-10)(-25,-10) \put(-11.2,-6){\tu} \put(-18,-8){0}%w2s
%
\qbezier(10,-5)(10,-10)(25,-10) \put(23,-11){\tr} \put(15,-8){1}%v2y
%
\put(-5,0){\line(1,0){10}} \put(3,-1){\tr} \put(-1,1){$1$}%s2v
%
\put(30,-5){\line(0,1){10}} \put(28.8,3){\tu} \put(28.8,-6){\td}
\put(32,-1){0}%x2y%
%
\put(-30,-5){\line(0,1){10}} \put(-31.2,-6){\td} \put(-32.5,-1){0}%u2w
%
\qbezier(35,9)(40,8)(40,10) \qbezier(35,11)(40,12)(40,10)
\put(34.5,10){\tl} \put(42,9){2} %x2x
%
\qbezier(-35,9)(-40,8)(-40,10) \qbezier(-35,11)(-40,12)(-40,10)
\put(-37,10){\tr} \put(-46,9){1,2}%u2u
%
\qbezier(-35,-9)(-40,-8)(-40,-10)
\qbezier(-35,-11)(-40,-12)(-40,-10) \put(34.5,-10){\tl}
\put(-46,-10.5){1,2}%y2y
%
\qbezier(35,-9)(40,-8)(40,-10) \qbezier(35,-11)(40,-12)(40,-10)
\put(-37,-10){\tr} \put(42,-11){1} %w2w
%
\qbezier(-15,1)(-20,2)(-20,0) \qbezier(-15,-1)(-20,-2)(-20,0)
\put(-17,0){\tr} \put(-23,-1){2}%s2s

\end{picture}
\caption{A finite state acceptor $M_5$.}\label{fig:M5}
\end{figure}


\begin{prb}
Consider the FSA $M_5$ illustrated in Figure \ref{fig:M5}.  Here $s$ is the start state, $x$ $($indicated with a double circle$)$ is the only accepting state, and all undrawn arrows go the the `dead' state $z$.  Let $\Sigma = \{0,1,2\}$ and list three strings in $\Sigma^*$ that are accepted by $M_5$ and three strings that are not accepted by $M_5$.
\end{prb}

\begin{prb}\label{prob:L6}
Draw an FSA $M_6$ that recognizes the language $L_6$ consisting of exactly those words that contain only the letters from the input alphabet $\Sigma = \{a,b,c\}$, begin with $a$, contain exactly one $b$ and end with $c$.
\end{prb}

\begin{prb}\label{prob:L7}
Draw an FSA $M_7$ that recognizes the language $L_7$ consisting of exactly those words that contain only the letters from the input alphabet $\Sigma = \{a,b,c,d\}$, begin with $a$, contain at least one $b$ and end with $cd$.
\end{prb}

\begin{prb}\label{prob:L8}
Let $\Sigma = \{1,2,3,4\}$.  Construct an FSA $M_8$ that will answer the question, ``Does $w \in \Sigma^*$ begin with $12$, contain exactly four $3$'s, and end with~$4$?''
\end{prb}

\begin{dfn}
If $a$ is a character in our input alphabet and $n$ is a positive integer, then $a^n$ is the string consisting of $a$ repeated $n$ times. I.e. $a^3=aaa.$
\end{dfn}

\begin{prb}
Let $\Sigma = \{a,b\}.$  Draw an FSA $M_{9}$ that recognizes the language $L_{9} = \{a^nb^n \mid n = 1, 2, 3 \}$.
\end{prb}

\begin{prb}
Are the commas in Problem \ref{prob:L10} necessary?
\begin{annotation}
\endnote{This always leads to an interesting discussion about the importance of the careful use of grammar.  At some point, should not all students be convinced of the necessity of the commas, I reduce the issue to a single question.  Is there a difference between ``Let's eat, Grandma.'' and ``Let's eat Grandma.''?}
\end{annotation}
\end{prb}

\begin{prb}\label{prob:L10}
Construct an FSA $M_{10}$ that recognizes the language consisting of all strings that are either
\begin{enumerate}
\item a positive multiple of three Cs, followed by either an empty string or a string of As and Bs or
\item a positive multiple of two Ds, followed by either an empty string or a string of Bs and Cs.
\end{enumerate}
\end{prb}

\begin{prb}\label{L_=}
Let $\Sigma = \{a,b\}$.  Is there an FSA that will recognize the language $L = \{a^nb^n \mid n = 1,2,3,\dots\}$?  If so, draw it.  If not, why not?
\end{prb}



\section{Regular Expressions}

There is a compact and convenient notation to describe languages recognized by an FSA which tells, in a simple way, exactly what strings of $\Sigma^*$ the FSA accepts.  This notation is build recursively.
\begin{description}
   \item $\pmb \varnothing$ is the empty language with no strings.
   \item $\lda$ is the one string language $\{\lambda\}$, and
   \item $\mathbf{a}$ is the one string language $\{a\}$ for each $a\in \Sigma$.
\end{description}
\nin If $K$ and $L$ are each a language, then
\begin{description}
   \item $KL = \{uv \mid u\in K \mbox{ and } v\in L\}$, the \textbf{concatenation} of $K$ and $L$,
   \item $K\cup L = \{w \in \Sigma^* \mid w\in K \mbox{ or } w \in L\}$, the \textbf{union} of $K$ and $L$,
   \item $K^* = \{\lambda\} \cup\{w\in \Sigma^* \mid w=u_1u_2\dots u_n \mbox{ for some } u_1, u_2, \dots u_n \in L\}$, the \textbf{Kleene star} of~$L$.
 \end{description}
\nin For example, the  language described in Example~\ref{ex:L3} is $$L_3 = \ba\bb(\ba\cup \bb\cup \bc)^*\bc.$$ Expressions like this are called \textbf{regular expressions}.


\begin{prb}
Find a regular expression for the language $L_4$ described in Problem~\ref{prob:L4}.
\end{prb}

\begin{prb}
Find a regular expression for the language $L_5$, where $M_5$ is the FSA drawn in Figure~\ref{fig:M5}.
\end{prb}

%added these two matching problems to parallel problems added above
\begin{prb}
Find a regular expression for the language $L_6$ described in Problem~\ref{prob:L6}.
\end{prb}

\begin{prb}
Find a regular expression for the language $L_7$ described in Problem~\ref{prob:L7}.
\end{prb}

\begin{prb}
Find a regular expression for the language $L_8$ described in Problem~\ref{prob:L8}.
\end{prb}

\begin{prb}
Find a regular expression for the language $L_{10}$ described in Problem~\ref{prob:L10}.
\end{prb}

\begin{prb}\label{prob:REG2FSA}
Draw a transition diagram for an FSA that recognizes the language $(\ba\bb\ba)^*(\bd\bd\bd)(\bb\cup \be)^*$.
\end{prb}

\begin{prb}\label{prob:union}
Consider FSAs $M_1 = \langle \Sigma,Q_1,s_1,Y_1,\delta_1\rangle$ recognizing language $L_1$ and $M_2 = \langle \Sigma,Q_2,s_2,Y_2,\delta_2\rangle$ recognizing language $L_2$.   Tell how to use $M_1$ and $M_2$ to design an FSA $M$ that will recognize $L_1\cup L_2$.   $($\emph{HINT}: Try using $Q=Q_1\times Q_2$ for the states of $M$.$)$
\end{prb}

The direct product construction $Q = Q_1\times Q_2$ tends to produce an FSA with an excessively large number of states.  In practice most of these states are unusable and superfluous since they can not be reached from the start state.  A practical way to construct the transition diagram for the FSA $M$ in Problem~\ref{prob:union} is to begin with the start state and add in only those states than can be reached by successive transitions from the start state.  Try this in the following extension of Problem~\ref{prob:REG2FSA}.

\begin{prb}
Draw a transition diagram for an FSA that recognizes the language
\[
 (\ba\bb\ba)^*(\bd\bd\bd)(\bb\cup \be)^* \cup \ba^*(\bd^*\cup \bc^*).
\]
%DMC:  This problem comes from Chapter 10, where it is no longer needed.
\end{prb}

These problems suggest an important theorem about languages which says that a language is recognized by some finite state acceptor if and only if it can be represented by a regular expression.



\section{Project:  Reversed Strings and Palindromes}

\begin{dfn}\label{w^R}
If\/ $w\in \Sigma^*$, we define $w^R\in \Sigma^*$ recursively as follows.
\begin{enumerate}
\item $\lambda^R = \lambda$ and $a^R = a$ for all $a\in \Sigma$.
\item If\/ $w = av$ where $a\in \Sigma$ and $v\in \Sigma^*$, then $w^R = v^Ra$.
\end{enumerate}
\end{dfn}

\begin{prb}
Use Definition~\ref{w^R} to compute $w^R$ if\/ $w=pots$.  What is $w^R$ if\/ $w = scitamehtametercsid$?
\end{prb}

\begin{prb}
Let $\Sigma =\{a,b\}$.  List all the strings in the finite language $L = \{w \in \Sigma^* \mid w = uu^Ru \mbox{ for some } u\in \Sigma \Sigma\}$, remembering that $\Sigma \Sigma$ is the concatenation of $\Sigma$ with itself.
\end{prb}

\begin{prb}
Let $\Sigma =\{a,b\}$.  Describe a method to generate all of the strings in the language $L = \{w \in \Sigma^* \mid www = uu  \mbox{ for some } u \in \Sigma^*\}$, and explain why your method is correct.
\end{prb}

\begin{prb}
Let $\Sigma =\{a,b\}$ and $L = \{w \in \Sigma^* \mid w^Rw = ww^R\}$.  Give examples of two strings in $L$ and two strings not in $L$. Describe the strings of $L$ in English.
\end{prb}

\begin{dfn}
A string $w \in \Sigma^*$ is a \textbf{palindrome} if $w^R = w$.
\end{dfn}

\noindent For example, A, EYE, NOON, CIVIC and MADAM are all palindromes.

\begin{prb}
Prove by induction on the length $|u|$ of the string $u\in \Sigma^*$ that, for all $v\in \Sigma^*$, we have $(uv)^R = v^Ru^R$.
\end{prb}

\begin{prb}
Let $u\in \Sigma^*$ and $b \in \Sigma$.  Show that $uu^R$ and $ubu^R$ are both palindromes.
\end{prb}

\noindent In fact, these are the only palindromes!

\begin{prb} \label{even odd}
Let $w\in \Sigma^*$.
\begin{enumerate}
   \item[\rm{(i)}]  If $|w|$ is even, show that $w$ is a palindrome if and only if there is a $u\in \Sigma^*$ such that $w = uu^R$.
    \item[\rm{(ii)}]  If $|w|$ is odd, show that $w$ is a palindrome if and only if there are a $b\in \Sigma$ and a $u\in \Sigma^*$ such that $w = ubu^R$.
\end{enumerate}
\end{prb}

\begin{prb}
Below is a list of palindromes.  Referring to Problem~\ref{even odd} tell, for each one, what $u$ is if the palindrome has even length and what $u$ and $b$ are if it has odd length.

I PREFER PI

A TOYOTAS A TOYOTA

DO GEESE SEE GOD

WAS IT A CAR OR A CAT I SAW

AL LETS DELLA CALL ED STELLA

RATS LIVE ON NO EVIL STAR

DID HANNAH SEE BEES HANNAH DID

IN WORD SALAD ALAS DROWN I

\end{prb}



\chapter{Machine Minimization}

When writing a computer program or mathematical proof, the first goal is to create one that works.   The second goal is to make it as simple as possible. The simpler a program or proof is, the easier it is to be certain that it really does work.  The simpler it is, the easier it is to maintain and modify.

The finite state acceptor model for computing machines gives us a context in which this simplification can be fully realized.  In this chapter we will see how, given a finite state acceptor, we can construct a new finite state acceptor of minimal complexity that recognizes exactly the same language.  This work will lead to a very useful test to tell whether or not a given language is recognized by some FSA.

In general it is difficult to measure the complexity of a computer program or mathematical proof.  A short program or proof can utilize complex logic while a long program or proof can be straightforward and even repetitive.  In the case of a finite state acceptor $M = \langle \Sigma, Q,s,\delta,Y\rangle$, the \textbf{number of internal states}, $|Q|$, provides us with a useful measure of the complexity of~$M$.  Our goal is to find a method to generate from an FSA $M$ recognizing a language $L$, a new FSA $M'$ such that
\begin{enumerate}
\item $M'$ also recognizes $L$ and
\item no other FSA $N$ that recognizes $L$ has fewer states than $M'$.
\end{enumerate}
Such an FSA $M'$ is called a \textbf{minimal} FSA.  To see an example of a minimal FSA, let $L_0$ be the language recognized by the FSA $M_0$ in Figure~\ref{fsaM0}.

%420p35.tex
\begin{figure}
\setlength{\unitlength}{1mm}
\begin{picture}(100,45)(20,-10)

%circles
\put(35,5){\circle{6}} \put(65,5){\circle{6}}
\put(95,5){\circle{6}} \put(125,5){\circle{6}}
\put(35,25){\circle{6}} \put(65,25){\circle{6}}
\put(65,25){\circle{7}} \put(95,25){\circle{6}}
\put(125,25){\circle{6}} \put(125,25){\circle{7}}
%straight lines
\put(40,5){\line(1,0){20}} \put(70,5){\line(1,0){20}}
\put(100,5){\line(1,0){20}} \put(40,25){\line(1,0){20}}
\put(70,25){\line(1,0){20}} \put(100,25){\line(1,0){20}}
\put(35.5,10){\line(0,1){10}} \put(65.5,10){\line(0,1){10}}
\put(95.5,10){\line(0,1){10}} \put(125.5,10){\line(0,1){10}}
%curved lines
\qbezier(93,0)(93,-5)(95,-5) \qbezier(95,-5)(97,-5)(97,0)
%letters
\put(34,4){q} \put(64,4){x} \put(94,4){z} \put(124,4){w}
\put(34,24){p} \put(64,24){s} \put(94,24){u} \put(124,24){v}
\put(60,31){START}
%numbers
\put(50,1){0} \put(80,1){0} \put(110,1){0} \put(50,26){1}
\put(80,26){0} \put(110,26){0} \put(32,14){0} \put(62,14){1}
\put(92,14){1} \put(126,14){1} \put(96,-9){0,1}
%arrowheads
\put(58,4){$\blacktriangleright$}
\put(58,24){$\blacktriangleright$}
\put(88,4){$\blacktriangleright$}
\put(88,24){$\blacktriangleright$}
\put(118,24){$\blacktriangleright$}
\put(99,24){$\blacktriangleleft$} \put(99,4){$\blacktriangleleft$}
\put(34,9){$\blacktriangledown$} \put(64,9){$\blacktriangledown$}
\put(94,9){$\blacktriangledown$} \put(124,9){$\blacktriangledown$}
\put(34,18){$\blacktriangle$} \put(64,18){$\blacktriangle$}
\put(124,18){$\blacktriangle$} \put(96,-1){$\blacktriangle$}
\end{picture}
\caption{A Finite State Acceptor, $M_0$.}
\label{fsaM0}
\end{figure}

%WTM note to self -- this is example of fragile annotation environment for Paul to sort out -- if we remove the return before the \end{annotation} and bring it up to the previous line, then the document will not compile
\begin{prb}
\label{L0}
Note that $M_0$ has two accepting states, $s$ and $v$. Find a regular expression for the language $L_0$.\begin{annotation}
%D2.  Putting ''\begin{annotation} above instead of here avoids an unwanted space.
\endnote{The simplest solution is $(00\cup 11)^*$.}
\end{annotation}
\end{prb}


\begin{prb} \label{m0'}
Construct an FSA $M_0'$ that also recognizes $L_0$ but has only 4 states, one of which will be a dead state.
\end{prb}

\begin{prb}\label{4states}
Let $N_0$ be any FSA that recognizes $L_0$ and let $s'$ be its start state. Explain why $s'$, $\delta(s',0)$, $\delta(s',1)$ and $\delta^*(s',10)=\delta(\delta(s',1),0)$ must all be distinct states.
\end{prb}

You have just shown that any FSA $N_0$ that recognizes $L_0$ has at least as many states as $M_0'$ that you constructed in Problem \ref{m0'}.  Thus your FSA $M'_0$ is a minimal FSA for $M_0$ in Figure \ref{fsaM0}.  Our goal is to find a general procedure that will produce, from any FSA $M$, a minimal FSA $M'$ that recognizes the same language as $M$.

\begin{dfn}
Given strings $u,v\in \Sigma^*$, the \textbf{concatenation} of $u$ and $v$ is the string $w = uv$ formed by tacking $v$ onto the end of $u$.  We say that $u$ is a \textbf{prefix} of $w$ and that $v$ is a \textbf{suffix} of~$w$.
\end{dfn}

\begin{dfn}
Let $L \subseteq \Sigma^*$ be a language and $w \in \Sigma^*$. We define
the \textbf{right-set} for $w$ to be $R_w = \{z\in \Sigma^* \mid wz\in L\}$.
\end{dfn}

\begin{prb}\label{right-sets}
Using the regular expression you found in Problem \ref{L0} for $L_0$, find a regular expression for each of these right-sets.
\[
R_0\quad R_{001}\quad  R_{00110}\quad  R_{0011011}\quad  R_{10}\quad   R_{11}\quad  R_{110000111}\quad  R_{0011}
\]
\end{prb}

\begin{dfn}
Let\/ $L \subseteq \Sigma^*$ be a language.  If\/ $x,y \in \Sigma^*$, then we write $x\equiv_L y$ if\/ $R_x = R_y$.
\end{dfn}

\begin{prb}
Show that if\/ $L \subseteq \Sigma^*$ is any language, then $\equiv_L$ is an equivalence relation on $\Sigma^*$.
\end{prb}

\noindent Note that $w$ is not a prefix of any string in $L$ if and only if $R_w = \emptyset$.  Thus the set of all strings that are not a prefix of any member of $L$ is an $\equiv_L$-class.  We denote the $\equiv_L$-class by $Z(L)$, the set of strings whose right-set is empty.

\begin{prb}
Referring to Problem \ref{right-sets}, tell which of the strings 0, 001, 00110, 0011011, 10, 11, 110000111, 0011 are $\equiv_{L_0}$-equivalent.
\end{prb}

%DMC  I've omitted this problem.  What really should be asked for is a regular expression for the set.  But that is just obtained by replacing L_0 with the regular expression for L_0 in the first four.
\begin{comment}
\begin{prb}
In Problem \ref{L0} you computed $L_0$. Describe each of these sets.
\begin{enumerate}
\item $0L_0 = \{0u \mid u\in L_0\}$
\item $L_00 = \{u0 \mid u\in L_0\}$
\item $1L_0 = \{1u \mid u\in L_0\}$
\item $L_01 = \{u1 \mid u\in L_0\}$
\item $[0]$
\item $[11]$
\end{enumerate}
\end{prb}
\end{comment}

\begin{comment}
For each $w\in\{0,1\}^*$, the right-set $R_w$ is either $L_0$, $0L_0$, $1L_0$  or $\emptyset$.

%DMC  I don't see how this statement can be made without any justification.  I think the preceding problem makes it easy to give a justification, which I have added.
\end{comment}

\begin{prb} \label{4classes}
Let $T = \{\lambda, 0,1,01\}$.
\begin{enumerate}
   \item Show that no two strings in $T$ are $\equiv_{L_0}$-equivalent.
   \item Explain why every string $w\in \{0,1\}^*$ is $\equiv_{L_0}$-equivalent to some string in~$T$.
\end{enumerate}
\end{prb}

Problem~\ref{4classes} shows that there are exactly four different $\equiv_{L_0}$--classes:
\[
[\lambda] = L_0 \quad [0] = L_00 \quad [1] = L_01 \quad [01] = \Sigma^*\sim(L_0\cup L_00\cup L_01) = Z(L_0).
\]
If any member of $L_00$ is extended on the right by adding a 0, the result is always a
string in $L_0$.  If any member of $L_00$ is extended on the right with a
1 instead, we get a string in $Z(L_0)$.  These facts are summarized in Figure~\ref{ffssaa2}.

\begin{figure}
\setlength{\unitlength}{1mm}
\begin{picture}(110,40)(20,0)

%letters
\put(59,30){$L_0$} \put(58,10){$L_00$}
\put(100,30){$L_01$} \put(102,10){$Z(L_0)$}
%straight lines
\put(66,31){\line(1,0){30}} \put(66,11){\line(1,0){30}}
\put(60,15){\line(0,1){12}} \put(104,15){\line(0,1){12}}
%curved lines
\qbezier(113,13)(117,13)(117,11) \qbezier(117,11)(117,9)(113,9)
%numbers
\put(81,32){1} \put(81,7){1} \put(57,21){0} \put(105,21){0}
\put(118,10){0,1}
%arrowheads
\put(65,30){$\blacktriangleleft$}
\put(95,30){$\blacktriangleright$}
\put(95,10){$\blacktriangleright$}
\put(59,14){$\blacktriangledown$} \put(59,26){$\blacktriangle$}
\put(103,14){$\blacktriangledown$}
\put(112,12){$\blacktriangleleft$}
\end{picture}
\caption{A Minimal Finite State Acceptor}
\label{ffssaa2}
\end{figure}

Since $\lambda\in L_0$, we can take any string $w\in \{0,1\}^*$ and find which
$\equiv_{L_0}$-class $w$ is in by tracing the diagram, building $w$ by starting with $\lambda$ in $L_0$ and successively adding 0s or 1s on the right until we have $w$.  Our ending point will be the $\equiv_{L_0}$--class of $w$.  If we land in $L_0$, then $w\in L_0$; otherwise $w \notin L_0$.  What we have done is to find a systematic way to build an FSA for the language~$L_0$ using the $\equiv_{L_0}$-classes as internal states.  In fact, according to Problem~\ref{4states}, this is a minimal FSA to recognize $L_0$!

We would like to use the same procedure to construct from other languages $L$ a minimal FSA $M_L = \langle \Sigma, Q, s, Y, \delta \rangle$ that recognizes~$L$.  Since we are using the $\equiv_L$-classes of $\Sigma^*$ as states, this procedure could only be used for languages $L$ with finitely many $\equiv_L$ classes.  The FSA $M_L$ is called the \textbf{standard} $FSA$ for $L$.  We summarize the construction of $M_L$ from $L$ as follows.
\begin{enumerate}
   \item Compute enough right-sets to determine the distinct $\equiv_L$-classes.  If there are only finitely many $\equiv_L$-classes, we will take them to be the set $Q$ of internal states for $M_L$.
   \item Let $s = [\lambda]$, the $\equiv_L$-class of the empty string.
   \item Let $Y = \{[x] \mid x\in L\}$, the $\equiv_L$-classes of members of $L$. (This set is unambiguously defined since you can check that, for all $x,y\in \Sigma^*$, if $x\in L$ and $x\equiv_L y$, then $y\in L$).
   \item Let $\delta([x],a) = [ax]$. (This $\equiv_L$-class is unambiguously defined since you can check that, for all $x,y\in \Sigma^*$ and $a\in \Sigma$, if $x\equiv_L y$, then $xa \equiv_L ya$).
\end{enumerate}

Show that each of the following languages $L$ has only finitely many $\equiv_L$-classes and then construct its standard FSA.

\begin{prb}
$L = 0^*1^*2^*$
\end{prb}

\begin{prb}
$L = 00(1^*\cup 2^*)$
\end{prb}

\begin{prb}
$L = (1^*\cup 2^*)00$
\end{prb}

\begin{prb}
$L = 111\cup(020)^*$
\end{prb}

\begin{prb}
$L = (111)^*1$
\end{prb}

Can we repeat this construction with any language $L$, using the $\equiv_L$--classes to find an FSA for $L$?  Obviously, we cannot use the $\equiv_L$--classes as states of a \emph{finite} state acceptor if there are infinitely many of them!   The following example shows that the set of $\equiv_L$-classes is not always finite.

\begin{prb}
\label{5.3}
Let $L_= =\{a^nb^n \mid n=1,2,3,\dots\}$.  Show that there are infinitely many $\equiv_{L_=}$--classes by making an infinite list of strings, no two of which are equivalent by $\equiv_{L_=}$.
\end{prb}

\nin  We will show that, if the set of $\equiv_L$--classes is finite, then this construction will \emph{always} produce a minimal FSA for the language~$L$.
\medskip

\noindent\textbf{Standard FSA Theorem.}
Let $L\subseteq \Sigma^*$ be a language such that $\Sigma^*$ has only finitely many different $\equiv_L$--classes.  Then the standard FSA $M_L$  recognizes~$L$.\medskip

\begin{prb}
To prove this theorem we need to see which strings $w$ are accepted by $M_L$, that is, when $\delta^*(s,w)$ is in~$Y$.  Use Mathematical Induction to show that, if $w$ has length $m$, then $\delta^*(s,w) = [w]$.  It will follow that $\delta^*(s,w)\in Y$ if and only if $w\in L$, so $M_L$ recognizes $L$.
\end{prb}

Our goal was to start with an FSA $M$ recognizing a language $L$, and produce a minimal FSA $M'$ that also recognizes~$L$.  If it happens that there are only finitely many $\equiv_L$-classes, then we could try using the standard FSA for $L$.  Conveniently, it will turn out that this strategy works for every FSA $M$!   To see why, consider an arbitrary FSA $N = \langle \Sigma, Q,s,\delta,Y \rangle$ which recognizes $L$.  We now define a second equivalence relation on $\Sigma^*$, this one \emph{based on the machine} $N$.  For $x,y\in \Sigma^*$, we say that
\[
x\equiv_{N} y \quad\text{if}\quad \delta^*(s,x)=\delta^*(s,y).
\]
Thus two strings are equivalent if $N$ lands in the same state reading
one as reading the other.  A state $q$ of $N$ is said to be
\textbf{accessible} if there is \emph{some} string $x$ such that
$\delta^*(s,x) = q$, that is, $N$ can reach $q$ from the start state.  For
each accessible state $q$ we have a distinct $\equiv_{N}$--class
\[
K_q = \{x\in \Sigma^* \mid \delta^*(s,x) = q\}.
\]

\noindent\textbf{Minimal FSA Theorem. }  {\sl If\/ $L$ is a language recognized by some FSA,   then $\Sigma^*$ has only finitely many $\equiv_L$-classes and the standard FSA $M_L$ is a minimal FSA that recognizes~$L$.  }
\medskip

\noindent \textsf{Proof.}   Let $N$ be any FSA that recognizes $L$ and let $q_1, q_2,\dots,q_n$ be a list of the accessible states of $N$.  Then $K_{q_1}, K_{q_2},\dots, K_{q_n}$ is a list of all of the $\equiv_{N}$--classes.  We will show that the number of $\equiv_L$-classes in $\Sigma^*$ is no more than~$n$.   We will do this by showing that each $\equiv_{L}$--class is a union of $\equiv_N$--classes.  (This fact is sometimes stated by saying that the partition induced by $\equiv_{N}$ is a \textbf{refinement} of the partition induced by $\equiv_L$.)

Let $x\equiv_N y$.  We must show that $x\equiv_L y$.  Since $x\equiv_N y$, we have, for all $z\in \Sigma^*$, that $\delta^*(s,x) =\delta^*(s,y)$ and consequently $$ \delta^*(s,xz) = \delta^*(\delta^*(s,x),z) = \delta^*(\delta^*(s,y),z) = \delta^*(s,yz). $$ Thus $\delta^*(s,xz)\in Y$ if and only it $\delta^*(s,yz)\in Y$, and therefore $xz\in L$ if and only if $yz\in L$.  But this tells us that $x\equiv_L y$, so $\Sigma^*$ has at most $n$ different $\equiv_L$-classes.

Recall that $N$ was chosen as an arbitrary FSA recognizing $L$.  Since $N$ has at least $n$ states and the standard FSA $M_L$ has at most $n$ states (the $\equiv_L$-classes), we see that $M_L$ is a minimal FSA that recognizes~$L$.
\qed
\medskip

Our original finite state acceptor $M_0$ for $L_0$ (Figure~\ref{fsaM0}), for example, has six accessible states $s, u, v, w, z$ and $x$ which give us a partition of each of the $\equiv_{L_0}$--classes into $\equiv_{M_0}$--classes: $L_0 = K_s \cup K_v$, $L_01= K_x \cup K_w$, $L_00= K_u$ and $Z(L_0)= K_z$.


\begin{figure}
\setlength{\unitlength}{1mm}

\begin{picture}(130,35)
\put(-20,-8){
%circles
\put(40,40){\circle{6}} \put(40,40){\circle{7}}
\put(60,40){\circle{6}} \put(80,40){\circle{6}}
\put(100,40){\circle{6}} \put(100,40){\circle{7}}
\put(120,40){\circle{6}} \put(40,9){\circle{6}}
\put(80,9){\circle{6}} \put(100,9){\circle{6}}
\put(100,9){\circle{7}} \put(120,9){\circle{6}}
%straight lines
\put(45,40){\line(1,0){10}} \put(65,40){\line(1,0){10}}
\put(85,40){\line(1,0){9}} \put(106,40){\line(1,0){9}}
\put(85,9){\line(1,0){9}} \put(106,9){\line(1,0){9}}
\put(40,14){\line(0,1){20}} \put(80,14){\line(0,1){20}}
\put(120,14){\line(0,1){20}}
%letters
\put(39,39){s} \put(59,39){t} \put(79,39){u} \put(99,39){v}
\put(119,39){w} \put(39,8){r} \put(79,8){z} \put(99,8){y}
\put(119,8){x} \put(59,8){$M_1$}
%numbers
\put(50,41){1} \put(69,41){1} \put(89,41){1} \put(110,41){1}
\put(37,21){1} \put(77,21){1} \put(121,21){1} \put(90,5){1}
\put(110,5){1}
%arrowheads
\put(54,39){$\blacktriangleright$}
\put(74,39){$\blacktriangleright$}
\put(93,39){$\blacktriangleright$}
\put(114,39){$\blacktriangleright$}
\put(119,13){$\blacktriangledown$}
\put(105,8){$\blacktriangleleft$} \put(84,8){$\blacktriangleleft$}
\put(79,33){$\blacktriangle$} \put(39,33){$\blacktriangle$}}
\end{picture}
\caption{FSA $M_1$ for $L_1 = (111)^*1$}
\label{figM1}
\end{figure}


\begin{prb}
Figure \ref{figM1} is an FSA $M_1$ for the language $L_1 = (111)^*1$.  Find a regular expression for each $\equiv_{M_1}$--class:  $K_r$, $K_s$, $K_t$, $K_u$, $K_v$, $K_w$, $K_x$, $K_y$ and~$K_z$.
\end{prb}

\begin{prb}
Express each $\equiv_{L_1}$--class as a union of $\equiv_{M_1}$--classes, thereby illustrating the proof that $M_1$ must have at least as many states as there are $\equiv_{L_1}$--classes.
\end{prb}

\begin{prb}
Construct the minimal FSA $M_1$ for $L_1$ from the $\equiv_{L_1}$-classes.
\end{prb}
\bigskip

As a byproduct of our minimization work, we can now extract a convenient test to tell whether or not a given language is recognized by some FSA.  Relative to a fixed choice of $\Sigma$, we denote by $\FSA$ the set of all languages $L \subseteq \Sigma^*$ that are recognized by some FSA.

\msk

\noindent\textbf{$\FSA$ Theorem.}  {\sl A language $L\subseteq \Sigma^*$ is in\/ $\FSA$ if and only if the set of $\equiv_L$--classes in\/ $\Sigma^*$ is finite.}
\msk


\begin{prb}
Use the Standard FSA Theorem and the Minimal FSA theorem to prove the $\FSA$ Theorem.
\end{prb}
%\noindent\textsf{Proof.} If $L\in \FSA$, then the Minimal FSA Theorem tells us that the set of $\equiv_L$--classes is finite.  If the set of $\equiv_L$--classes is finite, then the Standard FSA Theorem shows us how to construct the standard FSA $M_L$ for $L$. \qed

\noindent For example, this theorem tells us for certain that the language $L_=$ in Problem \ref{5.3}  is \emph{not} recognized by any FSA because there are infinitely many $\equiv_{L_=}$--classes.
For the next four problems, demonstrate that the given language $L$ is not in $\FSA$.

\begin{prb}
$L = \{0^n10^n\mid n=1,2,3,\dots\}$
\end{prb}

\begin{prb}
$L = \{wcw\mid w\in \{a,b\}^*\}$
\end{prb}

\begin{prb}
$L_{re}$ is the set of regular expressions over the alphabet $\{a,b,c\}$.
\end{prb}

\begin{prb}
$L\subseteq \{a,b\}^*$ is the set of strings $w$ containing the same number of $a$'s as $b$'s.
\end{prb}


\backmatter

\begin{annotation}
\chapter{Notes to the Instructor}

\renewcommand\notesname{}
\vspace{-2cm}
\begingroup
\setlength{\parskip}{2ex}
\renewcommand{\enotesize}{\normalsize}
\theendnotes
\endgroup
\end{annotation}

\vspace{.1in}

%You can also add any text you want here.

%%%%%%%%%%%%%%%%%%%%%%%%%%%END REMOVAL {5} %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\end{document}

